(this.webpackJsonpcaravan=this.webpackJsonpcaravan||[]).push([[0],{1071:function(e,t,n){"use strict";(function(e){var a=n(38),r=n(0),i=n.n(r),c=n(6),o=n(126),s=n(100),u=n(199),l=n(293),d=n(157),p=n.n(d),f=n(20),A=n(57),b=n(226),m=n(32);t.a=Object(f.b)((function(e){return{walletName:e.wallet.common.walletName}}),{})((function(t){var n=t.signatureImporter,d=t.network,f=t.inputs,h=t.outputs,E=t.walletName,g=t.validateAndSetSignature,v=t.resetBIP32Path,y=t.enableChangeMethod,P=t.disableChangeMethod,S=function(){var e=f.map((function(e){return"undefined"===typeof e.bip32Path?n.bip32Path:"".concat(n.bip32Path).concat(e.bip32Path.slice(1))}));return Object(c.SignMultisigTransaction)({keystore:c.KEYSTONE,network:d,inputs:f,outputs:h,bip32Paths:e})},I=Object(r.useState)(""),O=Object(a.a)(I,2),T=O[0],w=O[1],x=Object(r.useState)(S().isSupported?c.PENDING:c.UNSUPPORTED),C=Object(a.a)(x,1)[0],k=S();return C===c.UNSUPPORTED?i.a.createElement(A.a,{messages:k.messagesFor({state:C}),excludeCodes:["keystone.signature_request"]}):i.a.createElement(o.a,{mt:2},i.a.createElement(o.a,{mt:2},i.a.createElement(s.a,{container:!0,spacing:2},i.a.createElement(s.a,{item:!0},i.a.createElement(b.a,{data:k.request(),startText:"Show Transaction QRCode"})),i.a.createElement(s.a,{item:!0},i.a.createElement(u.a,{onClick:function(){var t=e.from(S().request(),"hex"),n=p()().format("HHmm"),a="".concat(n,"-").concat(E,".psbt");Object(m.a)(t,a)},variant:"outlined"},"Export Transaction"))),i.a.createElement(b.b,{qrStartText:"Scan Signature QR Code",fileStartText:"Upload Signed PSBT",interaction:k,onStart:P,onSuccess:function(e){var t=Object.values(e).reduce((function(e,t){return e.concat(t)}),[]);w(""),y(),g(t,(function(e){w(e)}))},onClear:function(){v(),w(""),y()},showFileReader:!1,shouldShowFileReader:!0,fileType:"psbt"}),i.a.createElement(A.a,{messages:k.messagesFor({state:C}),excludeCodes:["keystone.signature_request"]}),i.a.createElement(l.a,{error:!0},T)))}))}).call(this,n(8).Buffer)},1072:function(e,t,n){"use strict";(function(e){var a=n(199),r=n(0),i=n.n(r),c=function(t){var n=t.startText,r=t.interaction,c=t.handleSuccess,o=t.handleError,s=t.fileType,u=t.disable,l="json"===s?"application/json":".psbt";return i.a.createElement("label",{htmlFor:"upload-keystone-xpub"},!u&&i.a.createElement("input",{style:{display:"none"},id:"upload-keystone-xpub",name:"upload-keystone-xpub",accept:l,onChange:function(t){var n=t.target;try{"json"===s?function(e){var t=new FileReader;t.readAsText(e),t.onload=function(e){var t=e.target.result,n=r.parseFile(t).result;c(n)}}(n.files[0]):function(t){var n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(t){var n=t.target.result,a=r.parseFile(e.from(n).toString("hex")).result;c(a)}}(n.files[0])}catch(a){o(a)}},type:"file"}),i.a.createElement(a.a,{variant:"contained",color:"primary",component:"span",disabled:u},n))};c.defaultProps={disable:!1},t.a=c}).call(this,n(8).Buffer)},1078:function(e,t,n){"use strict";(function(e){var a=n(0),r=n.n(a),i=n(100),c=n(199),o=n(75),s=n(226),u=n(547);t.a=function(t){var n=t.onClearFn,a=t.onDownloadFn,l=t.shouldRenderURButton,d=t.walletDetailsText,p=t.KeystoneWalletVerifyCode;return r.a.createElement(i.a,{container:!0,spacing:2},r.a.createElement(i.a,{item:!0},r.a.createElement(c.a,{variant:"contained",color:"primary",onClick:a},"Download Wallet Details")),l&&r.a.createElement(i.a,{item:!0},r.a.createElement(s.c,{data:e.from(d,"utf-8").toString("hex"),title:"Scan the QR Code using Keystone",renderDescription:function(){return r.a.createElement(u.a,{verifyCode:p})},startText:"Show Wallet For Keystone"})),r.a.createElement(i.a,{item:!0},r.a.createElement(c.a,{onClick:function(e){return function(e){e.preventDefault(),sessionStorage&&sessionStorage.removeItem(o.a),n(e)}(e)},variant:"contained",color:"secondary"},"Clear Wallet")))}}).call(this,n(8).Buffer)},1080:function(e,t,n){"use strict";(function(e){var a=n(124),r=n(0),i=n.n(r),c=n(528),o=n(9),s=n(538),u=n(1742),l=n(1743),d=n(1744),p=n(100),f=n(1091),A=n(199),b=n(714),m=n(1762),h=n(1763),E=n(1764),g=(n(224),n(75)),v=n(196),y=n(226),P=n(547),S=Object(c.a)((function(){return{card:{height:"100%",flexDirection:"column",display:"flex"},cardContent:{paddingTop:"0px",display:"flex",flex:1}}})),I=Object(o.a)({root:{"&.Mui-disabled":{pointerEvents:"auto"}}})(A.a),O=function(e){var t=e.tooltipText,n=e.disabled,r=e.onClick,c=Object(a.a)(e,["tooltipText","disabled","onClick"]),o={disabled:n,component:n?"div":void 0,onClick:n?void 0:r};return i.a.createElement(s.a,{title:t},i.a.createElement(I,Object.assign({},c,o)))},T=function(t){var n=t.addresses,a=t.client,r=t.handleRefresh,c=t.onClearConfig,o=t.onDownloadConfig,s=t.onImportAddresses,A=t.refreshing,I=t.walletActivated,T=t.walletDetailsText,w=t.KeystoneWalletVerifyCode,x=t.shouldShowWalletDetailURs,C=S();return i.a.createElement(u.a,{className:C.card},i.a.createElement(l.a,{title:"Wallet Actions"}),i.a.createElement(d.a,{className:C.cardContent},i.a.createElement(p.a,{container:!0,spacing:1,alignItems:"center",justify:"center"},i.a.createElement(p.a,{item:!0,xs:12},i.a.createElement(f.a,{variant:"outlined"},i.a.createElement(O,{tooltipText:"Force a refresh for latest wallet state and balance.",disabled:!I,onClick:r,startIcon:A?i.a.createElement(b.a,{size:24}):i.a.createElement(m.a,null)},"Refresh"),i.a.createElement(O,{tooltipText:"Download wallet configuration to local machine for backup. No security is lost with this, but access to this file provides anyone who has it information about balances.",onClick:o,disabled:!1,startIcon:i.a.createElement(h.a,null)},"Download Configuration"),i.a.createElement(O,{tooltipText:"Only clears the wallet config from browser sessions. Funds remain unaffected.",disabled:!I,startIcon:i.a.createElement(E.a,null),onClick:function(e){e.preventDefault(),sessionStorage&&sessionStorage.removeItem(g.a),c(e)}},"Clear Wallet"))),x&&i.a.createElement(p.a,{item:!0,xs:12},i.a.createElement(f.a,{variant:"outlined"},i.a.createElement(y.c,{buttonStyle:{variant:"outlined",color:"default",withIcon:!0},startText:"Show Wallet for Keystone",title:"Scan the QR Code using Keystone",renderDescription:function(){return i.a.createElement(P.a,{verifyCode:w})},data:e.from(T,"utf-8").toString("hex")}))),"private"===a.type&&I&&i.a.createElement(p.a,{item:!0},i.a.createElement(v.a,{addresses:n,client:a,importCallback:s})))))};T.defaultProps={walletActivated:!1,refreshing:!1,addresses:[]},t.a=T}).call(this,n(8).Buffer)},1085:function(e){e.exports=JSON.parse('{"a":"0.3.11"}')},1095:function(e,t,n){e.exports=n(1735)},1126:function(e,t){},1128:function(e,t){},1145:function(e,t){},1148:function(e,t){},1149:function(e,t){},115:function(e,t,n){"use strict";n.d(t,"g",(function(){return f})),n.d(t,"e",(function(){return A})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"c",(function(){return S}));var a=n(10),r=n.n(a),i=n(16),c=n(246),o=n.n(c),s=n(27),u=n.n(s),l=n(5);function d(e,t,n){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(r.a.mark((function e(t,n,a){var c,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>3&&void 0!==s[3]?s[3]:[],e.abrupt("return",new Promise(function(){var e=Object(i.a)(r.a.mark((function e(i,s){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o()(t,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},auth:n,data:{jsonrpc:"2.0",id:0,method:"".concat(a),params:c}}).then((function(e){return i(e.data)})).catch(s);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return e.response&&e.response.data&&e.response.data.error&&-4===e.response.data.error.code}function A(e){return{url:e.url,auth:{username:e.username,password:e.password}}}function b(e){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(r.a.mark((function e(t){var n,a,i,c,o,s,p,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.auth,i=t.address,c=t.addresses,e.prev=1,o=c||[i],e.next=5,d(n,a,"listunspent",[0,9999999,o]);case 5:return s=e.sent,p=[],s.result.forEach((function(e){p.push(d(n,a,"gettransaction",[e.txid]))})),e.next=10,Promise.all(p);case 10:return f=e.sent,e.abrupt("return",s.result.map((function(e,t){var n=new u.a(e.amount);return{confirmed:(e.confirmations||0)>0,txid:e.txid,index:e.vout,amount:n.toFixed(8),amountSats:Object(l.bitcoinsToSatoshis)(n),transactionHex:f[t].result.hex,time:f[t].result.blocktime}})));case 14:throw e.prev=14,e.t0=e.catch(1),console.error("There was a problem:",e.t0.message),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}function h(e){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(r.a.mark((function e(t){var n,a,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.auth,i=t.address,e.prev=1,e.next=4,d(n,a,"getreceivedbyaddress",[i]);case 4:if("undefined"!==typeof(c=e.sent).result){e.next=7;break}throw new Error("Error: invalid response from ".concat(n));case 7:return e.abrupt("return",{used:c.result>0});case 10:return e.prev=10,e.t0=e.catch(1),f(e.t0)?console.warn("Address ".concat(i," not found in bitcoind's wallet. Query failed.")):console.error(e.t0.message),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(r.a.mark((function e(t){var n,a,i,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.auth,i=t.numBlocks,c=void 0===i?2:i,e.next=3,d(n,a,"estimatesmartfee",[c]);case 3:return o=e.sent,s=o.result.feerate,e.abrupt("return",Math.ceil(1e5*s));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(r.a.mark((function e(t){var n,a,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.auth,i=t.hex,e.prev=1,e.next=4,d(n,a,"sendrawtransaction",[i]);case 4:return c=e.sent,e.abrupt("return",c.result);case 8:throw e.prev=8,e.t0=e.catch(1),console.log("send tx error",e.t0),e.t0.response&&e.t0.response.data.error.message||e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function S(e){var t=e.url,n=e.auth,a=e.addresses,r=e.label,i=e.rescan,c=[t,n,"importmulti",[a.map((function(e){return{scriptPubKey:{address:e},label:r,timestamp:0}})),{rescan:i}]];return i?(d.apply(void 0,c),new Promise((function(e){return e({result:[]})}))):d.apply(void 0,c)}},1233:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blockExplorerURL=i,t.blockExplorerAPIURL=function(e,t){return"".concat(r(t),"/api").concat(e)},t.blockExplorerTransactionURL=function(e,t){return i("/tx/".concat(e),t)},t.blockExplorerAddressURL=function(e,t){return i("/address/".concat(e),t)};var a=n(179);function r(e){return e===a.TESTNET?"https://blockstream.info/testnet":"https://blockstream.info"}function i(e,t){return"".concat(r(t)).concat(e)}},125:function(e,t,n){e.exports={feeMagicBtn:"styles_feeMagicBtn__QX0iX",utxoTxid:"styles_utxoTxid__1p6kt",outputsFormInput:"styles_outputsFormInput__3Osdm",unconfirmed:"styles_unconfirmed__3KzJ4",spent:"styles_spent__10i2F",outputsFormLabel:"styles_outputsFormLabel__NZOnp",maxSpend:"styles_maxSpend__32e8a"}},1256:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_FIXTURES=t.ROOT_FINGERPRINT=void 0,n(613),n(451),n(609),n(229),n(452),n(369),n(302),n(258),n(204),n(304);var a,r,i,c,o,s,u,l=(a=n(252))&&a.__esModule?a:{default:a},d=n(262),p=n(614),f=n(297),A=n(201),b=n(202),m=n(179),h=n(608);function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=(P(c={},m.TESTNET,(P(r={},f.P2SH,"2NE1LH35XT4YrdnEebk5oKMmRpGiYcUvpNR"),P(r,A.P2SH_P2WSH,"2NE1LH35XT4YrdnEebk5oKMmRpGiYcUvpNR"),P(r,b.P2WSH,"tb1q9hj5j7mh9f7t6cwdvz34nj6pyzva5ftj2ecarcdqph5wc3n49hyqchh3cg"),r)),P(c,m.MAINNET,(P(i={},f.P2SH,"3DRVz9YUhoXSMgBngvv2JkNReBHvkeJwLs"),P(i,A.P2SH_P2WSH,"3DRVz9YUhoXSMgBngvv2JkNReBHvkeJwLs"),P(i,b.P2WSH,"bc1qxkl8fcuas3fv6mk79tk7d0nsug0909qcgvpjuj2asgltnafp46nsn4jnrh"),i)),c),I=(P(u={},m.TESTNET,(P(o={},f.P2SH,"2NB3tTnpcUanDenNhWbXxymTJhheWtj5Mu1"),P(o,A.P2SH_P2WSH,"2MyCBSwFWSXpagqKtrnckNtNQBnKdUZRhKc"),P(o,b.P2WSH,"tb1qhjtyry0qwm5l6v5v7y27hc6m60vm0d8exlr3cswdrxsgaygqvd2q5zsl0n"),o)),P(u,m.MAINNET,(P(s={},f.P2SH,"36NMegVbRPbMv9RC4Ge2aKLUQHYXKbyooZ"),P(s,A.P2SH_P2WSH,"32M6VKsKw1X2EXFawpcHosMEhSxswLHRwX"),P(s,b.P2WSH,"bc1qnzky4hcwcutvktfstp0u3kmtgxkjvscl25snvg45xu3ausv2lapqrvmkeh"),s)),u);t.ROOT_FINGERPRINT="f57ec65d";var O={"m/45'/0'/0'":{pub:"0387cb4929c287665fbda011b1afbebb0e691a5ee11ee9a561fcd6adba266afe03",xpub:"xpub6CCHViYn5VzKFqrKjAzSSqP8XXSU5fEC6ZYSncX5pvSKoRLrPDcF8cEaZkrQvvnuwRUXeKVjoGmAqvbwVkNBFLaRiqcdVhWPyuShUrbcZsv",tpub:"tpubDCZv1xNTnmwmXe3BBMyXekiVreY853jFeC8k9AaEAqCDYi1ZTSTLH3uQonwCTRk9jL1SFu1cLNbDY76YtcDR8n2inSMwBEAdZs37EpYS9px",zpub:"zpub6qrp73tcNs5GxSEZPtZgs1a8sTjMxuDBvnatMQJrawC5ucyJtXwNNjYrcAmavk6kkhi99GgribUGcVq4w9CCqowdTX1UfX9NXMZzG2XWQdj",ypub:"ypub6X2YoPDhEBXo793SZXn4evUdhVav2HDh1g4fa1QyCvpCrXA5dsmokftiaxozvqSqM4bLPo6JFw7ijDDWDSnC3aG2bBK45cKtFdWLsUKgtyo",Ypub:"Ypub6hvdvcx8o96AXiCpWCF3UzpSRHdBEduHKwiLVGgWahecUhizQHA5qnkePfmUVGfjaXfKGP6R99WDrNqGWfw9C4NhReRTV1nt9MnDTNALmuh",Zpub:"Zpub72kuEHd3wpdeP1PwLZ2fh5uwbFmdBFtnF4EZGfaPxi2VXoYDewKeTrQnQsj4VBKezAn81rgybormjfSqENM9zJ4JHz7t4vcNR5qrqv8qja7",upub:"upub5DhVaiY2dTMshxGyE6dZpa6d1d18FoFhMDynSRqRguJge7uAdF7ZGRGAW8yewCq9iW87Pti4RHhXC4mFLf88rdXd7pXMjy3wAjFmK6jyHiX",vpub:"vpub5YXktPCwn8uMZFU64TRC2fC8Bb9aCRFCGLW1DpjK4ugZhDiPsuH7tUvJXLwEw7V589Ev9NJcsx455MNp4MY9esDDzADnKssRSTKQhgCrtoZ",Upub:"Upub5QbahxGUCQvF8XSMAm6YeeSRjR3PU9wHfVdTMh6y4g96GJU5PeVqMY86Jqw8Ve43wyC6GUiBJW62KEP1dtH617eHxHdm9NWw4TXdu1aWzdx",Jpub:"Vpub5jRr1cwPM6TiypdU17tArjXvuPBqQmvnac9g95zrSgWyKQHJeJfPybnEL3tiVYhyMcJu1xJjmASaCWzaMah6oMKtpdLBjHLRLBbHHcy3jDH",chaincode:"470bb034dbc8e7b5f5c0b19f747e3e768f0cc9ff298361b2741e1b7fd70d376d",parentFingerprint:1240308660,rootFingerprint:"f57ec65d",index:2147483648,depth:3},"m/45'/0'/0'/0":{pub:"03b32dc780fba98db25b4b72cf2b69da228f5e10ca6aa8f46eabe7f9fe22c994ee",xpub:"xpub6EW9kGJQLjEGWpuKjViLuEw3pkNX5k2DzXhM3ctfHawh12aLXnrzYuRcvwTfv2VD2a8uzFCDJfLnrrD9Z46NbLyPHUQbbb4QyxKjf6c1gh4",tpub:"tpubDEsnGW8641Bind6BBghS7AGR9sUB58XHYAHeQAwodVhakKF3c1i5hM6TAyYTSXSSpUfpbpi5qmAqZ2hkwuwcUnRgM59uH7ieZuv9RAEJ5Rp",chaincode:"4522d0dc37c97548c43adc8fbbe285eea27921e8437562574d13c013e85c0fd3",parentFingerprint:2213579839,rootFingerprint:"f57ec65d"},"m/45'/0'/0'/0/0":{pub:"03102f0df5e34ffa1178a5310952221b8e26b3e761a9e328832c750a2de252f21a",xpub:"xpub6FjSpitFpSJB9BpSVwp3eJzhpaQFLbLefD1f3qaGRmok2Z2FDeSNsy5CL9TLwM3HpcV2kAyTNf2W1uUXs1jbeXGWjdWnsaqnUQ9PyWAYVhQ",tpub:"tpubDG75LxhwXiFdQz1Hx8o8rEL59hVuKyqiCqbxQPdQmgZdmqgxHsHU2Qk2aBY8TqzXcX1wMkVKukrYi5y9FsaqXxiooEG6Z7W24MjojRNcVtA",chaincode:"4522d0dc37c97548c43adc8fbbe285eea27921e8437562574d13c013e85c0fd3",parentFingerprint:724365675,rootFingerprint:"f57ec65d"},"m/45'/1/0/0":{xpub:"tpubDE5K7wy1Mf254iUPx3CgMfzhx6EcaFCvYDiJb5DZxeod2tTgKsgNX89YVQ6uD9TkMgP6KbAHueWqgcCYUTdZXqTXuF9Vnha45Y26gCfno2G",extendedPublicKey:{base58String:"tpubDE5K7wy1Mf254iUPx3CgMfzhx6EcaFCvYDiJb5DZxeod2tTgKsgNX89YVQ6uD9TkMgP6KbAHueWqgcCYUTdZXqTXuF9Vnha45Y26gCfno2G",chaincode:"da92ac213968ea1a2c26dde7d83e556939519e5195c84120f3b803630c45194a",depth:4,index:0,parentFingerprint:384854823,path:"m/45'/1/0/0",pubkey:"0226a8fce14d91bd85b2b61bdc994e75975c9b443d02a0428a7c9755228f35cba9",rootFingerprint:"f57ec65d",version:"043587cf"}},"m/45'/1/1/0":{xpub:"tpubDF1iV6MkK9BUvumPzq1MHxVGPNy2fFo1pEpcgnkriBdiE9EVrkndpmsg8QQ12T9cwn82Kg8wRburB8Avnvo1AyBijcWrDS9SHHkyRXfxcSQ",extendedPublicKey:{base58String:"tpubDF1iV6MkK9BUvumPzq1MHxVGPNy2fFo1pEpcgnkriBdiE9EVrkndpmsg8QQ12T9cwn82Kg8wRburB8Avnvo1AyBijcWrDS9SHHkyRXfxcSQ",chaincode:"ff6e55a2ae1b0b14824a08130fc3029d3d193ee0c1eb922696d3658f641a0e2b",depth:4,index:0,parentFingerprint:2525848640,path:"m/45'/1/1/0",pubkey:"02ca80ff7fdc10be77b65da0b82cada1646f0c113e6cc10a5feb0dfb5d0487793e",rootFingerprint:"f57ec65d",version:"043587cf"}},"m/45'":{pub:"03c060f4c111a276807fc3a88966cc1d3a683eef9226a034ee2cd6982b478fa8e2",xpub:"xpub69h9wvon4GzP2S3cLmiBsNdznt29YXBk2TSyQueZsacKZyzMqMR1Fj5JwSiKu8agDRiLWPfw9gSChLW2Yfgpe4tzuhLUD2vFfGsfbtTA3r7",tpub:"tpubDA4nUAdTmYwqJEETnxhH5HyN817oXugoa63GmThiDVNDKGf4uaG6QAk9BUo7RdXv1LFF7yBognGFPWzdwXY4XWMHyJ5mtZaVFEU5MtMfj7H",rootFingerprint:"f57ec65d"},"m/45'/0":{pub:"02b04ac39b566b7353b5bf8e164be83bf90b090e7516170e88a8cb6c88a860f0a3",tpub:"tpubDBAj15fFkLimiBmDqapikSS4qkmvAS8LijMey9S9fAyjq65ERgjuzaa6GonVQXugcrBzfpEoH6SPBzevfowZgYJ3apWcHbMPaNJnBRkbsRY",rootFingerprint:"f57ec65d"},"m/45'/0/0":{xpub:"xpub6CsGPeBifUqr2szHmpFuNZ7Yd2ZnJtr95kPKu13LT96ZvTUthRsZbunhdyRp4HkQ93Gqr78mC9KEMVmGxcG6bFR4xT3GKpkdtgpr8T85JXP",rootFingerprint:"f57ec65d"},"m/45'/1/0":{pub:"036b5cfe4b7f29cb36e5261ad74f8a4f8602f77628e8d9d120f5580d3ccafaef74",tpub:"tpubDDhFRuipvJKBgPBDFooShZNtnkLwMkGDZXA1KBUd8xruQ8AA4QdZaiQYWj1hDpDW8r7va9D7GHeEp5ZzMsj5uDRX4s3hk4eQgJm8jMAqkLC",rootFingerprint:"f57ec65d"},"m/45'/0'/4'/99'/2147483647/3/1":{pub:"0211aa5c03e290dc0110103c3d3f817500e76061d35ea89072286cb6f7962eda81",xpub:"xpub6LCRwXBN9moqsJKhToW6K5qfBfTguMXuZw67q1BUuaWRyYD56P1zhqbyXsHqoo4WPsjUfeiJPu4JXnhtUz6cHbYgX6AFfDhUnPfCvbZD3JZ",tpub:"tpubDLa4Tm13s3mJ96WYuzVBX1B2WnZLtk2y7ZgRBZEdFVGKipsnAbs5rHGomuNdLJ1kBnGPHEEAvztMDyCVsqwrB2zyaguZLkMiNMFcgX4e2rG",rootFingerprint:"f57ec65d"},"m/45'/1'/0'/0/0":{pub:"037226e92491b2cf9691152fc2e9a0a7cff8f9ab7ad1b24b6f6506d7c8bf18911b",rootFingerprint:"f57ec65d"},"m/48'/0'/0'/1'/0/0":{pub:"02c63c7ae511c9902e885da3e2fbb4a8f227eefc7f53eda3cad4d8f9389331b5be",rootFingerprint:"f57ec65d"},"m/48'/1'/0'/1'/0/0":{pub:"03ff8a79f5016243a3959e2216e51cf90034cf510b379a34e6fdf565b19852baa2",rootFingerprint:"f57ec65d",Upub:"Upub5T4XUooQzDXL58NCHk8ZCw9BsRSLCtnyHeZEExAq1XdnBFXiXVrHFuvvmh3TnCR7XmKHxkwqdACv68z7QKT1vwru9L1SZSsw8B2fuBvtSa6",tpub:"tpubDKSvECbEtm6ZgXE7kmn2Sbr81JzJhDGVzz2Arnn86R5a3i42w2mxNoPHcA9MRPtS36zy5d4m7FWWiCrVY1fXJ9YvSjNMB4DJ2tRDifqJQmp"},"m/48'/0'/0'/2'/0/0":{pub:"032817ba5e2b76f6e2fab1d985224516f2b77a9c181e210def81ec2be8e17007c9",rootFingerprint:"f57ec65d"},"m/48'/1'/0'/2'/0/0":{pub:"03ecf349ecf63fcd0ece9de7eb1abfb8f8b243fecc443bd62ef47744f0f6b7eef6",rootFingerprint:"f57ec65d"},"m/45'/1'/0'":{xpub:"tpubDDQubdBx9cbs16zUhpiM135EpvjSbVz7SGJyGg4rvRVEYdncZy3Kzjg6NjuFWcShiCyNqviWTBiZPb25p4WcaLppVmAuiPMrkR1kahNoioL",rootFingerprint:"f57ec65d"},"m/45'/1'/100'":{xpub:"tpubDDQubdBx9cbwQtdcRTisKF7wVCwHgHewhU7wh77VzCi62Q9q81qyQeLoZjKWZ62FnQbWU8k7CuKo2A21pAWaFtPGDHP9WuhtAx4smcCxqn1",rootFingerprint:"f57ec65d",open_source:{base58String:"tpubDDQubdBx9cbwQtdcRTisKF7wVCwHgHewhU7wh77VzCi62Q9q81qyQeLoZjKWZ62FnQbWU8k7CuKo2A21pAWaFtPGDHP9WuhtAx4smcCxqn1",chaincode:"eabe09a77940dd3e125be81bc25fcf04c611544f431967531bea80b12f2e72d2",depth:3,index:2147483748,parentFingerprint:3168392141,path:"m/45'/1'/100'",pubkey:"02d419c2e37078468af97e07e240343a7e8691ef5dcca9fe59a7c774db9e6c4e62",rootFingerprint:"f57ec65d",version:"043587cf"},unchained:{base58String:"tpubDDinbKDXyddTUKcX6mv936Ux5utCJteq5S6EEKhfpM8CqN2rMAcccv6GecsB3cPt8eGL4e4K2eaZ9Jis9TGf7mbwBsRTN7ngnFR7yJZxBKC",chaincode:"1ade7f9d6099898d9851af05b488b94ad3ad4fcabab3970b8ee975fb0e33c517",depth:3,index:2147483748,parentFingerprint:3872018966,path:"m/45'/1'/100'",pubkey:"03b30cf103f4775c366cdc9394dc42b9cfa9d05eb02fd07a2f98a8b1b22d867fec",rootFingerprint:"00000001",version:"043587cf"}},"m/48'/1'/100'/1'":{xpub:"tpubDFc9Mm4tw6EkdXuk24MnQYRrDsdKEFh498vFffqa2KJmxytpcHbWrcFYwTKAdLxkSWpadzb5M5VVZ7PDAUjDjymvUmQ7pBbRecz2FM952Am",rootFingerprint:"f57ec65d",open_source:{base58String:"tpubDFc9Mm4tw6EkdXuk24MnQYRrDsdKEFh498vFffqa2KJmxytpcHbWrcFYwTKAdLxkSWpadzb5M5VVZ7PDAUjDjymvUmQ7pBbRecz2FM952Am",chaincode:"8f60b5470713d119000eb9f20716eaa21e4c7c96b1d8a605790e2a9621874b7b",depth:4,index:2147483649,parentFingerprint:3880777331,path:"m/48'/1'/100'/1'",pubkey:"0374d98c47224e55e6244cfb407638d77ff1127f02c895983b5fe2d9174f37cd0c",rootFingerprint:"f57ec65d",version:"043587cf"},unchained:{base58String:"tpubDErWN5qfdLwY9ZJo9HWpxjcuEFuEBVHSbQbPqF35LQr3etWNGirKcgAa93DZ4DmtHm36p2gTf4aj6KybLqHaS3UePM5LtPqtb3d3dYVDs2F",chaincode:"0683fed20bd4e656ef5d6cb91dac510a80f1e425976dcc8b92060cca5a8fe0a9",depth:4,index:2147483649,parentFingerprint:2163434281,path:"m/48'/1'/100'/1'",pubkey:"02fe3c640406f273d9acdd63ce45282cb9017c91e07b4b0118451823df95fd7821",rootFingerprint:"00000002",version:"043587cf"}},"m/48'/1'/100'/2'":{xpub:"tpubDFc9Mm4tw6EkgR4YTC1GrU6CGEd9yw7KSBnSssL4LXAXh89D4uMZigRyv3csdXbeU3BhLQc4vWKTLewboA1Pt8Fu6fbHKu81MZ6VGdc32eM",rootFingerprint:"f57ec65d",open_source:{base58String:"tpubDFc9Mm4tw6EkgR4YTC1GrU6CGEd9yw7KSBnSssL4LXAXh89D4uMZigRyv3csdXbeU3BhLQc4vWKTLewboA1Pt8Fu6fbHKu81MZ6VGdc32eM",chaincode:"b0d7d9283b766e79259dc38263ce06b474eeaefb3fab5f53946aaec6cd525f13",depth:4,index:2147483650,parentFingerprint:3880777331,path:"m/48'/1'/100'/2'",pubkey:"0277d88e9d1395e980debe59476a17f202ba27c866d3637877e84958f2c65458ff",rootFingerprint:"f57ec65d",version:"043587cf"},unchained:{base58String:"tpubDErWN5qfdLwYE94mh12oWr4uURDDNKCjKVhCEcAgZ7jKnnAwq5tcTF2iEk3VuznkJuk2G8SCHft9gS6aKbBd18ptYWPqKLRSTRQY7e2rrDj",chaincode:"d2be31d3de92e6183d5a4bb918048fdf960ba9438d391afb5f7ac69a1c24caf1",depth:4,index:2147483650,parentFingerprint:2163434281,path:"m/48'/1'/100'/2'",pubkey:"03a602ec9955461233f89560337ff7af353b838471d7f1625768b4e290544a154f",rootFingerprint:"00000003",version:"043587cf"}},"m/45'/0'/100'":{xpub:"xpub6CCHViYn5VzPfSR7baop9FtGcbm3UnqHwa54Z2eNvJnRFCJCdo9HtCYoLJKZCoATMLUowDDA1BMGfQGauY3fDYU3HyMzX4NDkoLYCSkLpbH",rootFingerprint:"f57ec65d",open_source:{base58String:"xpub6CCHViYn5VzPfSR7baop9FtGcbm3UnqHwa54Z2eNvJnRFCJCdo9HtCYoLJKZCoATMLUowDDA1BMGfQGauY3fDYU3HyMzX4NDkoLYCSkLpbH",chaincode:"8f8521ebe6ac7fd6d6c468aa25cad78e34e9a4c02211a00bf2c6069ffdb11722",depth:3,index:2147483748,parentFingerprint:1240308660,path:"m/45'/0'/100'",pubkey:"028257b519520e4a611b0fbf062bef41e815145b85e621887d267c695f2c508259",rootFingerprint:"f57ec65d",version:"0488b21e"},unchained:{base58String:"xpub6Ca5CwTgRASgkXbXE5TeddTP9mPCbYHreCpmGt9dhz9y6femstHGCoFESHHKKRcm414xMKnuLjP9LDS7TwaJC9n5gxua6XB1rwPcC6hqDub",chaincode:"17f7729ba7f11cc95c201d023c0a7f8315101ef1ee5bd6fc8193f440eef4483f",depth:3,index:2147483748,parentFingerprint:2097768017,path:"m/45'/0'/100'",pubkey:"03540225fdc5f92c686f3ffa3fe7a912c66e94f7988bd6db92d466d7917ff7447c",rootFingerprint:"00000004",version:"0488b21e"}},"m/48'/0'/100'/1'":{xpub:"xpub6DcqYQxnbefzEBJF6osEuT5yXoHVZu1YCCsS5YkATvqD2h7tdMBgdBrUXk26FrJwawDGX6fHKPvhhZxKc5b8dPAPb8uANDhsjAPMJqTFDjH",rootFingerprint:"f57ec65d",open_source:{base58String:"xpub6DcqYQxnbefzEBJF6osEuT5yXoHVZu1YCCsS5YkATvqD2h7tdMBgdBrUXk26FrJwawDGX6fHKPvhhZxKc5b8dPAPb8uANDhsjAPMJqTFDjH",chaincode:"cd1a105c93ed7c2bc01e99445f81e8674bcea6042405cb4244af2c598ab995b4",depth:4,index:2147483649,parentFingerprint:194150729,path:"m/48'/0'/100'/1'",pubkey:"030d7b4de2784978a3352adaacf3182c737de75f1c07778019aad15b0b99b640a4",rootFingerprint:"f57ec65d",version:"0488b21e"},unchained:{base58String:"xpub6EwJjKaiocGvo9f7XSGXGwzo1GLB1URxSZ5Ccp1wqdxNkhrSoqNQkC2CeMsU675urdmFJLHSX62xz56HGcnn6u21wRy6uipovmzaE65PfBp",chaincode:"a4b98329bb145e79fa7485653f2b9dc4d8ca9519ee0f00093809dc1d3d8b3cd2",depth:4,index:2147483649,parentFingerprint:3203536812,path:"m/48'/0'/100'/1'",pubkey:"0366e35ecc712f790e698e502ba2b3ed00645c6994b59c8884aded1eb29af87ef2",rootFingerprint:"00000005",version:"0488b21e"}},"m/48'/0'/100'/2'":{xpub:"xpub6DcqYQxnbefzFkaRBK63FSE2GzNuNnNhFGw1xV9RioVG7av6r3JDf1aELqBSq5gt5487CtNxvVtaiJjQU2HQWzgG5NzLyTPbYav6otW8qEc",rootFingerprint:"f57ec65d",open_source:{base58String:"xpub6DcqYQxnbefzFkaRBK63FSE2GzNuNnNhFGw1xV9RioVG7av6r3JDf1aELqBSq5gt5487CtNxvVtaiJjQU2HQWzgG5NzLyTPbYav6otW8qEc",chaincode:"6b2c97052334fd0333464fd7d7b6ed9b7bae25f9bcabfa54f15e041ac22971fc",depth:4,index:2147483650,parentFingerprint:194150729,path:"m/48'/0'/100'/2'",pubkey:"038fce535133ea87f989ca0908f7e8de0fa965d0a6649b71bf5c74244ece64d490",rootFingerprint:"f57ec65d",version:"0488b21e"},unchained:{base58String:"xpub6EwJjKaiocGvqSuM2jRZSuQ9HEddiFUFu9RdjE47zG7kXVNDQpJ3GyvskwYiLmvU4SBTNZyv8UH53QcmFEE23YwozE61V3dwzZJEFQr6H2b",chaincode:"8b7900c703cdd0f752b13b7a95ee9cb0d5a0df7fb9bfe4678b074edd3dc59a11",depth:4,index:2147483650,parentFingerprint:3203536812,path:"m/48'/0'/100'/2'",pubkey:"030a3dd68cd8d3a896209c9eee0a6b8ec28783458882ce1a7362d8b60b34de3097",rootFingerprint:"00000006",version:"0488b21e"}}},T=[{network:m.TESTNET,addressType:f.P2SH,extendedPublicKeys:[O["m/45'/1'/100'"].open_source,O["m/45'/1'/100'"].unchained],stringExtendedPublicKeys:[O["m/45'/1'/100'"].open_source.base58String,O["m/45'/1'/100'"].unchained.base58String],requiredSigners:2,index:"0",pubKeySets:{index:{0:["02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba"],1:["0221ee4400a394e44b78592463eb07c9bae0cc9c2b11081be97df15cd561124e19","03f31364b009d8019be56fa2569f336362e3e2b6a809623d87ffbef634ca6e1f27"],48349:["0308e27264d2b28b2e56104b36e562f69414027574998a53674b5db28a649f0f38","037a911b48783ca769ae273ebe71d3a14d7af2301063c25564155e8764fa77c981"]},path:{"0/0":["02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba"]}},bip32Derivations:{index:{0:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba","hex")}],1:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/1",pubkey:e.from("0221ee4400a394e44b78592463eb07c9bae0cc9c2b11081be97df15cd561124e19","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/1",pubkey:e.from("03f31364b009d8019be56fa2569f336362e3e2b6a809623d87ffbef634ca6e1f27","hex")}],48349:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/48349",pubkey:e.from("0308e27264d2b28b2e56104b36e562f69414027574998a53674b5db28a649f0f38","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/48349",pubkey:e.from("037a911b48783ca769ae273ebe71d3a14d7af2301063c25564155e8764fa77c981","hex")}]},path:{"0/0":[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba","hex")}]}}}],w=[{network:m.TESTNET,type:f.P2SH,bip32Path:"m/45'/1'/100'/0/0",publicKey:"02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4",publicKeys:["02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba"],changePublicKeys:["021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd51585","03a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad0"],redeemScriptOps:"OP_2 02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4 03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba OP_2 OP_CHECKMULTISIG",redeemScriptHex:"522102a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d42103938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba52ae",scriptOps:"OP_HASH160 8479072d5a550ee0900b5af7e70af575527a879d OP_EQUAL",scriptHex:"a9148479072d5a550ee0900b5af7e70af575527a879d87",address:"2N5KgAnFFpmk5TRMiCicRZDQS8FFNCKqKf1",utxos:[{txid:"65e7ef764030dabfb46e3ae1c357b0666d0dda722c9809fb73245d6d68665284",index:1,amountSats:"100000",value:1e5,transactionHex:"0200000000010149c912d0e5e46f6ef933038c7fb7e1d665db9ae56b67fa57fe4c3476a95cf954000000001716001400e2f78f987a5a4493cf062994dbde49d040a922feffffff02631418000000000017a914c7ab6d103180a48181847d35732e93e0ce9ab07387a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d870247304402202f538752e408b4817e7751ef243eee67d2242ca2061e8e6c9f22873247f10a8d02205b4622314efd733f12fc6557bc2f323ff2cbc1604ad97a351807e1be80875bc8012102e92335f6ecb1862f0eea0b99297f21bdb9beb9a1e8f41113788f5add306ca9fcee9b1800"},{txid:"ae9e1aa8312e102e806fa11d8e65965a624f88459e6bb5bcf48156a0c53e022a",index:1,amountSats:"100000",value:1e5,transactionHex:"0200000000010101745e1daa28c1705dbf73edd183e5ef91ad0918d97ad3e2ec2c69b548086f4d00000000171600142b0b522ba87db1646898118860449fcb2c69dae3feffffff02329642000000000017a9140f894f7e3b70b8741f830e066b6ef508a9f7479d87a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d870247304402202dc887e5d623bd974968285e9c8165cfa9facd943caf0f8472e7acef632fb94302205c60434061e6a4e45360d3b3c901a9c1dd148b38dd6c9623cd8fa2677587e632012102366538692ffb9622e75a05dc2004d85efa0ebc27b99961e694d88f9ede2b57cae49b1800"},{txid:"f243c1fbb85dd49da91477b89c76636202721be9c7df5ee6eee0c6a10861ae44",index:0,amountSats:"100000",value:1e5,transactionHex:"02000000000101e5d6a0ffc5f8387a90c463bf614ae53609b72988c44afc6a577f22666bc971a7000000001716001428386489d15b1cddfd245b506b8ff2d909b18d36feffffff02a08601000000000017a9148479072d5a550ee0900b5af7e70af575527a879d8786ce18050000000017a914d2fb0a8958e55d4c6c3ff58f970fdbba3006ec078702473044022007a7186e6afb93de749b3a905d1c7437f470f97095ea410538b6ac33d15a947802205a66118c7dc2e14d7325a122eb0021f54e1dbd5dfb8fd56b253fa3782716af3d012103f5951ccccf00964d54eefa78280ae083e0f0f0cc6382fd27b3fbfdfeda8dd2c7b29b1800"}],transaction:{outputs:[{address:S[m.TESTNET][f.P2SH],amountSats:"291590",value:291590},{address:I[m.TESTNET][f.P2SH],amountSats:"7535",value:7535,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/1/0",pubkey:e.from("03a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad0","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/1/0",pubkey:e.from("021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd51585","hex")}],redeemScript:e.from("5221021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd515852103a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad052ae","hex")}],hex:"0100000003845266686d5d2473fb09982c72da0d6d66b057c3e13a6eb4bfda304076efe7650100000000ffffffff2a023ec5a05681f4bcb56b9e45884f625a96658e1da16f802e102e31a81a9eae0100000000ffffffff44ae6108a1c6e0eee65edfc7e91b72026263769cb87714a99dd45db8fbc143f20000000000ffffffff02067304000000000017a914e3ba1151b75effbf7adc4673c83c8feec3ddc367876f1d00000000000017a914c34d63a6720866070490a8cb244c6bdc7ce2fa138700000000",signature:["3045022100c82920c7d99e0a4055a8459c53362d15f5f8ce275322be8fd2045b43a5ae7f8d0220478b3856327a4b7809a1f858159bd437e4d93ca480e35bbe21c5cd914b6d722a01","304402200464b13a701b9ac16eea29d1604a73d82ba5b3aed1435a8c2c3d4f940a2499ce02206be000a5cc605b284ab6c40039d56d49b7af304fea53079ec9ac838732b8765d01","30450221008af4884f2bfbd4565e58c1e7d0f4cb36f8ebc210466d165c48311ddc40df7dc8022017196f4355f66621de0fed97002cfbd6ef7163c882a709f04e5dd0bbe960bcbd01"],byteCeilingSignature:["3044022004e0fcf5a1df39db158d754361f933fa07ceceb6a230e51658f3daa5d55013780220274f6257aa8b6a10f2f901340fdc083926b7c3b2acd3ba5304c8d3d41383131901","304402200464b13a701b9ac16eea29d1604a73d82ba5b3aed1435a8c2c3d4f940a2499ce02206be000a5cc605b284ab6c40039d56d49b7af304fea53079ec9ac838732b8765d01","3044022030a64cec8dc9affe3380264f81292b2bc41036a815d157f2cadeff4ef360e043022042d385ff128b7ed6a3f4197182de1b7d7960420a9183756b600b2f6fa2d4a7cc01"]},bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("02a8513d9931896d5d3afc8063148db75d8851fd1fc41b1098ba2a6a766db563d4","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/0/0",pubkey:e.from("03938dd09bf3dd29ddf41f264858accfa40b330c98e0ed27caf77734fac00139ba","hex")}],changeBip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/1'/100'/1/0",pubkey:e.from("03a00095df48367ed21e5c6edd50af4352311bf060eb100425cb7af4331aa1aad0","hex")},{masterFingerprint:e.from("00000001","hex"),path:"m/45'/1'/100'/1/0",pubkey:e.from("021a049747120345fa9017fb42d8ff3d4fb1d2ef4c80546872c5da513babd51585","hex")}],braidDetails:{network:m.TESTNET,addressType:f.P2SH,extendedPublicKeys:[O["m/45'/1'/100'"].open_source,O["m/45'/1'/100'"].unchained],requiredSigners:2,index:"0"},changeBraidDetails:{network:m.TESTNET,addressType:f.P2SH,extendedPublicKeys:[O["m/45'/1'/100'"].open_source,O["m/45'/1'/100'"].unchained],requiredSigners:2,index:"1"},psbtNoChange:"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",psbt:"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",psbtPartiallySigned:"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",psbtOrderedPartiallySigned:"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"},{network:m.TESTNET,type:A.P2SH_P2WSH,bip32Path:"m/48'/1'/100'/1'/0/0",publicKey:"026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a422",publicKeys:["025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c","026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a422"],witnessScriptOps:"OP_2 025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c 026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a422 OP_2 OP_CHECKMULTISIG",witnessScriptHex:"5221025566585b3a8066b7d0bba4d2b24c3c59a5f527d62c100bbb7073a7cb2565418c21026aaa7c4697ff439bfd6c7a70abf66253b4e329654b41ee2ad21d68b854e4a42252ae",redeemScriptOps:"OP_0 deeb888c0a0a1871a3da4c2e75ffab5eb17e9d27fccd41bc3d683a2674f93aa1",redeemScriptHex:"0020deeb888c0a0a1871a3da4c2e75ffab5eb17e9d27fccd41bc3d683a2674f93aa1",scriptOps:"OP_HASH160 dac0270cbf87a65c0cf4fd2295eb44c756b288ec OP_EQUAL",scriptHex:"a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87",address:"2NDBsV6VBe4d2Ukp2XB644dg2xZ2SuWGkyG",utxos:[{txid:"429da41d05db69d7c006e91b15031e6d47faab15adba3c97059eeea093c36a23",index:0,amountSats:"100000",transactionHex:"02000000000101845266686d5d2473fb09982c72da0d6d66b057c3e13a6eb4bfda304076efe7650000000017160014a89baf1e6b16698bf34927d4a1f71270a57972d6feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec871d8d16000000000017a91471e39bcec3aead7b1d45ad04aea8ad231be756768702473044022067dbe8b2623bd3948bfca811f934c1b512d7add1a09ff70a5b0e083edccbee780220325924a596ce2b567797b53eaa7eec3f6a989427829479ea5619ed72aaeffea40121023251e686167dbea8774b3510a78caa67550d566bd078c1285aa69ec0c561f767ee9b1800"},{txid:"d8edcd3ef4293a2554a147f048442d735fb54b901c1e39ffdb59448c1abae812",index:0,amountSats:"100000",transactionHex:"02000000000101236ac393a0ee9e05973cbaad15abfa476d1e03151be906c0d769db051da49d4201000000171600149df8fa8c17c034dd0e4f96c1eb0110113037ff71feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87d70515000000000017a9144b1d195a2cf70e3233aaf8e229d9d2a2da1b7845870247304402205c2e3d2cb7c8aa461aabb5c74210f795ec018db703910c9556f8b222012bb3ad02200f8c63fd859b575a6a762df0019f18ad917cf9de1e128e33bc540c4e5356b9ea012103280eb7fdde76317c63664c46bfe7602f6ff64a0dc22695c7e7093f34b40c5536ee9b1800"},{txid:"ff43f4cc8473341ce9effb91d715a4deb4e8a8cb669dd1d119a3a30552a829d1",index:0,amountSats:"100000",transactionHex:"02000000000101eef67cc41c10722be710952296866ea13ed1608acdf15e453e8d874e6a15c6d50000000017160014a989c1c6a3dbbf44d508d5f36df2d08c97e9fca4feffffff02a08601000000000017a914dac0270cbf87a65c0cf4fd2295eb44c756b288ec87a5b90d000000000017a914d0324b98895786d859ae3ee3df0c384249f1a4ab870247304402200621a08b242b807a0c39b6e0bf302e503b9a2596acdd218b176cb62afba31824022027bb2cc91b5ae57500a2e3c440d4d45cc42617f4db665a1b25974122b3789ddd01210209bb437e2e4658c6eb92c20a1ef459a2d1da50757dfba0c49a19dd3dbd621d87e09b1800"}],transaction:{outputs:[{address:S[m.TESTNET][A.P2SH_P2WSH],amountSats:"291590"},{address:I[m.TESTNET][A.P2SH_P2WSH],amountSats:"7922",value:7922,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/48'/1'/100'/1'/1/0",pubkey:e.from("02ade44fc6568a4a334b1797140534707a5dd60c247a59523c577ad9eb59d798ba","hex")},{masterFingerprint:e.from("00000002","hex"),path:"m/48'/1'/100'/1'/1/0",pubkey:e.from("02489bfaa3dc33e5d2325295d9d1367f35a45fce09c96db6456fc712938dc2c0c7","hex")}],redeemScript:e.from("0020d6a0f404c62823b51ca0468c3d58e8a210d8afb377372060a58e0ad1471466e0","hex"),witnessScript:e.from("522102489bfaa3dc33e5d2325295d9d1367f35a45fce09c96db6456fc712938dc2c0c72102ade44fc6568a4a334b1797140534707a5dd60c247a59523c577ad9eb59d798ba52ae","hex")}],hex:"0100000003236ac393a0ee9e05973cbaad15abfa476d1e03151be906c0d769db051da49d420000000000ffffffff12e8ba1a8c4459dbff391e1c904bb55f732d4448f047a154253a29f43ecdedd80000000000ffffffffd129a85205a3a319d1d19d66cba8e8b4dea415d791fbefe91c347384ccf443ff0000000000ffffffff02067304000000000017a914e3ba1151b75effbf7adc4673c83c8feec3ddc36787f21e00000000000017a914413d62d98e2bbbf3f8f35f1d00cff58ee25eea178700000000",signature:["3044022014672c552254e724b1677849ed4e973f9b60d2d5ae343772b6f2b2220ce1187002206f54a595bc1bc0c430936d27a5ccbd72c8d96aa5fe1fb9ef51778caabeb820dc01","3045022100d23276b4de50e1fa41140e03d295551e868fb51bdf6cca303087be2bb2bf15b30220399b2f7678879eda4e59124cd7f3137b8ef9c2c1770119a2b5124503decc4b0501","3045022100af3b112d039fb101483a87639b96439fa32d654a971d060afafa7a2ee08f3abc0220513fd7823d06d89c3cb58107ea9e94042cffe57ae5e6a7fe9c965cc3e961677401"],byteCeilingSignature:["3044022014672c552254e724b1677849ed4e973f9b60d2d5ae343772b6f2b2220ce1187002206f54a595bc1bc0c430936d27a5ccbd72c8d96aa5fe1fb9ef51778caabeb820dc01","304402200d890939820ede1525454bf673e1b3682cb21e80f52304e57cc8e5d6882fe3bb022030f44d9c4213d38dc649feebcd48a3bd24de896da137e86618881a85915cdc0501","3044022065bbb9e3ab14a82680bb845de2e55b84d224f773722807f78c7be69aa1ede2bb02206bbcd5bf52039bc3049e683a441efdcde011435625b8709c59cf9680c2837f2501"]},braidDetails:{network:m.TESTNET,addressType:A.P2SH_P2WSH,extendedPublicKeys:[O["m/48'/1'/100'/1'"].open_source,O["m/48'/1'/100'/1'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"cHNidP8BAKUBAAAAAyNqw5Og7p4Flzy6rRWr+kdtHgMVG+kGwNdp2wUdpJ1CAAAAAAD/////Eui6GoxEWdv/OR4ckEu1X3MtREjwR6FUJTop9D7N7dgAAAAAAP/////RKahSBaOjGdHRnWbLqOi03qQV15H77+kcNHOEzPRD/wAAAAAA/////wEGcwQAAAAAABepFOO6EVG3Xv+/etxGc8g8j+7D3cNnhwAAAAAAAQEgoIYBAAAAAAAXqRTawCcMv4emXAz0/SKV60THVrKI7IcBBCIAIN7riIwKChhxo9pMLnX/q16xfp0n/M1BvD1oOiZ0+TqhAQVHUiECVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwhAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiUq4iBgJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjBzvpdkWMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAIgYCaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCIc9X7GXTAAAIABAACAZAAAgAEAAIAAAAAAAAAAAAABASCghgEAAAAAABepFNrAJwy/h6ZcDPT9IpXrRMdWsojshwEEIgAg3uuIjAoKGHGj2kwudf+rXrF+nSf8zUG8PWg6JnT5OqEBBUdSIQJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjCECaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCJSriIGAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMHO+l2RYwAACAAQAAgGQAAIABAACAAAAAAAAAAAAiBgJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIhz1fsZdMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAAAEBIKCGAQAAAAAAF6kU2sAnDL+HplwM9P0iletEx1ayiOyHAQQiACDe64iMCgoYcaPaTC51/6tesX6dJ/zNQbw9aDomdPk6oQEFR1IhAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMIQJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIlKuIgYCVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwc76XZFjAAAIABAACAZAAAgAEAAIAAAAAAAAAAACIGAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiHPV+xl0wAACAAQAAgGQAAIABAACAAAAAAAAAAAAAAA==",psbt:"cHNidP8BAMUBAAAAAyNqw5Og7p4Flzy6rRWr+kdtHgMVG+kGwNdp2wUdpJ1CAAAAAAD/////Eui6GoxEWdv/OR4ckEu1X3MtREjwR6FUJTop9D7N7dgAAAAAAP/////RKahSBaOjGdHRnWbLqOi03qQV15H77+kcNHOEzPRD/wAAAAAA/////wIGcwQAAAAAABepFOO6EVG3Xv+/etxGc8g8j+7D3cNnh/IeAAAAAAAAF6kUQT1i2Y4ru/P4818dAM/1juJe6heHAAAAAAABASCghgEAAAAAABepFNrAJwy/h6ZcDPT9IpXrRMdWsojshwEEIgAg3uuIjAoKGHGj2kwudf+rXrF+nSf8zUG8PWg6JnT5OqEBBUdSIQJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjCECaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCJSriIGAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMHAAAAAIwAACAAQAAgGQAAIABAACAAAAAAAAAAAAiBgJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIhz1fsZdMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAAAEBIKCGAQAAAAAAF6kU2sAnDL+HplwM9P0iletEx1ayiOyHAQQiACDe64iMCgoYcaPaTC51/6tesX6dJ/zNQbw9aDomdPk6oQEFR1IhAlVmWFs6gGa30Luk0rJMPFml9SfWLBALu3Bzp8slZUGMIQJqqnxGl/9Dm/1senCr9mJTtOMpZUtB7irSHWi4VOSkIlKuIgYCVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwcAAAAAjAAAIABAACAZAAAgAEAAIAAAAAAAAAAACIGAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiHPV+xl0wAACAAQAAgGQAAIABAACAAAAAAAAAAAAAAQEgoIYBAAAAAAAXqRTawCcMv4emXAz0/SKV60THVrKI7IcBBCIAIN7riIwKChhxo9pMLnX/q16xfp0n/M1BvD1oOiZ0+TqhAQVHUiECVWZYWzqAZrfQu6TSskw8WaX1J9YsEAu7cHOnyyVlQYwhAmqqfEaX/0Ob/Wx6cKv2YlO04yllS0HuKtIdaLhU5KQiUq4iBgJVZlhbOoBmt9C7pNKyTDxZpfUn1iwQC7twc6fLJWVBjBwAAAACMAAAgAEAAIBkAACAAQAAgAAAAAAAAAAAIgYCaqp8Rpf/Q5v9bHpwq/ZiU7TjKWVLQe4q0h1ouFTkpCIc9X7GXTAAAIABAACAZAAAgAEAAIAAAAAAAAAAAAAAAQAiACDWoPQExigjtRygRow9WOiiENivs3c3IGCljgrRRxRm4AEBR1IhAkib+qPcM+XSMlKV2dE2fzWkX84JyW22RW/HEpONwsDHIQKt5E/GVopKM0sXlxQFNHB6XdYMJHpZUjxXetnrWdeYulKuIgICSJv6o9wz5dIyUpXZ0TZ/NaRfzgnJbbZFb8cSk43CwMccAAAAAjAAAIABAACAZAAAgAEAAIABAAAAAAAAACICAq3kT8ZWikozSxeXFAU0cHpd1gwkellSPFd62etZ15i6HPV+xl0wAACAAQAAgGQAAIABAACAAQAAAAAAAAAA",psbtPartiallySigned:"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"},{network:m.TESTNET,type:b.P2WSH,bip32Path:"m/48'/1'/100'/2'/0/0",publicKey:"03bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b72469",publicKeys:["035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d","03bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b72469"],witnessScriptOps:"OP_2 035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d 03bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b72469 OP_2 OP_CHECKMULTISIG",witnessScriptHex:"5221035a763e0480f858ef626b649fa0efe9eb647abbf77db54f3af904d2de50c4342d2103bc34c50cf768f802290269c2ddabd086c73514c880cecb6db3f67676a4b7246952ae",scriptOps:"OP_0 ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068",scriptHex:"0020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068",address:"tb1qhgj3fnwn50pq966rjnj4pg8uz9ktsd8nge32qxd73ffvvg636p5q54g7m0",utxos:[{txid:"84df8dcc9b86e8c7bb39ce0ba9f577ec750f0b64df97a5c9559cf39243a1f501",index:0,amountSats:"100000",transactionHex:"020000000001018342873aa48ba6b2e5a796f34b7431bb56f9c569a6bd8f7e539cb3147a86b3f80000000000feffffff02a086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068a9873f0000000000160014208e4178e48f2d270a06475ad8caeb2e01f55ae80247304402205369dedb14963e0bfa22748a546e03e47fcf994c85944ae0d6b507d15ebba57d022073cdd6c8af057aabac652ec438de7fc7e201d6a3b8619e54a2db5c1b509865e9012103ba504ae1099d8f38163c90540fa10e09cac4fa2df95b8b91bc2aba01571c27d9ee9b1800"},{txid:"f010998e033355636c2ba34af753cd6d5f198889a379bc30625bb38f646f3d72",index:0,amountSats:"100000",transactionHex:"0200000000010144ae6108a1c6e0eee65edfc7e91b72026263769cb87714a99dd45db8fbc143f201000000171600142ff3a6303add9138957b880c73a331cf718a418ffeffffff02a086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d068364717050000000016001403f4d726aec3c06aa8a31b230e9997288faea72a02473044022032368bd2b2441840850b62f86bfa4434854b5e83da1e5cac43cd613a88f91839022042b2f9f7ea20c97d889a89b0f7cb649b8bb3acc20c4207b5665e235b340766a101210216bb0c99eb498379d5c7b7ad0f3afb9ff3eec9be622fffe821c5456003f22c02ee9b1800"},{txid:"f8b3867a14b39c537e8fbda669c5f956bb31744bf396a7e5b2a68ba43a874283",index:1,amountSats:"100000",transactionHex:"020000000001012a023ec5a05681f4bcb56b9e45884f625a96658e1da16f802e102e31a81a9eae0000000017160014c4733d80022a7a3dde9a7e3112b39e390500713cfeffffff02e20e410000000000160014060213b00b3d902d2bd7e90c4b7e9e34830d2f9da086010000000000220020ba2514cdd3a3c202eb4394e550a0fc116cb834f34662a019be8a52c62351d0680247304402201504b1dbf14cf216c7de1fa78dd649a319b2274361034aaa9bc82473632650d1022013da0cb0bb740a95010821e451e7fc699bb2489e71c20093d8d3cd3f4e8c2efc012102db49c46b1a64061d15d0faa234e8da59defe0f4164009e73be9be540265cf0caee9b1800"}],transaction:{outputs:[{address:S[m.TESTNET][b.P2WSH],amountSats:"291590"},{address:I[m.TESTNET][b.P2WSH],amountSats:"8023",value:8023,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/48'/1'/100'/2'/1/0",pubkey:e.from("02f45fa86e1ac4e69c0f183c769db9157740586c78b24c495be0404c1e6ae029e5","hex")},{masterFingerprint:e.from("00000003","hex"),path:"m/48'/1'/100'/2'/1/0",pubkey:e.from("03610bec03e459c7fa28c9a36c4c9db6e2c4bc2ae4e2764aa3d035599c7052e33f","hex")}],witnessScript:e.from("522102f45fa86e1ac4e69c0f183c769db9157740586c78b24c495be0404c1e6ae029e52103610bec03e459c7fa28c9a36c4c9db6e2c4bc2ae4e2764aa3d035599c7052e33f52ae","hex")}],hex:"010000000301f5a14392f39c55c9a597df640b0f75ec77f5a90bce39bbc7e8869bcc8ddf840000000000ffffffff723d6f648fb35b6230bc79a38988195f6dcd53f74aa32b6c635533038e9910f00000000000ffffffff8342873aa48ba6b2e5a796f34b7431bb56f9c569a6bd8f7e539cb3147a86b3f80100000000ffffffff0206730400000000002200202de5497b772a7cbd61cd60a359cb412099da25725671d1e1a00de8ec46752dc8571f000000000000220020bc964191e076e9fd328cf115ebe35bd3d9b7b4f937c71c41cd19a08e9100635400000000",signature:["304402202269a8c0bd3baa357cb0bad6dc8c1808bdf1b9f4ded6ad321f25dfb3b9f8fe1002206cad4a70c21531032c586f6e2016c657dbd8c69a01c806e3382465269876b5db01","304402205a414f8c1c55ee8d3d05cc6e3b5accc413297baa3d061c570c44af3ccbd01b7902205d99aad28720be4c4f80afc64870c3edbb9f28e8ddf5ac6a0d1ab149699c61b501","30440220019a8b7a875af9429305a89b63d919aeae3bf87354e4043958b51fa1f5525df902200723f42838800a698a5c97bdffc53a80e6901346cc8e6000e52a92180f41462f01"],byteCeilingSignature:["304402202269a8c0bd3baa357cb0bad6dc8c1808bdf1b9f4ded6ad321f25dfb3b9f8fe1002206cad4a70c21531032c586f6e2016c657dbd8c69a01c806e3382465269876b5db01","304402205a414f8c1c55ee8d3d05cc6e3b5accc413297baa3d061c570c44af3ccbd01b7902205d99aad28720be4c4f80afc64870c3edbb9f28e8ddf5ac6a0d1ab149699c61b501","30440220019a8b7a875af9429305a89b63d919aeae3bf87354e4043958b51fa1f5525df902200723f42838800a698a5c97bdffc53a80e6901346cc8e6000e52a92180f41462f01"]},braidDetails:{network:m.TESTNET,addressType:b.P2WSH,extendedPublicKeys:[O["m/48'/1'/100'/2'"].open_source,O["m/48'/1'/100'/2'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"cHNidP8BALABAAAAAwH1oUOS85xVyaWX32QLD3Xsd/WpC845u8fohpvMjd+EAAAAAAD/////cj1vZI+zW2IwvHmjiYgZX23NU/dKoytsY1UzA46ZEPAAAAAAAP////+DQoc6pIumsuWnlvNLdDG7VvnFaaa9j35TnLMUeoaz+AEAAAAA/////wEGcwQAAAAAACIAIC3lSXt3Kny9Yc1go1nLQSCZ2iVyVnHR4aAN6OxGdS3IAAAAAAABASughgEAAAAAACIAILolFM3To8IC60OU5VCg/BFsuDTzRmKgGb6KUsYjUdBoAQVHUiEDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0hA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpUq4iBgNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LRzvpdkWMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAIgYDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGkc9X7GXTAAAIABAACAZAAAgAIAAIAAAAAAAAAAAAABASughgEAAAAAACIAILolFM3To8IC60OU5VCg/BFsuDTzRmKgGb6KUsYjUdBoAQVHUiEDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0hA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpUq4iBgNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LRzvpdkWMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAIgYDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGkc9X7GXTAAAIABAACAZAAAgAIAAIAAAAAAAAAAAAABASughgEAAAAAACIAILolFM3To8IC60OU5VCg/BFsuDTzRmKgGb6KUsYjUdBoAQVHUiEDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0hA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpUq4iBgNadj4EgPhY72JrZJ+g7+nrZHq79321Tzr5BNLeUMQ0LRzvpdkWMAAAgAEAAIBkAACAAgAAgAAAAAAAAAAAIgYDvDTFDPdo+AIpAmnC3avQhsc1FMiAzstts/Z2dqS3JGkc9X7GXTAAAIABAACAZAAAgAIAAIAAAAAAAAAAAAAA",psbt:"cHNidP8BANsBAAAAAwH1oUOS85xVyaWX32QLD3Xsd/WpC845u8fohpvMjd+EAAAAAAD/////cj1vZI+zW2IwvHmjiYgZX23NU/dKoytsY1UzA46ZEPAAAAAAAP////+DQoc6pIumsuWnlvNLdDG7VvnFaaa9j35TnLMUeoaz+AEAAAAA/////wIGcwQAAAAAACIAIC3lSXt3Kny9Yc1go1nLQSCZ2iVyVnHR4aAN6OxGdS3IVx8AAAAAAAAiACC8lkGR4Hbp/TKM8RXr41vT2be0+TfHHEHNGaCOkQBjVAAAAAAAAQEroIYBAAAAAAAiACC6JRTN06PCAutDlOVQoPwRbLg080ZioBm+ilLGI1HQaAEFR1IhA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtIQO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaVKuIgYDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0cAAAAAzAAAIABAACAZAAAgAIAAIAAAAAAAAAAACIGA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpHPV+xl0wAACAAQAAgGQAAIACAACAAAAAAAAAAAAAAQEroIYBAAAAAAAiACC6JRTN06PCAutDlOVQoPwRbLg080ZioBm+ilLGI1HQaAEFR1IhA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtIQO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaVKuIgYDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0cAAAAAzAAAIABAACAZAAAgAIAAIAAAAAAAAAAACIGA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpHPV+xl0wAACAAQAAgGQAAIACAACAAAAAAAAAAAAAAQEroIYBAAAAAAAiACC6JRTN06PCAutDlOVQoPwRbLg080ZioBm+ilLGI1HQaAEFR1IhA1p2PgSA+FjvYmtkn6Dv6etkerv3fbVPOvkE0t5QxDQtIQO8NMUM92j4AikCacLdq9CGxzUUyIDOy22z9nZ2pLckaVKuIgYDWnY+BID4WO9ia2SfoO/p62R6u/d9tU86+QTS3lDENC0cAAAAAzAAAIABAACAZAAAgAIAAIAAAAAAAAAAACIGA7w0xQz3aPgCKQJpwt2r0IbHNRTIgM7LbbP2dnaktyRpHPV+xl0wAACAAQAAgGQAAIACAACAAAAAAAAAAAAAAAEBR1IhAvRfqG4axOacDxg8dp25FXdAWGx4skxJW+BATB5q4CnlIQNhC+wD5FnH+ijJo2xMnbbixLwq5OJ2SqPQNVmccFLjP1KuIgIC9F+obhrE5pwPGDx2nbkVd0BYbHiyTElb4EBMHmrgKeUc9X7GXTAAAIABAACAZAAAgAIAAIABAAAAAAAAACICA2EL7APkWcf6KMmjbEydtuLEvCrk4nZKo9A1WZxwUuM/HAAAAAMwAACAAQAAgGQAAIACAACAAQAAAAAAAAAA",psbtPartiallySigned:"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"},{network:m.MAINNET,type:f.P2SH,bip32Path:"m/45'/0'/100'/0/0",publicKey:"02583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace79",publicKeys:["02583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace79","02b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a"],redeemScriptOps:"OP_2 02583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace79 02b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a OP_2 OP_CHECKMULTISIG",redeemScriptHex:"522102583c4776b51691f4e036c8e0eb160f3464a2de9ae4c6818b7945c78fc6bace792102b024e76d6c2d8c22d9550467e97ced251ead5592529f9c813c1d818f7e89a35a52ae",scriptOps:"OP_HASH160 f18bcbf45f7805fe663339d838d5c8a086d79e53 OP_EQUAL",scriptHex:"a914f18bcbf45f7805fe663339d838d5c8a086d79e5387",address:"3PiCF26aq57Wo5DJEbFNTVwD1bLCUEpAYZ",utxos:[{txid:"456813be8389d17e945c0b91b5112938a7268bb7c6721147bce6521eeabde7b0",index:0,amountSats:"10000",transactionHex:"0200000000010216ac0943cd43bb8168c591016a0a5439b3124427bf5df0582f68f2ae52fc86560000000017160014f827ea2db54a62d5027b411ff9d2d6e9234796a8feffffffd9bde17e907b90631edc22f83a4f849d9527e4a3d3b3096fdfc8131eeb8c4c8201000000171600141aabdcba4979e2772ad5da60e757f6d992c09d41feffffff02102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387ac0700000000000017a914df0aa2a92361822c637c0e44fb1cae2f1a22f0df870247304402204f91360c63c8ce6c98ebec06a6710e5f016cac8d8733c3855401f821f437c5650220611c87d76c2e72accb892cff110f0837d6d60942fdaea2edf86098af355016570121033c5f5b6c028649dedbe089033d6736788199041567b510d88448d0d1bcd5675d024730440220296ce4c551c6945176d8f057c9d05d7a21aa7ccb4c1d8d692c8937b00e3a9be4022024a514a72e4c52ee9c7bcf5c60dd7fb8ee4e83059d0869d85a6659e4d6737535012103c86c2e648f8e34be880b5f12d33bfd712c552ebf68fe01a1daebf2a24a44cbfa99490900"},{txid:"5bbf64e036e46bf93dadc770f0415f6566453b9ae2d932df00fd5b5e49bdbbd5",index:1,amountSats:"10000",transactionHex:"0200000000010133f0ca4e94d7ad6673a3777ed56fbcf0d2ebc5f6578578746c989ba2ec20cfaa0300000017160014c530831acb421c9ac89d1a83113acf4b46b3a2affeffffff02f00602000000000017a914939b4923002a1f44854a671be64cf55846d4f5f887102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387024730440220044dac81ef05b655fb6e72a21423f2db9fd4fc938243ba8293f7f0f24c7e56e202201fa946e11c0be1eeae81fe2418a8d30bf39048fc110e6aaf253149ef47dc8d28012103fb20014d5c613fc2d5a588cf6ea9292afa843a8e5f14dfe9d4e18e5cb158ecee99490900"},{txid:"74c11de1a3f1a5daa06441d78d7fb45609b3415721466c6256bffd881451cda5",index:0,amountSats:"10000",transactionHex:"02000000000101d748779bd254dce3523c691a9ce1bf8836d524ba97d26cc24127e3367a2027f600000000171600141aabdcba4979e2772ad5da60e757f6d992c09d41feffffff02102700000000000017a914f18bcbf45f7805fe663339d838d5c8a086d79e5387025b00000000000017a9145d0e078b76ff5e990bf628bf28f593d217caaeb9870247304402206b99e2475b2424db1e47fdb9689036fa44d5c9dea3e5419f26759eed86920c91022011c38e5e69280e62353088d5bf28ecf15a3ff348edcad8c31e441f9f57da172a012103c86c2e648f8e34be880b5f12d33bfd712c552ebf68fe01a1daebf2a24a44cbfa99490900"}],transaction:{outputs:[{address:S[m.MAINNET][f.P2SH],amountSats:"21590"},{address:I[m.MAINNET][f.P2SH],amountSats:"7535",value:7535,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/45'/0'/100'/1/0",pubkey:e.from("0360fc2c3410b3700822c31d4901640cf763714f30ff45f887e86bee8733509ebe","hex")},{masterFingerprint:e.from("00000004","hex"),path:"m/45'/0'/100'/1/0",pubkey:e.from("039c064999a7c238c31ee018b1b7983fb657edfdf23f4d46bde919817a39cbcbb3","hex")}],redeemScript:e.from("52210360fc2c3410b3700822c31d4901640cf763714f30ff45f887e86bee8733509ebe21039c064999a7c238c31ee018b1b7983fb657edfdf23f4d46bde919817a39cbcbb352ae","hex")}],hex:"0100000003b0e7bdea1e52e6bc471172c6b78b26a7382911b5910b5c947ed18983be1368450000000000ffffffffd5bbbd495e5bfd00df32d9e29a3b4566655f41f070c7ad3df96be436e064bf5b0100000000ffffffffa5cd511488fdbf56626c46215741b30956b47f8dd74164a0daa5f1a3e11dc1740000000000ffffffff02565400000000000017a91480b2477411a78b2a939d7da08bfa1939a871a4b9876f1d00000000000017a914335131487569e42724cb7fe4818a348aa6bc7afa8700000000",signature:["30440220518d201f915aa1379e4dfd986b6f6bf083e07f9d132ecf1e29d79e292f4c610402207df5c8ff1b0e5958d60b45b5475f3a88065ab64d5f3e6f56162d4f32c423b52c01","3045022100f401617786808a938b0ae8a954ea32a0466eb6f49ae0b196fc0ae50ff43036f002200f72df0f6bb0710eeb61999a96d005f9853183ecbdad7bc5fb65f1169796f49d01","3044022077baef2ae7425a978d67356ea033274909bbd787076f9b5567268e1c1548db76022022367961eea5cb177ccf974e6df1091aa4ee7ea9451afb157541a71078ecd97d01"],byteCeilingSignature:["30440220518d201f915aa1379e4dfd986b6f6bf083e07f9d132ecf1e29d79e292f4c610402207df5c8ff1b0e5958d60b45b5475f3a88065ab64d5f3e6f56162d4f32c423b52c01","3044022000cd3b6d7c190049e051421d50310da4ca0f46471b517f41b18e2a26897454f8022026fd1a3e0874a9ca7f8c359a9044b38c2f5be3004b1fe10d6da51c3cbab546af01","3044022077baef2ae7425a978d67356ea033274909bbd787076f9b5567268e1c1548db76022022367961eea5cb177ccf974e6df1091aa4ee7ea9451afb157541a71078ecd97d01"]},braidDetails:{network:m.MAINNET,addressType:f.P2SH,extendedPublicKeys:[O["m/45'/0'/100'"].open_source,O["m/45'/0'/100'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"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",psbt:"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",psbtPartiallySigned:"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"},{network:m.MAINNET,type:A.P2SH_P2WSH,bip32Path:"m/48'/0'/100'/1'/0/0",publicKey:"0342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c",publicKeys:["0328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86","0342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c"],witnessScriptOps:"OP_2 0328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86 0342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c OP_2 OP_CHECKMULTISIG",witnessScriptHex:"52210328b57c2f65c98ed7cde4bca54cc3a13afa4d47117fd9dae06663a4169e05ef86210342997f6fcd7fa4a3c7e290c8867148992e6194742120985c664d9e214461af7c52ae",redeemScriptOps:"OP_0 049d6e945074525b03e0487759368ff663f10bb88976017bdd9d3cce849085e5",redeemScriptHex:"0020049d6e945074525b03e0487759368ff663f10bb88976017bdd9d3cce849085e5",scriptOps:"OP_HASH160 1abcf8cea321ca874de4beb4f975077fe864a54a OP_EQUAL",scriptHex:"a9141abcf8cea321ca874de4beb4f975077fe864a54a87",address:"348PsXezZAHcW7RjmCoMJ8PHWx1QBTXJvm",utxos:[{txid:"2062282a8c6644740d4a5c85a74ad21c6a0fda8d753e8a4bdfba09a26d20eb40",index:1,amountSats:"10000",transactionHex:"02000000000104e7f99e90ef69f7bf577cc34c695469d1ef2e021320f4f5d312a439fa5119214c010000001716001458ff1cdc218f9baaf9a5ac278206e8f8cc2d55a2feffffffb0e7bdea1e52e6bc471172c6b78b26a7382911b5910b5c947ed18983be13684501000000171600144245d8387278181e8f5d61e35427fa055f891ccefeffffffb68f87f28f11710b7005426340c4c4d9795c331f027549bd383b6f179d709a280000000000feffffff79d037447d0706083212ec168a5b3e24f97bd7a9e0099b105b042781853780810000000017160014ec62a1ca200abdc755c8b34faae78202b6dd3fc3feffffff02920500000000000017a91449e9133aaffa9192d802655f2db8fa1db9eec00887102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a8702473044022069c0985164d17c746fb818179f969740e39d6569ec5a144a83c72de2473b6b8002204f62217bbb2b34efedda454c85dfa960788d4c7f538c7fdf22c5074f5a2c78bb012103e74f757ceb0288ac7c051b7db87fb059a19eac05a480c65c913068a6f80d23b80247304402200f827b64e5feb6071f5d4278e4fa3643e164316ab897f53df0482658e753110202201143f4348812122322876aa29a7285cc8ea51a3e32fb0392fd2e6422d63793f501210350de53693c9da7f849cab9479304ee2b2af317f28ee00ed1e112cd95bc200bd2024730440220025e0eff09b09817e8d595c01bfd2fdba6082e2c4f8f286545f9a2a2e9f148ba02205725704e14c2969a1afcf0084dd29bdbc5136b75438158ecf76992e3c24b561f012102e24e7df260cb56ffbcdb52bea6f8c8bc267d849f5799cf919e32574568ed85d602473044022011bbd9ec6338f174fa0a386acb1fb4dfe348343b2eed5017b11e96151ad214ca02207e7bb5443f34d33147f28fafb4cd661dccc7c6993ad7c58ed47197c85b48c849012102587990c5f71d9e4c894069589845c5f2649b83006160b9d1b8f31bab54133a9399490900"},{txid:"4c211951fa39a412d3f5f42013022eefd16954694cc37c57bff769ef909ef9e7",index:0,amountSats:"10000",transactionHex:"02000000000101a5cd511488fdbf56626c46215741b30956b47f8dd74164a0daa5f1a3e11dc1740100000017160014eeeff0e10da2973449331a9e48f246b18488e965feffffff02102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a87bd2a00000000000017a91445a77947cf42db7fec41cec25c28af0b73becf2e8702473044022044858a87117fd8af2fa92db123935019d76ee9157fb9a48a9cd97ee085b128f90220572b799eae6f3f8cf6aa287450ff46b21588840dabeeb63e57c6f3f320f49eea0121025abd982f0c9ebbb7238900326af437c393eb2c5e875f5bd63152ddd756e5049a99490900"},{txid:"c5d0e548e2332450057ce5bd2a6fb720b2c8bd6f595ed11fdba71488b1bf7b31",index:1,amountSats:"10000",transactionHex:"02000000000101d5bbbd495e5bfd00df32d9e29a3b4566655f41f070c7ad3df96be436e064bf5b00000000171600140e021c1c3313ef991acd0c5d9f63ca12ce110005feffffff02abd601000000000017a9145d27db58f13d4851260174d9dc9eacdf62074a4e87102700000000000017a9141abcf8cea321ca874de4beb4f975077fe864a54a8702473044022077b4f0f2d1480443f8b29ed68a29b606b83a3ebbda4349bf813c33330b7f4aa902202061823fd25330b6c0adb68afce4546ada193eb63982f28a7562bc605ea6b0e5012102930a7b8a6fd51a8ce36039bacf160239cfb7dbc72dc1a051aaac333bc7f8e7924e490900"}],transaction:{outputs:[{address:S[m.MAINNET][A.P2SH_P2WSH],amountSats:"21590"},{address:I[m.MAINNET][A.P2SH_P2WSH],amountSats:"7922",value:7922,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/48'/0'/100'/1'/1/0",pubkey:e.from("029997f9c7094881d241b13b14d8567cdedcaccd411844c55fe09b0b8ca1b254b1","hex")},{masterFingerprint:e.from("00000005","hex"),path:"m/48'/0'/100'/1'/1/0",pubkey:e.from("0272834f652444910e1cc157b99f52fd6052826a11f9099879a55490f6b8190be7","hex")}],redeemScript:e.from("0020581e9806610ac1c8249dc3446e01f8365ecfc506462379d6948baa0d128c519a","hex"),witnessScript:e.from("52210272834f652444910e1cc157b99f52fd6052826a11f9099879a55490f6b8190be721029997f9c7094881d241b13b14d8567cdedcaccd411844c55fe09b0b8ca1b254b152ae","hex")}],hex:"010000000340eb206da209badf4b8a3e758dda0f6a1cd24aa7855c4a0d7444668c2a2862200100000000ffffffffe7f99e90ef69f7bf577cc34c695469d1ef2e021320f4f5d312a439fa5119214c0000000000ffffffff317bbfb18814a7db1fd15e596fbdc8b220b76f2abde57c05502433e248e5d0c50100000000ffffffff02565400000000000017a91480b2477411a78b2a939d7da08bfa1939a871a4b987f21e00000000000017a91407339e0dab9b912f9972f96e7d6c6d09e38b7c828700000000",signature:["3045022100e218d80acbbf41b2ad630d7c4b7eb345934466cf205ac119bd41ce2bd3ab0daa022048a1238dc01d06ed57cf5715d5e74397fcb433001b1e39a6821d653ea0ac683601","3045022100bdfd743229bafc6ff66524413528ac920d8bc5ba002f5112d24a6c19f2035247022073b55186e98329c3d0790d701107491d8a06ccc593f87b00df511bf41fe4d5c101","30440220342d08c89ee1fa13f855eddb253855f94b17ca80390893c832615d35cccdac1102205b9381e2021ed174aff66adcd83a6baa9af0ad98de5f8c66aad1c75f030e275b01"],byteCeilingSignature:["3044022043898cd12541009f4612dc263af1542c785f76d0d17d174d9a6f70d86aa8a5b50220332b539f6afec6de56e399205ef83c9feb4568dff3ca1795ce56081a45978dd401","3044022002953c3d45efc91aab969abfdbe603458a5738a00f8faa5415df6dba0e305a8002200cae08ed7df228c4fdc7725429090dabbad6e5abee729f78519df21ee7fd75f101","30440220342d08c89ee1fa13f855eddb253855f94b17ca80390893c832615d35cccdac1102205b9381e2021ed174aff66adcd83a6baa9af0ad98de5f8c66aad1c75f030e275b01"]},braidDetails:{network:m.MAINNET,addressType:A.P2SH_P2WSH,extendedPublicKeys:[O["m/48'/0'/100'/1'"].open_source,O["m/48'/0'/100'/1'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"cHNidP8BAKUBAAAAA0DrIG2iCbrfS4o+dY3aD2oc0kqnhVxKDXREZowqKGIgAQAAAAD/////5/mekO9p979XfMNMaVRp0e8uAhMg9PXTEqQ5+lEZIUwAAAAAAP////8xe7+xiBSn2x/RXllvvciyILdvKr3lfAVQJDPiSOXQxQEAAAAA/////wFWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5hwAAAAAAAQEgECcAAAAAAAAXqRQavPjOoyHKh03kvrT5dQd/6GSlSocBBCIAIASdbpRQdFJbA+BId1k2j/Zj8Qu4iXYBe92dPM6EkIXlAQVHUiEDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YhA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98Uq4iBgMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhhzvpdkWMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAIgYDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3wc9X7GXTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAAAABASAQJwAAAAAAABepFBq8+M6jIcqHTeS+tPl1B3/oZKVKhwEEIgAgBJ1ulFB0UlsD4Eh3WTaP9mPxC7iJdgF73Z08zoSQheUBBUdSIQMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhiEDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3xSriIGAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GHO+l2RYwAACAAAAAgGQAAIABAACAAAAAAAAAAAAiBgNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfBz1fsZdMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAAAEBIBAnAAAAAAAAF6kUGrz4zqMhyodN5L60+XUHf+hkpUqHAQQiACAEnW6UUHRSWwPgSHdZNo/2Y/ELuIl2AXvdnTzOhJCF5QEFR1IhAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GIQNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfFKuIgYDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74Yc76XZFjAAAIAAAACAZAAAgAEAAIAAAAAAAAAAACIGA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98HPV+xl0wAACAAAAAgGQAAIABAACAAAAAAAAAAAAAAA==",psbt:"cHNidP8BAMUBAAAAA0DrIG2iCbrfS4o+dY3aD2oc0kqnhVxKDXREZowqKGIgAQAAAAD/////5/mekO9p979XfMNMaVRp0e8uAhMg9PXTEqQ5+lEZIUwAAAAAAP////8xe7+xiBSn2x/RXllvvciyILdvKr3lfAVQJDPiSOXQxQEAAAAA/////wJWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5h/IeAAAAAAAAF6kUBzOeDaubkS+ZcvlufWxtCeOLfIKHAAAAAAABASAQJwAAAAAAABepFBq8+M6jIcqHTeS+tPl1B3/oZKVKhwEEIgAgBJ1ulFB0UlsD4Eh3WTaP9mPxC7iJdgF73Z08zoSQheUBBUdSIQMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhiEDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3xSriIGAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GHAAAAAUwAACAAAAAgGQAAIABAACAAAAAAAAAAAAiBgNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfBz1fsZdMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAAAEBIBAnAAAAAAAAF6kUGrz4zqMhyodN5L60+XUHf+hkpUqHAQQiACAEnW6UUHRSWwPgSHdZNo/2Y/ELuIl2AXvdnTzOhJCF5QEFR1IhAyi1fC9lyY7XzeS8pUzDoTr6TUcRf9na4GZjpBaeBe+GIQNCmX9vzX+ko8fikMiGcUiZLmGUdCEgmFxmTZ4hRGGvfFKuIgYDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YcAAAABTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAACIGA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98HPV+xl0wAACAAAAAgGQAAIABAACAAAAAAAAAAAAAAQEgECcAAAAAAAAXqRQavPjOoyHKh03kvrT5dQd/6GSlSocBBCIAIASdbpRQdFJbA+BId1k2j/Zj8Qu4iXYBe92dPM6EkIXlAQVHUiEDKLV8L2XJjtfN5LylTMOhOvpNRxF/2drgZmOkFp4F74YhA0KZf2/Nf6Sjx+KQyIZxSJkuYZR0ISCYXGZNniFEYa98Uq4iBgMotXwvZcmO183kvKVMw6E6+k1HEX/Z2uBmY6QWngXvhhwAAAAFMAAAgAAAAIBkAACAAQAAgAAAAAAAAAAAIgYDQpl/b81/pKPH4pDIhnFImS5hlHQhIJhcZk2eIURhr3wc9X7GXTAAAIAAAACAZAAAgAEAAIAAAAAAAAAAAAAAAQAiACBYHpgGYQrByCSdw0RuAfg2Xs/FBkYjedaUi6oNEoxRmgEBR1IhAnKDT2UkRJEOHMFXuZ9S/WBSgmoR+QmYeaVUkPa4GQvnIQKZl/nHCUiB0kGxOxTYVnze3KzNQRhExV/gmwuMobJUsVKuIgICcoNPZSREkQ4cwVe5n1L9YFKCahH5CZh5pVSQ9rgZC+ccAAAABTAAAIAAAACAZAAAgAEAAIABAAAAAAAAACICApmX+ccJSIHSQbE7FNhWfN7crM1BGETFX+CbC4yhslSxHPV+xl0wAACAAAAAgGQAAIABAACAAQAAAAAAAAAA",psbtPartiallySigned:"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"},{network:m.MAINNET,type:b.P2WSH,bip32Path:"m/48'/0'/100'/2'/0/0",publicKey:"0369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f4",publicKeys:["02e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b","0369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f4"],witnessScriptOps:"OP_2 02e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b 0369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f4 OP_2 OP_CHECKMULTISIG",witnessScriptHex:"522102e21b7318cfbd482bdbb66441420b9018e5b440bf9b0cdedd427626d81f32605b210369e74fc954355b6f7acf9bbec5b861c186852b759a85f92558e420a0202047f452ae",scriptOps:"OP_0 497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9",scriptHex:"0020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9",address:"bc1qf9asympax4r6xrndsqrw8p0qxe40tm9zkk69tkrc8p6eg8ju075sjeekkt",utxos:[{txid:"4ab356fef8b8205a3b96b4924e8e94f18c4b8ecdefa0bb1ee28ce19f091c3f58",index:0,amountSats:"10000",transactionHex:"020000000001011aa35769284e2822b65a98ac46472bb5c455831927da993dbe9ad1959c296eaf0100000000feffffff021027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa94c76010000000000160014553e9be0af92386ae6b4065262dc97fdee9979170247304402206407b5c1fa2fd49b92e6f1802a0eed9e75f55c3db1ea179f077072d0c6e9031602205823ba8d01a6b96db9334affcb9b1e7dfb434cfdc1389287016d6b68c5c2cf0c0121029de99c2fec6fad0a90fb5a7792775477b8d82fa4f213903a2f67d3e2c1d802eb99490900"},{txid:"a21b384dc72b9ef2559339cecd5ad2652171589b1e479497817b617734859d90",index:1,amountSats:"10000",transactionHex:"02000000000101583f1c099fe18ce21ebba0efcd8e4b8cf1948e4e92b4963b5a20b8f8fe56b34a0100000000feffffff02c04601000000000016001416d8412d77ae6d6280c60091a7197a3f98546c911027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa90247304402204fada6ffa61f578f647ace8c8d02b678ff95ed0feca83b3a4750a97c5aa3ddca02203dc438b53e7aef6bd4f9152e37d6cbce4e64306932cc27f7e2072d764990cb530121020b500126d56d6f17b28e90f254b4b38c260ecd8e941b65c557b8af6c767027dd99490900"},{txid:"af6e299c95d19abe3d99da27198355c4b52b4746ac985ab622284e286957a31a",index:0,amountSats:"10000",transactionHex:"02000000000101317bbfb18814a7db1fd15e596fbdc8b220b76f2abde57c05502433e248e5d0c500000000171600147e88fb2bc740d5efffef8b6f53d5eb68b83317b6feffffff021027000000000000220020497b026c3d3547a30e6d8006e385e0366af5eca2b5b455d8783875941e5c7fa9d8a50100000000001600144ddfedfd823ee5dc953f4792a855b262a85ed77c0247304402202fc8347a8801fbbd13db5bd2694cdabb2c3428b6cfa6edda02ff16bc6cacb6b8022054604d07510ede500197deefe9d39abe277fb97a837ae40ea815b6aa38f0329701210247348c03f596b52730429ea89df4b3d75b219fd3c30cbcb66dae04779e0de6d236490900"}],transaction:{outputs:[{address:S[m.MAINNET][b.P2WSH],amountSats:"21590"},{address:I[m.MAINNET][b.P2WSH],amountSats:"8023",value:8023,bip32Derivation:[{masterFingerprint:e.from("f57ec65d","hex"),path:"m/48'/0'/100'/2'/1/0",pubkey:e.from("038b5e295f14f6a848f55b7d62efddef4679dc361ecda5f6cd074cc24ae2174510","hex")},{masterFingerprint:e.from("00000006","hex"),path:"m/48'/0'/100'/2'/1/0",pubkey:e.from("0318a60afc9aa7e3191f9e49051c70764f7688d9a567b327c095e5a3f75f8847e7","hex")}],witnessScript:e.from("52210318a60afc9aa7e3191f9e49051c70764f7688d9a567b327c095e5a3f75f8847e721038b5e295f14f6a848f55b7d62efddef4679dc361ecda5f6cd074cc24ae217451052ae","hex")}],hex:"0100000003583f1c099fe18ce21ebba0efcd8e4b8cf1948e4e92b4963b5a20b8f8fe56b34a0000000000ffffffff909d853477617b819794471e9b58712165d25acdce399355f29e2bc74d381ba20100000000ffffffff1aa35769284e2822b65a98ac46472bb5c455831927da993dbe9ad1959c296eaf0000000000ffffffff02565400000000000022002035be74e39d8452cd6ede2aede6be70e21e57941843032e495d823eb9f521aea7571f00000000000022002098ac4adf0ec716cb2d30585fc8db6b41ad26431f55213622b43723de418aff4200000000",signature:["304402207eddd9d5b7335468c5166e9d76f88d5538bf0ff531680765f813e95edf8a13a502205a6b33c0cd780b4e036e2e35777e888ec33658777cece1b494b7aadb421c35cb01","304402207d2809f871f60d5c6d44e41decdfc856f08c69bb4471ec4652ee295c21becd6d022033ac79f8baa9c663e3aa8ffa2aab5cae27524537dd762d2f6cb1f5879375cae201","3045022100ce3fea96bde970eab9aab5a3d8a00e1be5515cdd534db0d7c8a1755408c2c9c402204842d008cbacd7ce5df38035d55682ee03036751563d7b20253966bdb131a44801"],byteCeilingSignature:["304402207eddd9d5b7335468c5166e9d76f88d5538bf0ff531680765f813e95edf8a13a502205a6b33c0cd780b4e036e2e35777e888ec33658777cece1b494b7aadb421c35cb01","304402207d2809f871f60d5c6d44e41decdfc856f08c69bb4471ec4652ee295c21becd6d022033ac79f8baa9c663e3aa8ffa2aab5cae27524537dd762d2f6cb1f5879375cae201","304402202dd767bfc22fe0c68703d32359e2d649d499426df47e76cdf298d62a8094631e0220133c0516991eb18885e5b2171d5bdbbab58e635c2412ec14b7f3db9f5fa2ef1a01"]},braidDetails:{network:m.MAINNET,addressType:b.P2WSH,extendedPublicKeys:[O["m/48'/0'/100'/2'"].open_source,O["m/48'/0'/100'/2'"].unchained],requiredSigners:2,index:"0"},psbtNoChange:"cHNidP8BAKUBAAAAA1g/HAmf4YziHrug782OS4zxlI5OkrSWO1oguPj+VrNKAAAAAAD/////kJ2FNHdhe4GXlEcem1hxIWXSWs3OOZNV8p4rx004G6IBAAAAAP////8ao1dpKE4oIrZamKxGRyu1xFWDGSfamT2+mtGVnClurwAAAAAA/////wFWVAAAAAAAABepFICyR3QRp4sqk519oIv6GTmocaS5hwAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFsc76XZFjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFsc76XZFjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFsc76XZFjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAA==",psbt:"cHNidP8BANsBAAAAA1g/HAmf4YziHrug782OS4zxlI5OkrSWO1oguPj+VrNKAAAAAAD/////kJ2FNHdhe4GXlEcem1hxIWXSWs3OOZNV8p4rx004G6IBAAAAAP////8ao1dpKE4oIrZamKxGRyu1xFWDGSfamT2+mtGVnClurwAAAAAA/////wJWVAAAAAAAACIAIDW+dOOdhFLNbt4q7ea+cOIeV5QYQwMuSV2CPrn1Ia6nVx8AAAAAAAAiACCYrErfDscWyy0wWF/I22tBrSZDH1UhNiK0NyPeQYr/QgAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFscAAAABjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFscAAAABjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAQErECcAAAAAAAAiACBJewJsPTVHow5tgAbjheA2avXsorW0Vdh4OHWUHlx/qQEFR1IhAuIbcxjPvUgr27ZkQUILkBjltEC/mwze3UJ2JtgfMmBbIQNp50/JVDVbb3rPm77FuGHBhoUrdZqF+SVY5CCgICBH9FKuIgYC4htzGM+9SCvbtmRBQguQGOW0QL+bDN7dQnYm2B8yYFscAAAABjAAAIAAAACAZAAAgAIAAIAAAAAAAAAAACIGA2nnT8lUNVtves+bvsW4YcGGhSt1moX5JVjkIKAgIEf0HPV+xl0wAACAAAAAgGQAAIACAACAAAAAAAAAAAAAAAEBR1IhAximCvyap+MZH55JBRxwdk92iNmlZ7MnwJXlo/dfiEfnIQOLXilfFPaoSPVbfWLv3e9Gedw2Hs2l9s0HTMJK4hdFEFKuIgIDGKYK/Jqn4xkfnkkFHHB2T3aI2aVnsyfAleWj91+IR+ccAAAABjAAAIAAAACAZAAAgAIAAIABAAAAAAAAACICA4teKV8U9qhI9Vt9Yu/d70Z53DYezaX2zQdMwkriF0UQHPV+xl0wAACAAAAAgGQAAIACAACAAQAAAAAAAAAA",psbtPartiallySigned:"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"}].map((function(e){var t=d.generateMultisigFromPublicKeys.apply(void 0,[e.network,e.type,2].concat(y(e.publicKeys)));return t.braidDetails=(0,h.braidConfig)(e.braidDetails),t.bip32Derivation=e.bip32Derivation,v(v({},e),{description:"".concat(e.network," ").concat(e.type," 2-of-2 multisig address"),utxos:e.utxos.map((function(n){return v(v(v({},n),{amountSats:(0,l.default)(n.amountSats),multisig:t}),{},{bip32Path:e.bip32Path})})),transaction:v(v({},e.transaction),{outputs:e.transaction.outputs.map((function(e){return v(v({},e),{amountSats:(0,l.default)(e.amountSats)})}))}),multisig:t,multisigScript:e.type===f.P2SH?(0,d.multisigRedeemScript)(t):(0,d.multisigWitnessScript)(t),multisigScriptOps:e.type===f.P2SH?e.redeemScriptOps:e.witnessScriptOps,multisigScriptHex:e.type===f.P2SH?e.redeemScriptHex:e.witnessScriptHex})}));var x=w.map((function(e){return function(e){return v(v({},{name:"Sign ".concat(e.description),description:"spends multiple UTXOs from a single ".concat(e.description),network:e.network,inputs:(0,p.sortInputs)(e.utxos),bip32Paths:e.utxos.map((function(){return e.bip32Path})),publicKeys:e.utxos.map((function(){return e.publicKey})),segwit:e.type!==f.P2SH,psbt:e.psbt,format:e.type,derivation:e.bip32Path.slice(0,-4),extendedPublicKeys:e.braidDetails.extendedPublicKeys}),e.transaction)}(e)})).concat([]),C={keys:{open_source:{bip39Phrase:["merge","alley","lucky","axis","penalty","manage","latin","gasp","virus","captain","wheel","deal","chase","fragile","chapter","boss","zero","dirt","stadium","tooth","physical","valve","kid","plunge"],nodes:Object.keys(O).reduce((function(e,t){var n=O[t],a=n.unchained,r=E(n,["unchained"]);return e[t]=a?r:O[t],e}),{})},unchained:{nodes:Object.keys(O).reduce((function(e,t){var n=O[t].unchained;return n&&(e[t]=n),e}),{})}},braids:T,multisigs:w,transactions:x};t.TEST_FIXTURES=C}).call(this,n(8).Buffer)},1268:function(e){e.exports=JSON.parse('{"name":"unchained-wallets","version":"0.1.21","description":"Unchained Capital\'s HD Wallets Library","main":"lib/index.js","repository":{"type":"git","url":"git+https://github.com/unchained-capital/unchained-wallets.git"},"author":"Unchained Capital","license":"MIT","bugs":{"url":"https://github.com/unchained-capital/unchained-wallets/issues"},"homepage":"https://github.com/unchained-capital/unchained-wallets","devDependencies":{"@babel/cli":"^7.7.0","@babel/core":"^7.7.2","@babel/preset-env":"^7.7.1","babel-plugin-transform-inline-environment-variables":"^0.4.3","eslint":"^6.6.0","eslint-plugin-import":"^2.18.2","eslint-plugin-jest":"^23.0.3","jest":"^24.9.0","jest-junit":"^9.0.0","jsdoc":"^3.6.3","mocha":"^6.2.2"},"scripts":{"compile-images":"node images/compile.js","compile":"babel -d lib/ src/ && npm run compile-images","compile:trezor-dev":"TREZOR_DEV=true babel --watch -d lib/ src/ && npm run compile-images","compile:watch":"babel --watch -d lib/ src/ && npm run compile-images","prepublish":"npm run compile","pretest":"npm run compile","prepare":"npm run compile","test":"jest lib","docs":"./bin/build-docs.sh","lint":"eslint src"},"bin":{},"dependencies":{"@babel/polyfill":"^7.7.0","@cvbb/bc-ur":"^0.2.9","@keystonehq/bc-ur-registry":"^0.4.4","@ledgerhq/hw-app-btc":"^5.34.1","@ledgerhq/hw-transport-node-hid":"^5.34.0","@ledgerhq/hw-transport-u2f":"^5.34.0","@ledgerhq/hw-transport-webusb":"5.53.0","@ngraveio/bc-ur":"^1.1.6","bignumber.js":"^8.1.1","bitcoinjs-lib":"^4.0.5","bowser":"^2.6.1","core-js":"^2.6.10","hi-base32":"^0.5.0","pako":"^1.0.10","punycode":"^2.1.1","trezor-connect":"^8.1.19","unchained-bitcoin":"^0.1.3"},"directories":{"lib":"lib"},"babel":{"plugins":["transform-inline-environment-variables"],"presets":[["@babel/env",{"useBuiltIns":"usage","corejs":2}]]}}')},1276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColdcardMultisigWalletConfig=t.ColdcardSignMultisigTransaction=t.ColdcardExportExtendedPublicKey=t.ColdcardExportPublicKey=t.ColdcardInteraction=t.COLDCARD_WALLET_CONFIG_VERSION=t.COLDCARD_BASE_BIP32_PATHS=t.COLDCARD=void 0,n(272),n(210),n(879),n(466),n(880),n(631),n(1280),n(161),n(127),n(236),n(271),n(382),n(467),n(308),n(468),n(632),n(141),n(128),n(93),n(160),n(886);var a=n(309),r=n(270);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t,n){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.COLDCARD="coldcard";var A={"m/45'":a.P2SH,"m/48'/0'/0'/1'":a.P2SH_P2WSH.replace("-","_"),"m/48'/0'/0'/2'":a.P2WSH,"m/48'/1'/0'/1'":a.P2SH_P2WSH.replace("-","_"),"m/48'/1'/0'/2'":a.P2WSH};t.COLDCARD_BASE_BIP32_PATHS=A;var b=Object.keys(A);t.COLDCARD_WALLET_CONFIG_VERSION="1.0.0";var m=function(e){function t(){return u(this,t),l(this,d(t).apply(this,arguments))}return p(t,e),t}(r.IndirectKeystoreInteraction);t.ColdcardInteraction=m;var h=function(e){function t(e){var n,r=e.network,i=e.bip32Path;if(u(this,t),n=l(this,d(t).call(this)),![a.MAINNET,a.TESTNET].find((function(e){return e===r})))throw new Error("Unknown network.");return n.network=r,n.bip32Path=i,n.bip32ValidationErrorMessage={},n.bip32ValidationError=n.validateColdcardBip32Path(i),n}return p(t,e),o(t,[{key:"isSupported",value:function(){return!this.bip32ValidationError.length}},{key:"messages",value:function(){var e=s(d(t.prototype),"messages",this).call(this);return Object.entries(this.bip32ValidationErrorMessage).length&&e.push({state:r.PENDING,level:r.ERROR,code:this.bip32ValidationErrorMessage.code,text:this.bip32ValidationErrorMessage.text}),e.push({state:r.PENDING,level:r.INFO,code:"coldcard.export_xpub",text:"Go to Settings > Multisig Wallets > Export XPUB"}),e.push({state:r.PENDING,level:r.INFO,code:"coldcard.select_account",text:"Enter 0 for account"}),e.push({state:r.PENDING,level:r.INFO,code:"coldcard.upload_key",text:"Upload the JSON file from your Coldcard."}),e}},{key:"chrootForBIP32Path",value:function(e){for(var t=0;t<b.length;t++){var n=b[t];if(e.startsWith(n))return n}return null}},{key:"validateColdcardBip32Path",value:function(e){var t=(0,a.validateBIP32Path)(e);if(t.length)return this.bip32ValidationErrorMessage={text:t,code:"coldcard.bip32_path.path_error"},t;var n=this.chrootForBIP32Path(e);if(n){if(n===e)return"";var r=(0,a.getRelativeBIP32Path)(n,e),i=(0,a.validateBIP32Path)(r,{mode:"unhardened"});return i?(this.bip32ValidationErrorMessage={text:i,code:"coldcard.bip32_path.no_hardened_relative_path_error"},i):""}var c="The bip32Path must begin with one of the known Coldcard paths: ".concat(b);return this.bip32ValidationErrorMessage={text:c,code:"coldcard.bip32_path.unknown_chroot_error"},c}},{key:"parse",value:function(e){var t;if("object"===i(e))t=e;else{if("string"!==typeof e)throw new Error("Not valid JSON.");try{t=JSON.parse(e)}catch(o){throw new Error("Unable to parse JSON.")}}if(0===Object.keys(t).length)throw new Error("Empty JSON file.");if(!t.p2sh_deriv||!t.p2sh||!t.p2wsh_deriv||!t.p2wsh||(!t.p2wsh_p2sh_deriv||!t.p2wsh_p2sh)&&(!t.p2sh_p2wsh_deriv||!t.p2sh_p2wsh))throw new Error("Missing required params. Was this file exported from a Coldcard?  If you are using firmware version 4.1.0 please upgrade to 4.1.1 or later.");var n=a.ExtendedPublicKey.fromBase58(t.p2sh);if(!t.xfp&&1!==n.depth)throw new Error("No xfp in JSON file.");var r=1===n.depth?(0,a.fingerprintToFixedLengthHex)(n.parentFingerprint):null;if(r&&t.xfp&&r!==t.xfp.toLowerCase())throw new Error("Computed fingerprint does not match the one in the file.");var c=t.xfp?t.xfp:r;return t.rootFingerprint=c.toLowerCase(),t}},{key:"deriveDeeperXpubIfNecessary",value:function(e){var t=this.chrootForBIP32Path(this.bip32Path),n=(0,a.getRelativeBIP32Path)(t,this.bip32Path),r=A[t];r.includes("_")&&!e[r.toLowerCase()]&&(r="p2wsh_p2sh");var i=this.network===a.TESTNET?"tpub":"xpub",c=r.toLowerCase().includes("w")?(0,a.convertExtendedPublicKey)(e[r.toLowerCase()],i):e[r.toLowerCase()];return n.length?(0,a.deriveChildExtendedPublicKey)(c,n,this.network):c}}]),t}(m),E=function(e){function t(e){var n=e.network,a=e.bip32Path;return u(this,t),l(this,d(t).call(this,{network:n,bip32Path:a}))}return p(t,e),o(t,[{key:"messages",value:function(){return s(d(t.prototype),"messages",this).call(this)}},{key:"parse",value:function(e){var n=s(d(t.prototype),"parse",this).call(this,e),r=this.deriveDeeperXpubIfNecessary(n);return{publicKey:a.ExtendedPublicKey.fromBase58(r).pubkey,rootFingerprint:n.rootFingerprint,bip32Path:this.bip32Path}}}]),t}(h);t.ColdcardExportPublicKey=E;var g=function(e){function t(e){var n=e.network,a=e.bip32Path;return u(this,t),l(this,d(t).call(this,{network:n,bip32Path:a}))}return p(t,e),o(t,[{key:"messages",value:function(){return s(d(t.prototype),"messages",this).call(this)}},{key:"parse",value:function(e){var n=s(d(t.prototype),"parse",this).call(this,e);return{xpub:this.deriveDeeperXpubIfNecessary(n),rootFingerprint:n.rootFingerprint,bip32Path:this.bip32Path}}}]),t}(h);t.ColdcardExportExtendedPublicKey=g;var v=function(e){function t(e){var n,r=e.network,i=e.inputs,c=e.outputs,o=e.bip32Paths,s=e.psbt;if(u(this,t),(n=l(this,d(t).call(this))).network=r,n.inputs=i,n.outputs=c,n.bip32Paths=o,s)n.psbt=s;else try{n.psbt=(0,a.unsignedMultisigPSBT)(r,i,c)}catch(p){throw new Error("Unable to build the PSBT from the provided parameters.")}return n}return p(t,e),o(t,[{key:"messages",value:function(){var e=s(d(t.prototype),"messages",this).call(this);return e.push({state:r.PENDING,level:r.INFO,code:"coldcard.install_multisig_config",text:"Ensure your Coldcard has the multisig wallet installed."}),e.push({state:r.PENDING,level:r.INFO,code:"coldcard.download_psbt",text:"Download and save this PSBT file to your SD card."}),e.push({state:r.PENDING,level:r.INFO,code:"coldcard.transfer_psbt",text:"Transfer the PSBT file to your Coldcard."}),e.push({state:r.ACTIVE,level:r.INFO,code:"coldcard.transfer_psbt",text:"Transfer the PSBT file to your Coldcard."}),e.push({state:r.ACTIVE,level:r.INFO,code:"coldcard.select_psbt",text:"Choose 'Ready To Sign' and select the PSBT."}),e.push({state:r.ACTIVE,level:r.INFO,code:"coldcard.sign_psbt",text:"Verify the transaction details and sign."}),e.push({state:r.ACTIVE,level:r.INFO,code:"coldcard.upload_signed_psbt",text:"Upload the signed PSBT below."}),e}},{key:"request",value:function(){return this.psbt}},{key:"parse",value:function(e){var t=(0,a.parseSignaturesFromPSBT)(e);if(!t||0===t.length)throw new Error("No signatures found in the PSBT. Did you upload the right one?");return t}}]),t}(m);t.ColdcardSignMultisigTransaction=v;var y=function(){function e(t){var n=t.jsonConfig;if(u(this,e),"object"===i(n))this.jsonConfig=n;else{if("string"!==typeof n)throw new Error("Not valid JSON.");try{this.jsonConfig=JSON.parse(n)}catch(a){throw new Error("Unable to parse JSON.")}}if(!this.jsonConfig.uuid&&!this.jsonConfig.name)throw new Error("Configuration file needs a UUID or a name.");if(this.name=this.jsonConfig.uuid||this.jsonConfig.name,!this.jsonConfig.quorum.requiredSigners||!this.jsonConfig.quorum.totalSigners)throw new Error("Configuration file needs quorum.requiredSigners and quorum.totalSigners.");if(this.requiredSigners=this.jsonConfig.quorum.requiredSigners,this.totalSigners=this.jsonConfig.quorum.totalSigners,!this.jsonConfig.addressType)throw new Error("Configuration file needs addressType.");if(this.addressType=n.addressType,!this.jsonConfig.extendedPublicKeys||!this.jsonConfig.extendedPublicKeys.every((function(e){if(!e.xfp||"Unknown"===e.xfp)throw new Error("ExtendedPublicKeys missing at least one xfp.");if("string"!==typeof e.xfp)throw new Error("XFP not a string");if(8!==e.xfp.length)throw new Error("XFP not length 8");if(isNaN(Number("0x".concat(e.xfp))))throw new Error("XFP is invalid hex");return!0})))throw new Error("Configuration file needs extendedPublicKeys.");this.extendedPublicKeys=this.jsonConfig.extendedPublicKeys}return o(e,[{key:"adapt",value:function(){var e="# Coldcard Multisig setup file (exported from unchained-wallets)\n# https://github.com/unchained-capital/unchained-wallets\n# v".concat("1.0.0","\n# \nName: ").concat(this.name,"\nPolicy: ").concat(this.requiredSigners," of ").concat(this.totalSigners,"\nFormat: ").concat(this.addressType,"\n\n");return e+=this.extendedPublicKeys.map((function(e){var t=e.bip32Path.toLowerCase().includes("unknown")?"m".concat("/0".repeat(a.ExtendedPublicKey.fromBase58(e.xpub).depth)):e.bip32Path;return"Derivation: ".concat(t,"\n").concat(e.xfp,": ").concat(e.xpub)})).join("\n"),e+="\n"}}]),e}();t.ColdcardMultisigWalletConfig=y},1293:function(e,t){},1296:function(e,t){},1297:function(e,t){},1374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomSignMultisigTransaction=t.CustomExportExtendedPublicKey=t.CustomInteraction=t.CUSTOM=void 0,n(161),n(127),n(236),n(271),n(272),n(210),n(308),n(389),n(377),n(632);var a=n(309),r=n(270);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t,n){return(s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.CUSTOM="custom";var A=function(e){function t(){return u(this,t),l(this,d(t).apply(this,arguments))}return p(t,e),t}(r.IndirectKeystoreInteraction);t.CustomInteraction=A;var b=function(e){function t(e){var n,r=e.network,i=e.bip32Path;if(u(this,t),n=l(this,d(t).call(this)),![a.MAINNET,a.TESTNET].find((function(e){return e===r})))throw new Error("Unknown network.");n.network=r,n.validationErrorMessages=[],n.bip32Path=i;var c=(0,a.validateBIP32Path)(i);return c.length&&n.validationErrorMessages.push({code:"custom.bip32_path.path_error",text:c}),n}return p(t,e),o(t,[{key:"isSupported",value:function(){return 0===this.validationErrorMessages.length}},{key:"messages",value:function(){var e=s(d(t.prototype),"messages",this).call(this);return this.validationErrorMessages.length&&this.validationErrorMessages.forEach((function(t){e.push({state:r.PENDING,level:r.ERROR,code:t.code,text:t.text})})),e.push({state:r.PENDING,level:r.INFO,code:"custom.import_xpub",text:"Type or paste the extended public key here."}),e}},{key:"parse",value:function(e){var t,n;try{t=a.ExtendedPublicKey.fromBase58(e.xpub)}catch(o){throw new Error("Not a valid ExtendedPublicKey.")}try{if(""===e.rootFingerprint||void 0===e.rootFingerprint){var r=t.pubkey.length;n=t.pubkey.substring(r-8)}else(0,a.validateRootFingerprint)(e.rootFingerprint),n=e.rootFingerprint}catch(o){throw new Error("Root fingerprint validation error: ".concat(o.message.toLowerCase(),"."))}var i=this.bip32Path.split("/").length,c=this.bip32Path.startsWith("m/")?i-1:i;if(t.depth!==c)throw new Error("Depth of ExtendedPublicKey (".concat(t.depth,") does not match depth of BIP32 path (").concat(c,")."));return{xpub:t.base58String,rootFingerprint:n,bip32Path:this.bip32Path}}}]),t}(A);t.CustomExportExtendedPublicKey=b;var m=function(e){function t(e){var n,r=e.network,i=e.inputs,c=e.outputs,o=e.bip32Paths,s=e.psbt;if(u(this,t),(n=l(this,d(t).call(this))).network=r,n.inputs=i,n.outputs=c,n.bip32Paths=o,s)n.psbt=s;else try{n.psbt=(0,a.unsignedMultisigPSBT)(r,i,c)}catch(p){throw new Error("Unable to build the PSBT from the provided parameters.")}return n}return p(t,e),o(t,[{key:"messages",value:function(){var e=s(d(t.prototype),"messages",this).call(this);return e.push({state:r.PENDING,level:r.INFO,code:"custom.download_psbt",text:"Download and save this PSBT file."}),e.push({state:r.PENDING,level:r.INFO,code:"custom.sign_psbt",text:"Add your signature to the PSBT."}),e.push({state:r.ACTIVE,level:r.INFO,code:"custom.sign_psbt",text:"Verify the transaction details and sign."}),e.push({state:r.ACTIVE,level:r.INFO,code:"custom.upload_signed_psbt",text:"Upload the signed PSBT."}),e}},{key:"request",value:function(){return this.psbt}},{key:"parse",value:function(e){var t=(0,a.parseSignaturesFromPSBT)(e);if(!t||0===t.length)throw new Error("No signatures found in the PSBT. Did you upload the right one?");return t}}]),t}(A);t.CustomSignMultisigTransaction=m},1375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseHermitQRCodeData=v,t.encodeHermitQRCodeData=y,t.HermitSignTransaction=t.HermitExportExtendedPublicKey=t.HermitExportPublicKey=t.HermitDisplayer=t.HermitReader=t.HermitInteraction=t.HERMIT=void 0,n(161),n(271),n(272),n(210),n(457),n(269),n(377),n(378),n(127),n(160),n(236),n(466),n(141),n(128),n(93),n(909),n(307),n(920),n(308);var a=s(n(1376)),r=s(n(1378)),i=s(n(217)),c=n(309),o=n(270);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function p(e,t,n){return(p="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t="Unable to parse QR code";try{var n=a.default.decode.asBytes(e);try{var i=r.default.inflate(n,{to:"string"});try{return JSON.parse(i)}catch(c){throw new Error("".concat(t," (JSON parse error)"))}}catch(c){throw c.message&&c.message.startsWith(t)?c:new Error("".concat(t," (gzip decompression error)"))}}catch(c){throw c.message&&c.message.startsWith(t)?c:new Error("".concat(t," (Base32 decode error)"))}}function y(e){var t="Unable to create QR code";try{var n=JSON.stringify(e);try{var i=r.default.deflate(n,{gzip:!0});try{return a.default.encode(i)}catch(c){throw new Error("".concat(t," (Base32 encode error)"))}}catch(c){throw c.message&&c.message.startsWith(t)?c:new Error("".concat(t," (gzip compression error)"))}}catch(c){throw c.message&&c.message.startsWith(t)?c:new Error("".concat(t," (JSON encode error)"))}}function P(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{state:o.PENDING,level:o.INFO,code:"hermit.command",mode:"wallet"},{},{text:"".concat(e.instructions," '").concat(e.command,"'")},{},e)}t.HERMIT="hermit";var S=function(e){function t(){return f(this,t),A(this,b(t).apply(this,arguments))}return m(t,e),t}(o.IndirectKeystoreInteraction);t.HermitInteraction=S;var I=function(e){function t(){var e;return f(this,t),(e=A(this,b(t).call(this))).reader=!0,e}return m(t,e),d(t,[{key:"messages",value:function(){var e=p(b(t.prototype),"messages",this).call(this);return e.push({state:o.ACTIVE,level:o.INFO,code:"hermit.scanning",text:"Scan Hermit QR code now."}),e}}]),t}(S);t.HermitReader=I;var O=function(e){function t(){var e;return f(this,t),(e=A(this,b(t).call(this))).displayer=!0,e}return m(t,e),t}(I);t.HermitDisplayer=O;var T=function(e){function t(e){var n,a=e.bip32Path;return f(this,t),(n=A(this,b(t).call(this))).bip32Path=a,n}return m(t,e),d(t,[{key:"messages",value:function(){var e=p(b(t.prototype),"messages",this).call(this);return e.push(P({instructions:"Run the following Hermit command, replacing the BIP32 path if you need to:",command:"export-pub ".concat(this.bip32Path)})),e}},{key:"parse",value:function(e){var t=v(e),n=t.xpub,a=t.pubkey,r=t.bip32_path;if(!a)throw n?new Error("Make sure you export a plain public key and NOT an extended public key."):new Error("No public key in QR code.");if(!r)throw new Error("No BIP32 path in QR code.");return t.bip32Path=r,Reflect.deleteProperty(t,"bip32_path"),t}}]),t}(I);t.HermitExportPublicKey=T;var w=function(e){function t(e){var n,a=e.bip32Path;return f(this,t),(n=A(this,b(t).call(this))).bip32Path=a,n}return m(t,e),d(t,[{key:"messages",value:function(){var e=p(b(t.prototype),"messages",this).call(this);return e.push(P({instructions:"Run the following Hermit command, replacing the BIP32 path if you need to:",command:"export-xpub ".concat(this.bip32Path)})),e}},{key:"parse",value:function(e){var t=v(e),n=t.xpub,a=t.pubkey,r=t.bip32_path;if(!n)throw a?new Error("Make sure you export an extended public key and NOT a plain public key."):new Error("No extended public key in QR code.");if(!r)throw new Error("No BIP32 path in QR code.");return t.bip32Path=r,Reflect.deleteProperty(t,"bip32_path"),t}}]),t}(I);t.HermitExportExtendedPublicKey=w;var x=function(e){function t(e){var n,a=e.inputs,r=e.outputs,i=e.bip32Paths;return f(this,t),(n=A(this,b(t).call(this))).inputs=a,n.outputs=r,n.bip32Paths=i,n.inputAddressType="",n}return m(t,e),d(t,[{key:"isSupported",value:function(){return this.inputsAreSupported()&&this.outputsAreSupported()}},{key:"outputsAreSupported",value:function(){if(this.outputs&&this.outputs.length)for(var e=0;e<this.outputs.length;e++){if(this.outputs[e].address.match(/^(tb|bc)/))return!1}return!0}},{key:"inputsAreSupported",value:function(){if(this.inputs&&this.inputs.length)for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],n=(0,c.multisigAddressType)(t.multisig);if(n!==c.MULTISIG_ADDRESS_TYPES.P2SH)return this.inputAddressType=n,!1}return!0}},{key:"messages",value:function(){var e=p(b(t.prototype),"messages",this).call(this);return this.inputsAreSupported()||e.push({state:o.UNSUPPORTED,level:o.ERROR,code:"hermit.unsupported.inputaddress",text:"Unsupported input address type ".concat(this.inputAddressType,", must be P2SH.")}),this.outputsAreSupported()||e.push({state:o.UNSUPPORTED,level:o.ERROR,code:"hermit.unsupported.outputaddress",text:"Unsupported output address type. bech32 addresses are unsupported."}),this.inputsAreSupported()&&this.outputsAreSupported()?(e.push(P({instructions:"Scan this QR code into Hermit by running the following command:",command:"sign-bitcoin"})),e):e}},{key:"request",value:function(){return y(this.signatureRequestData())}},{key:"signatureRequestData",value:function(){for(var e={},t=0;t<this.inputs.length;t++){var n=this.inputs[t],a=this.bip32Paths[t],r=(0,c.scriptToHex)((0,c.multisigRedeemScript)(n.multisig));e[r]||(e[r]=[r,a]),e[r].push({txid:n.txid,index:n.index,amount:new i.default(n.amountSats).toNumber()})}return{inputs:Object.values(e),outputs:this.outputs.map((function(e){return{address:e.address,amount:new i.default(e.amountSats).toNumber()}}))}}},{key:"parse",value:function(e){var t=v(e).signatures;if(!t||0===t.length)throw new Error("No signatures in QR code.");return(t||[]).map((function(e){return"".concat(e,"01")}))}}]),t}(O);t.HermitSignTransaction=x},1387:function(e,t,n){"use strict";(function(e){var a=n(10);Object.defineProperty(t,"__esModule",{value:!0}),t.LedgerSignMultisigTransaction=t.LedgerExportExtendedPublicKey=t.LedgerExportPublicKey=t.LedgerGetMetadata=t.LedgerBitcoinInteraction=t.LedgerDashboardInteraction=t.LedgerInteraction=t.LEDGER_BOTH_BUTTONS=t.LEDGER_RIGHT_BUTTON=t.LEDGER_LEFT_BUTTON=t.LEDGER=void 0,n(387),n(475),n(161),n(127),n(631),n(620),n(236),n(271),n(272),n(210),n(466),n(141),n(128),n(468),n(389),n(307),n(886),n(382),n(467),n(163),n(650),n(93),n(625);var r=n(309),i=n(270),c=n(1388),o=n(1390);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],a=!0,r=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(a=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(s){r=!0,i=s}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t,n,a,r,i,c){try{var o=e[i](c),s=o.value}catch(u){return void n(u)}o.done?t(s):Promise.resolve(s).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function c(e){d(i,a,r,c,o,"next",e)}function o(e){d(i,a,r,c,o,"throw",e)}c(void 0)}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function m(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t,n){return(h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.LEDGER="ledger";var y=n(1391).default,P=n(1394).default,S=n(1420).default;t.LEDGER_LEFT_BUTTON="ledger_left_button";t.LEDGER_RIGHT_BUTTON="ledger_right_button";t.LEDGER_BOTH_BUTTONS="ledger_both_buttons";var I=function(e){function t(){return f(this,t),m(this,E(t).apply(this,arguments))}return g(t,e),b(t,[{key:"messages",value:function(){var e=h(E(t.prototype),"messages",this).call(this);return e.push({state:i.PENDING,level:i.INFO,text:"Please plug in and unlock your Ledger.",code:"device.setup"}),e.push({state:i.ACTIVE,level:i.INFO,text:"Communicating with Ledger...",code:"device.active"}),e}},{key:"withTransport",value:function(){var e=p(a.mark((function e(t){var n,r;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.environment.satisfies({firefox:">70"})){e.next=12;break}return e.prev=2,e.next=5,y.create();case 5:return n=e.sent,e.abrupt("return",t(n));case 9:throw e.prev=9,e.t0=e.catch(2),new Error(e.t0.message);case 12:return e.prev=12,e.next=15,P.create();case 15:return r=e.sent,e.abrupt("return",t(r));case 19:throw e.prev=19,e.t1=e.catch(12),e.t1.message&&("No device selected."===e.t1.message&&(e.t1.message="Select your device in the WebUSB dialog box. Make sure it's plugged in, unlocked, and has the Bitcoin app open."),"undefined is not an object (evaluating 'navigator.usb.getDevices')"===e.t1.message&&(e.t1.message="Safari is not a supported browser.")),new Error(e.t1.message);case 23:case"end":return e.stop()}}),e,this,[[2,9],[12,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"withApp",value:function(e){return this.withTransport(function(){var t=p(a.mark((function t(n){var r;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new S(n),t.abrupt("return",e(r,n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"closeTransport",value:function(){return this.withTransport(function(){var e=p(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.close();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),t}(i.DirectKeystoreInteraction);t.LedgerInteraction=I;var O=function(e){function t(){return f(this,t),m(this,E(t).apply(this,arguments))}return g(t,e),b(t,[{key:"messages",value:function(){var e=h(E(t.prototype),"messages",this).call(this);return e.push({state:i.PENDING,level:i.INFO,text:"Make sure you have the main Ledger dashboard open, NOT the Bitcoin app.",code:"ledger.app.dashboard"}),e.push({state:i.ACTIVE,level:i.INFO,text:"Make sure you have the main Ledger dashboard open, NOT the Bitcoin app.",code:"ledger.app.dashboard"}),e}}]),t}(I);t.LedgerDashboardInteraction=O;var T=function(e){function t(){return f(this,t),m(this,E(t).apply(this,arguments))}return g(t,e),b(t,[{key:"messages",value:function(){var e=h(E(t.prototype),"messages",this).call(this);return e.push({state:i.PENDING,level:i.INFO,text:"Then open the Bitcoin app.",code:"ledger.app.bitcoin"}),e.push({state:i.ACTIVE,level:i.INFO,text:"Make sure you have opened the Bitcoin app.",code:"ledger.app.bitcoin"}),e}}]),t}(I);t.LedgerBitcoinInteraction=T;var w=function(t){function n(){return f(this,n),m(this,E(n).apply(this,arguments))}return g(n,t),b(n,[{key:"run",value:function(){var e=p(a.mark((function e(){var t=this;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.withTransport(function(){var e=p(a.mark((function e(r){var i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.setScrambleKey("B0L0S"),e.next=4,r.send(224,1,0,0);case 4:return i=e.sent,e.abrupt("return",t.parseMetadata(i));case 6:return e.prev=6,e.next=9,h(E(n.prototype),"closeTransport",t).call(t);case 9:return e.finish(6);case 10:case"end":return e.stop()}}),e,null,[[0,,6,10]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseMetadata",value:function(t){try{var n=l(t),a=n.slice(0,n.length-2),r=e.from(a.slice(0,4)).readUIntBE(0,4),i=a[4],c=e.from(a.slice(5,5+i)).toString(),o=a[5+i],s=e.from(a.slice(5+i+1,5+i+1+o)),d=a[5+i+1+o],p=e.from(a.slice(7+i+o,7+i+o+d));0===p[p.length-1]&&(p=p.slice(0,p.length-1)),p=p.toString(),i||(c="0.0.0",s=e.allocUnsafeSlow(0),p="");c.includes("-osu");var f=c.replace("-osu",""),A=u(c.match(/([0-9]+.[0-9]+)(.[0-9]+)?(-(.*))?/)||[],5),b=(A[1],A[4],s.length>0?s[0]:0),m=(Boolean(8&b),Boolean(128&b),u((f||"").split("."),3)),h=m[0],E=m[1],g=m[2],v=u((p||"").split("."),2),y=v[0],P=v[1],S=[{minTargetId:855638020,model:"Nano X"},{minTargetId:823132162,model:"Nano S"},{minTargetId:823132162,model:"Blue"},{minTargetId:16777217,model:"MCU"}],I="Unknown";if(r)for(var O=0;O<S.length;O++){var T=S[O];if(r>=T.minTargetId){I=T.model;break}}return{spec:"".concat(I," v").concat(f," (MCU v").concat(p,")"),model:I,version:{major:h,minor:E,patch:g,string:f},mcuVersion:{major:y,minor:P,string:p}}}catch(w){throw console.error(w),new Error("Unable to parse metadata from Ledger device.")}}}]),n}(O);t.LedgerGetMetadata=w;var x=function(e){function t(e){var n,a=e.bip32Path;f(this,t),(n=m(this,E(t).call(this))).bip32Path=a,n.bip32ValidationErrorMessage={};var i=(0,r.validateBIP32Path)(a);return i.length&&(n.bip32ValidationErrorMessage={text:i,code:"ledger.bip32_path.path_error"}),n}return g(t,e),b(t,[{key:"messages",value:function(){var e=h(E(t.prototype),"messages",this).call(this);return Object.entries(this.bip32ValidationErrorMessage).length&&e.push({state:i.PENDING,level:i.ERROR,code:this.bip32ValidationErrorMessage.code,text:this.bip32ValidationErrorMessage.text}),e}},{key:"hasBIP32PathWarning",value:function(){var e=(0,r.bip32PathToSequence)(this.bip32Path),t=(0,r.hardenedBIP32Index)(0),n=(0,r.hardenedBIP32Index)(44),a=(0,r.hardenedBIP32Index)(100);return 5!==e.length||(e[0]!==n||(e[2]<t||e[2]>a||(0!==e[3]||(e[4]<0||e[4]>5e4))))}},{key:"getFingerprint",value:function(){var e=p(a.mark((function e(){var t,n,i,c=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=c.length>0&&void 0!==c[0]&&c[0])){e.next=7;break}return e.next=4,this.getMultisigRootPublicKey();case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,this.getParentPublicKey();case 9:e.t0=e.sent;case 10:return n=e.t0,i=(0,r.getFingerprintFromPublicKey)(n),e.abrupt("return",t?(0,r.fingerprintToFixedLengthHex)(i):i);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParentPublicKey",value:function(){var e=this;return this.withApp(function(){var t=p(a.mark((function t(n){var i;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,r.getParentBIP32Path)(e.bip32Path),t.next=3,n.getWalletPublicKey(i);case 3:return t.abrupt("return",t.sent.publicKey);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getMultisigRootPublicKey",value:function(){return this.withApp(function(){var e=p(a.mark((function e(t){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getWalletPublicKey();case 2:return e.abrupt("return",e.sent.publicKey);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"run",value:function(){var e=this;return this.withApp(function(){var t=p(a.mark((function t(n){return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.getWalletPublicKey(e.bip32Path));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),t}(T),C=function(e){function t(e){var n,a=e.bip32Path,r=e.includeXFP,i=void 0!==r&&r;return f(this,t),(n=m(this,E(t).call(this,{bip32Path:a}))).includeXFP=i,n}return g(t,e),b(t,[{key:"run",value:function(){var e=p(a.mark((function e(){var n,r,i;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(E(t.prototype),"run",this).call(this);case 3:if(n=e.sent,r=this.parsePublicKey((n||{}).publicKey),!this.includeXFP){e.next=10;break}return e.next=8,this.getFingerprint(!0);case 8:return i=e.sent,e.abrupt("return",{rootFingerprint:i,publicKey:r});case 10:return e.abrupt("return",r);case 11:return e.prev=11,e.next=14,h(E(t.prototype),"closeTransport",this).call(this);case 14:return e.finish(11);case 15:case"end":return e.stop()}}),e,this,[[0,,11,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"parsePublicKey",value:function(e){if(!e)throw new Error("Received no public key from Ledger device.");try{return(0,r.compressPublicKey)(e)}catch(t){throw console.error(t),new Error("Unable to compress public key from Ledger device.")}}}]),t}(x);t.LedgerExportPublicKey=C;var k=function(e){function t(e){var n,a=e.bip32Path,r=e.network,i=e.includeXFP;return f(this,t),(n=m(this,E(t).call(this,{bip32Path:a}))).network=r,n.includeXFP=i,n}return g(t,e),b(t,[{key:"messages",value:function(){return h(E(t.prototype),"messages",this).call(this)}},{key:"run",value:function(){var e=p(a.mark((function e(){var n,i,c,o;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(E(t.prototype),"run",this).call(this);case 3:return n=e.sent,e.next=6,this.getFingerprint();case 6:if(i=e.sent,c=(0,r.deriveExtendedPublicKey)(this.bip32Path,n.publicKey,n.chainCode,i,this.network),!this.includeXFP){e.next=13;break}return e.next=11,this.getFingerprint(!0);case 11:return o=e.sent,e.abrupt("return",{rootFingerprint:o,xpub:c});case 13:return e.abrupt("return",c);case 14:return e.prev=14,e.next=17,h(E(t.prototype),"closeTransport",this).call(this);case 17:return e.finish(14);case 18:case"end":return e.stop()}}),e,this,[[0,,14,18]])})));return function(){return e.apply(this,arguments)}}()}]),t}(x);t.LedgerExportExtendedPublicKey=k;var j=function(e){function t(e){var n,a=e.network,r=e.inputs,i=e.outputs,c=e.bip32Paths;return f(this,t),(n=m(this,E(t).call(this))).network=a,n.inputs=r,n.outputs=i,n.bip32Paths=c,n}return g(t,e),b(t,[{key:"messages",value:function(){var e=h(E(t.prototype),"messages",this).call(this);return e.push({state:i.ACTIVE,level:i.WARNING,code:"ledger.sign.delay",text:"Your Ledger device may take up to several minutes to process a transaction with many inputs.",preProcessingTime:this.preProcessingTime(),postProcessingTime:this.postProcessingTime()}),this.anySegwitInputs()?(e.push({state:i.ACTIVE,level:i.INFO,code:"ledger.sign",version:"<1.6.0",text:'Your Ledger will ask you to "Confirm transaction" and display each output amount and address followed by the the fee amount.',action:"ledger_right_button"}),e.push({state:i.ACTIVE,level:i.INFO,code:"ledger.sign",version:">=1.6.0",text:"Confirm each output on your Ledger device and approve the transaction.",messages:[{text:'Your Ledger will ask you to "Review transaction".',action:"ledger_right_button"},{text:"For each output, your Ledger device will display the output amount...",action:"ledger_right_button"},{text:"...followed by the output address in several parts",action:"ledger_right_button"},{text:"Your Ledger will display the transaction fees.",action:"ledger_right_button"},{text:'Your Ledger will ask you to "Accept and send".',action:"ledger_both_buttons"}]})):(e.push({state:i.ACTIVE,level:i.INFO,code:"ledger.sign",version:"<1.6.0",text:"Confirm each output on your Ledger device and approve the transaction.",messages:[{text:"For each output, your Ledger will display the output amount and address for you to confirm.",action:"ledger_right_button"},{text:'Your Ledger will ask if you want to "Confirm the transaction".  Due to a bug in the Ledger software, your device may display the transaction fee as "UNKNOWN".',action:"ledger_right_button"}]}),e.push({state:i.ACTIVE,level:i.INFO,code:"ledger.sign",version:">=1.6.0",text:"Confirm each output on your Ledger device and approve the transaction.",messages:[{text:'For each output, your Ledger will ask you to "Review output".',action:"ledger_right_button"},{text:"Your Ledger will display the output amount.",action:"ledger_right_button"},{text:"Your Ledger will display the output address in several parts.",action:"ledger_right_button"},{text:'Your Ledger will ask if you want to "Accept" the output.',action:"ledger_both_buttons"},{text:'Your Ledger will ask if you want to "Confirm the transaction".',action:"ledger_right_button"},{text:'Due to a bug in the Ledger software, your device will display the transaction fee as "UNKNOWN".',action:"ledger_right_button"},{text:'Your Ledger will ask you to "Accept and send".',action:"ledger_both_buttons"}]})),e}},{key:"preProcessingTime",value:function(){return 10}},{key:"postProcessingTime",value:function(){return 10}},{key:"run",value:function(){var e=this;return this.withApp(function(){var t=p(a.mark((function t(n,r){var i;return a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.setExchangeTimeout(2e4*e.outputs.length),t.next=4,n.signP2SHTransaction({inputs:e.ledgerInputs(),associatedKeysets:e.ledgerKeysets(),outputScriptHex:e.ledgerOutputScriptHex(),lockTime:0,sigHashType:1,segwit:e.anySegwitInputs(),transactionVersion:1});case 4:return i=t.sent,t.abrupt("return",e.parse(i));case 6:return t.prev=6,r.close(),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"parse",value:function(e){return(e||[]).map((function(e){return"".concat((0,r.signatureNoSighashType)(e),"01")}))}},{key:"ledgerInputs",value:function(){return this.inputs.map((function(e){var t=(0,r.multisigAddressType)(e.multisig),n=(0,c.splitTransaction)(e.transactionHex,!0),a=t===r.P2SH?r.multisigRedeemScript:r.multisigWitnessScript,i=(0,r.scriptToHex)(a(e.multisig));return[n,e.index,i]}))}},{key:"ledgerKeysets",value:function(){var e=this;return this.bip32Paths.map((function(t){return e.ledgerBIP32Path(t)}))}},{key:"ledgerOutputScriptHex",value:function(){var e=(0,r.unsignedMultisigTransaction)(this.network,this.inputs,this.outputs).toHex(),t=(0,c.splitTransaction)(e,this.anySegwitInputs());return(0,o.serializeTransactionOutputs)(t).toString("hex")}},{key:"ledgerBIP32Path",value:function(e){return e.split("/").slice(1).join("/")}},{key:"anySegwitInputs",value:function(){for(var e=0;e<this.inputs.length;e++){var t=this.inputs[e],n=(0,r.multisigAddressType)(t.multisig);if(n===r.P2SH_P2WSH||n===r.P2WSH)return!0}return!1}}]),t}(T);t.LedgerSignMultisigTransaction=j}).call(this,n(8).Buffer)},1444:function(e,t,n){"use strict";(function(e){var a=n(10);Object.defineProperty(t,"__esModule",{value:!0}),t.trezorCoin=B,t.TrezorConfirmMultisigAddress=t.TrezorSignMultisigTransaction=t.TrezorExportExtendedPublicKey=t.TrezorExportPublicKey=t.TrezorExportHDNode=t.TrezorGetMetadata=t.TrezorInteraction=t.TREZOR_PUSH_AND_HOLD_BUTTON=t.TREZOR_BOTH_BUTTONS=t.TREZOR_RIGHT_BUTTON=t.TREZOR_LEFT_BUTTON=t.TREZOR=void 0,n(457),n(269),n(377),n(378),n(160),n(161),n(127),n(631),n(620),n(271),n(272),n(210),n(236),n(879),n(163),n(650),n(1445),n(466),n(141),n(128),n(93),n(468),n(389),n(625);var r,i=l(n(217)),c=n(309),o=l(n(1447)),s=n(270),u=n(6);function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],a=!0,r=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(a=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(s){r=!0,i=s}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function A(e,t,n,a,r,i,c){try{var o=e[i](c),s=o.value}catch(u){return void n(u)}o.done?t(s):Promise.resolve(s).then(a,r)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function E(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t,n){return(g="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.TREZOR="trezor";var I=n(1478).default,O=(S(r={},c.P2SH,"SPENDMULTISIG"),S(r,c.P2SH_P2WSH,"SPENDP2SHWITNESS"),S(r,c.P2WSH,"SPENDWITNESS"),r);t.TREZOR_LEFT_BUTTON="trezor_left_button";t.TREZOR_RIGHT_BUTTON="trezor_right_button";t.TREZOR_BOTH_BUTTONS="trezor_both_buttons";t.TREZOR_PUSH_AND_HOLD_BUTTON="trezor_push_and_hold_button";try{I.manifest({email:"help@unchained-capital.com",appUrl:"https://github.com/unchained-capital/unchained-wallets"})}catch(D){console.error("Unable to call TrezorConnect.manifest.")}var T=function(e){function t(e){var n,a=e.network;return b(this,t),(n=E(this,v(t).call(this))).network=a,n.trezorCoin=B(a),n}return y(t,e),h(t,[{key:"messages",value:function(){var e=g(v(t.prototype),"messages",this).call(this);return e.push({version:"One",state:s.PENDING,level:s.INFO,text:"Make sure your Trezor device is plugged in.",code:"device.connect"}),e.push({version:"T",state:s.PENDING,level:s.INFO,text:"Make sure your Trezor device is plugged in and unlocked.",code:"device.connect"}),e.push({state:s.ACTIVE,level:s.INFO,text:"Your browser should now open a new window to Trezor Connect. Ensure you have enabled popups for this site.",code:"trezor.connect.generic"}),e}},{key:"run",value:function(){var e,t=(e=a.mark((function e(){var t,n,r,i,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.connectParams(),n=f(t,2),r=n[0],i=n[1],e.next=3,r(i);case 3:if((c=e.sent).success){e.next=6;break}throw new Error(c.payload.error);case 6:return e.abrupt("return",this.parse(c.payload));case 7:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function c(e){A(i,a,r,c,o,"next",e)}function o(e){A(i,a,r,c,o,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}()},{key:"connectParams",value:function(){return[function(){throw new Error("Override the `connectParams` method on a subclass of TrezorInteraction.")},{}]}},{key:"parse",value:function(e){return e}}]),t}(s.DirectKeystoreInteraction);t.TrezorInteraction=T;var w=function(e){function t(){return b(this,t),E(this,v(t).call(this,{}))}return y(t,e),h(t,[{key:"connectParams",value:function(){return[I.getFeatures,{}]}},{key:"parse",value:function(e){var t=e.major_version,n=e.minor_version,a=e.patch_version,r=e.label,i=e.model,c=e.pin_protection,o=e.passphrase_protection,s="Model ".concat(i," v.").concat(t,".").concat(n,".").concat(a);return c&&(s+=" w/PIN"),o&&(s+=" w/PASS"),{spec:s,model:"Model ".concat(i),version:{major:t,minor:n,patch:a,string:"".concat(t,".").concat(n,".").concat(a)},label:r,pin:c,passphrase:o}}}]),t}(T);t.TrezorGetMetadata=w;var x=function(e){function t(e){var n,a=e.network,r=e.bip32Path,i=e.includeXFP;b(this,t),(n=E(this,v(t).call(this,{network:a}))).bip32Path=r,n.includeXFP=i,n.bip32ValidationErrorMessage={};var o=(0,c.validateBIP32Path)(r);return o.length&&(n.bip32ValidationErrorMessage={text:o,code:"trezor.bip32_path.path_error"}),n}return y(t,e),h(t,[{key:"messages",value:function(){var e=g(v(t.prototype),"messages",this).call(this);return(this.bip32Path||"").split("/").length<4&&e.push({state:s.PENDING,level:s.ERROR,text:"BIP32 path must be at least depth 3.",code:"trezor.bip32_path.minimum"}),Object.entries(this.bip32ValidationErrorMessage).length&&e.push({state:s.PENDING,level:s.ERROR,code:this.bip32ValidationErrorMessage.code,text:this.bip32ValidationErrorMessage.text}),e.push({state:s.ACTIVE,level:s.INFO,text:"Confirm in the Trezor Connect window that you want to 'Export public key'. You may be prompted to enter your PIN.",code:"trezor.connect.export_hdnode"}),e}},{key:"extractDetailsFromPayload",value:function(e){var t=e.payload,n=e.pubkey;if(2!==t.length)throw new Error("Payload does not have two responses.");for(var a="",r=null,i=0;i<t.length;i++)if(t[i].serializedPath===u.MULTISIG_ROOT){var o=t[i].fingerprint;r=(0,c.fingerprintToFixedLengthHex)(o)}else a=n?t[i].publicKey:t[i].xpub;return{rootFingerprint:r,keyMaterial:a}}},{key:"connectParams",value:function(){return this.includeXFP?[I.getPublicKey,{bundle:[{path:this.bip32Path},{path:u.MULTISIG_ROOT}],coin:this.trezorCoin,crossChain:!0}]:[I.getPublicKey,{path:this.bip32Path,coin:this.trezorCoin,crossChain:!0}]}}]),t}(T);t.TrezorExportHDNode=x;var C=function(e){function t(e){var n,a=e.network,r=e.bip32Path,i=e.includeXFP;return b(this,t),(n=E(this,v(t).call(this,{network:a,bip32Path:r,includeXFP:i}))).includeXFP=i,n}return y(t,e),h(t,[{key:"parse",value:function(e){if(this.includeXFP){var t=this.extractDetailsFromPayload({payload:e,pubkey:!0});return{rootFingerprint:t.rootFingerprint,publicKey:t.keyMaterial}}return e.publicKey}}]),t}(x);t.TrezorExportPublicKey=C;var k=function(e){function t(e){var n,a=e.network,r=e.bip32Path,i=e.includeXFP;return b(this,t),(n=E(this,v(t).call(this,{network:a,bip32Path:r,includeXFP:i}))).includeXFP=i,n}return y(t,e),h(t,[{key:"parse",value:function(e){if(this.includeXFP){var t=this.extractDetailsFromPayload({payload:e,pubkey:!1});return{rootFingerprint:t.rootFingerprint,xpub:t.keyMaterial}}return e.xpub}}]),t}(x);t.TrezorExportExtendedPublicKey=k;var j=function(e){function t(e){var n,a=e.network,r=e.inputs,i=e.outputs,c=e.bip32Paths;return b(this,t),(n=E(this,v(t).call(this,{network:a}))).inputs=r,n.outputs=i,n.bip32Paths=c,n}return y(t,e),h(t,[{key:"messages",value:function(){var e=g(v(t.prototype),"messages",this).call(this);return e.push({state:s.ACTIVE,level:s.INFO,text:"Confirm in the Trezor Connect window that you want to 'Sign ".concat(this.network," transaction'.  You may be prompted to enter your PIN."),code:"trezor.connect.sign"}),e.push({state:s.ACTIVE,level:s.INFO,version:"One",text:"Confirm each output on your Trezor device and approve the transaction.",messages:[{text:"For each output, your Trezor device will display the output amount and address.",action:"trezor_right_button"},{text:"Your Trezor device will display the total output amounts and fee amount.",action:"trezor_right_button"}],code:"trezor.sign"}),e.push({state:s.ACTIVE,level:s.INFO,version:"T",text:"Confirm each output on your Trezor device and approve the transaction.",messages:[{text:'For each input, your Trezor device will display a "Confirm path" dialogue displaying the input BIP32 path.  It is safe to continue',action:"trezor_right_button"},{text:'For each output, your Trezor device will display a "Confirm sending" dialogue displaying the output amount and address.',action:"trezor_right_button"},{text:'Your Trezor device will display the "Confirm transaction" dialogue displaying the total output amount and fee amount.',action:"trezor_push_and_hold_button"}],code:"trezor.sign"}),e}},{key:"connectParams",value:function(){var e=this;return[I.signTransaction,{inputs:this.inputs.map((function(t,n){return function(e,t){var n=(0,c.multisigRequiredSigners)(e.multisig),a=(0,c.multisigPublicKeys)(e.multisig),r=(0,c.multisigAddressType)(e.multisig);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({script_type:O[r],multisig:{m:n,pubkeys:a.map((function(e){return N(e)})),signatures:Array(a.length).fill("")},prev_hash:e.txid,prev_index:e.index,address_n:(0,c.bip32PathToSequence)(t)},e.amountSats&&{amount:(0,i.default)(e.amountSats).toString()})}(t,e.bip32Paths[n])})),outputs:this.outputs.map((function(e){return function(e){return{amount:(0,i.default)(e.amountSats).toFixed(0),address:e.address,script_type:"PAYTOADDRESS"}}(e)})),coin:this.trezorCoin}]}},{key:"parse",value:function(e){return(e.signatures||[]).map((function(e){return"".concat((0,c.signatureNoSighashType)(e),"01")}))}}]),t}(T);t.TrezorSignMultisigTransaction=j;var R=function(t){function n(e){var t,a=e.network,r=e.bip32Path,i=e.multisig,c=e.publicKey;return b(this,n),(t=E(this,v(n).call(this,{network:a}))).bip32Path=r,t.multisig=i,t.publicKey=c,t}return y(n,t),h(n,[{key:"messages",value:function(){var e=g(v(n.prototype),"messages",this).call(this);return this.publicKey?e.push({state:s.ACTIVE,level:s.INFO,text:"Confirm in the Trezor Connect window that you want to \u2018Export multiple ".concat(this.trezorCoin," addresses\u2019. You may be prompted to enter your PIN. You may also receive a warning about your selected BIP32 path."),code:"trezor.connect.confirm_address"}):e.push({state:s.ACTIVE,level:s.INFO,text:"Confirm in the Trezor Connect window that you want to 'Export ".concat(this.trezorCoin," address'.  You may be prompted to enter your PIN."),code:"trezor.connect.confirm_address"}),e.push({state:s.ACTIVE,level:s.INFO,version:"One",text:"It is safe to continue and confirm the address on your Trezor device.",messages:[{text:'Your Trezor device may display a warning "Wrong address path for selected coin".  It is safe to continue',action:"trezor_right_button"},{text:"Your Trezor device will display the multisig address and BIP32 path.",action:"trezor_right_button"}],code:"trezor.confirm_address"}),e.push({state:s.ACTIVE,level:s.INFO,version:"T",text:"Confirm the addresss on your Trezor device.",messages:[{text:'For each signer in your quorum, your Trezor device will display a "Confirm path" dialogue displaying the signer\'s BIP32 path.  It is safe to continue',action:"trezor_right_button"},{text:"Your Trezor device will display the multisig address.",action:"trezor_right_button"}],code:"trezor.confirm_address"}),e}},{key:"connectParams",value:function(){return this.publicKey?[I.getAddress,{bundle:[{path:this.bip32Path,showOnTrezor:!1,coin:this.trezorCoin,crossChain:!0},{path:this.bip32Path,address:(0,c.multisigAddress)(this.multisig),showOnTrezor:!0,coin:this.trezorCoin,crossChain:!0,multisig:{m:(0,c.multisigRequiredSigners)(this.multisig),pubkeys:(0,c.multisigPublicKeys)(this.multisig).map((function(e){return N(e)}))},scriptType:O[(0,c.multisigAddressType)(this.multisig)]}]}]:[I.getAddress,{path:this.bip32Path,address:(0,c.multisigAddress)(this.multisig),showOnTrezor:!0,coin:this.trezorCoin,crossChain:!0,multisig:{m:(0,c.multisigRequiredSigners)(this.multisig),pubkeys:(0,c.multisigPublicKeys)(this.multisig).map((function(e){return N(e)}))},scriptType:O[(0,c.multisigAddressType)(this.multisig)]}]}},{key:"parse",value:function(t){if(!this.publicKey)return t;var n=o.default.ECPair.fromPublicKey(e.from(this.publicKey,"hex")),a=o.default.payments.p2pkh({pubkey:n.publicKey,network:(0,c.networkData)(this.network)}).address;if(a!==t[0].address&&a!==t[1].address)throw new Error("Wrong public key specified");return t}}]),n}(T);function B(e){return e===c.MAINNET?"Bitcoin":"Testnet"}function N(e){return{address_n:[],node:{depth:0,child_num:0,fingerprint:0,chain_code:"0".repeat(64),public_key:e}}}t.TrezorConfirmMultisigAddress=R}).call(this,n(8).Buffer)},1506:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.KeystoneSignMultisigTransaction=t.KeystoneExportExtendedPublicKey=t.KeystoneWalletPlayer=t.KeystonePSBTPlayer=t.KeystoneDisplayer=t.KeystoneWalletReader=t.KeystoneReader=t.KeystoneInteraction=t.KEYSTONE=void 0,n(161),n(271),n(272),n(210),n(457),n(269),n(378),n(127),n(236),n(920),n(468),n(377),n(141),n(128),n(160),n(632),n(163),n(650),n(93),n(308);var a,r=n(309),i=n(671),c=n(675),o=n(270);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t,n){return(d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.KEYSTONE="keystone";var v=(g(a={},r.MAINNET,{"m/45'":r.P2SH,"m/48'/0'/0'/1'":r.P2SH_P2WSH,"m/48'/0'/0'/2'":r.P2WSH}),g(a,r.TESTNET,{"m/45'":r.P2SH,"m/48'/1'/0'/1'":r.P2SH_P2WSH,"m/48'/1'/0'/2'":r.P2WSH}),a),y=null;function P(e){return E({},{state:o.PENDING,level:o.INFO,code:"keystone.command",mode:"wallet"},{},{text:"".concat(e.instructions)},{},e)}var S=function(e){function t(){return p(this,t),f(this,A(t).apply(this,arguments))}return b(t,e),t}(o.IndirectKeystoreInteraction);t.KeystoneInteraction=S;var I=function(e){function t(){var e;return p(this,t),(e=f(this,A(t).call(this))).reader=!0,e}return b(t,e),l(t,[{key:"messages",value:function(){var e=d(A(t.prototype),"messages",this).call(this);return e.push({state:o.ACTIVE,level:o.INFO,code:"keystone.scanning",text:"Scan Keystone QR code now."}),e}},{key:"parse",value:function(e){return function(e){if(!e)return{success:!1,progress:0};if(!e.startsWith("UR"))throw new Error("Unknown QR code");if(null===y&&(y=new c.URDecoder),y.receivePart(e),y.isSuccess()){var t={success:!0,result:y.resultUR(),progress:y.getProgress()};return y=new c.URDecoder,t}if(y.isError())throw y=new c.URDecoder,new Error("Invalid Keystone Wallet QR code, invalid checksum");return{success:!1,progress:y.getProgress()}}(e)}}]),t}(S);t.KeystoneReader=I;var O=function(e){function t(){return p(this,t),f(this,A(t).apply(this,arguments))}return b(t,e),l(t,[{key:"parse",value:function(e){var n=d(A(t.prototype),"parse",this).call(this,e),a=n.success,r=n.result,c=n.progress;if(!a)return{success:!1,progress:c};if("bytes"===r.type)return{success:!0,result:i.Bytes.fromCBOR(r.cbor).getData().toString("utf-8"),progress:c};throw new Error("Unknown QR code")}}]),t}(I);t.KeystoneWalletReader=O;var T=function(e){function t(){var e;return p(this,t),(e=f(this,A(t).call(this))).displayer=!0,e}return b(t,e),t}(S);t.KeystoneDisplayer=T;var w=function(t){function n(){return p(this,n),f(this,A(n).apply(this,arguments))}return b(n,t),l(n,[{key:"encode",value:function(t){return new i.CryptoPSBT(e.from(t,"hex")).toUREncoder(400)}}]),n}(T);t.KeystonePSBTPlayer=w;var x=function(t){function n(){return p(this,n),f(this,A(n).apply(this,arguments))}return b(n,t),l(n,[{key:"encode",value:function(t){return new i.Bytes(e.from(t,"hex")).toUREncoder(400)}}]),n}(T);t.KeystoneWalletPlayer=x;var C=function(e){function t(e){var n,a=e.network,i=e.bip32Path,c=e.includeXFP;if(p(this,t),n=f(this,A(t).call(this,{network:a,bip32Path:i,includeXFP:c})),![r.MAINNET,r.TESTNET].find((function(e){return e===a})))throw new Error("Unknown network.");return n.network=a,n.bip32Path=i,n.includeXFP=c,n.bip32ValidationErrorMessage={},n.bip32ValidationError=n.validateBip32Path(),n}return b(t,e),l(t,[{key:"isSupported",value:function(){return!this.bip32ValidationError.length}},{key:"validateBip32Path",value:function(){var e=(0,r.validateBIP32Path)(this.bip32Path);if(e.length)return this.bip32ValidationErrorMessage={text:e,code:"keystone.bip32_path.path_error"},e;var t=this.getPathBase();if(t){if(t===this.bip32Path)return"";var n=(0,r.getRelativeBIP32Path)(t,this.bip32Path),a=(0,r.validateBIP32Path)(n,{mode:"unhardened"});return a?(this.bip32ValidationErrorMessage={text:a,code:"keystone.bip32_path.no_hardened_relative_path_error"},a):""}var i="The bip32Path must begin with one of the known Keystone paths: ".concat(Object.keys(v[this.network]));return this.bip32ValidationErrorMessage={text:i,code:"keystone.bip32_path.unknown_path_base_error"},i}},{key:"getPathBase",value:function(){var e,t=this;return Object.keys(v[this.network]).forEach((function(n){t.bip32Path.startsWith(n)&&(e=n)})),e}},{key:"messages",value:function(){var e=d(A(t.prototype),"messages",this).call(this);return e.push(P({instructions:"\u2460Please open Keystone, go to Menu > Multisig Wallet > More > Show/Export  XPUB."})),e.push(P({instructions:"\u2461Click the camera icon above and scan the QR Code of XPUB displays on Keystone"})),Object.entries(this.bip32ValidationErrorMessage).length&&e.push({state:o.PENDING,level:o.ERROR,code:this.bip32ValidationErrorMessage.code,text:this.bip32ValidationErrorMessage.text}),e}},{key:"deriveDeeperXpubIfNecessary",value:function(e){var t=this.getPathBase(),n=(0,r.getRelativeBIP32Path)(t,this.bip32Path);return n.length?(0,r.deriveChildExtendedPublicKey)(e,n,this.network):e}},{key:"parseResult",value:function(e){var t=e.xpub,n=e.path,a=e.xfp;if(!t)throw new Error("No Extended PublicKey.");if(!n)throw new Error("No BIP32 path.");if(!this.bip32Path.startsWith(n))throw new Error("Got wrong bip32 key, expected key: ".concat(this.getPathBase(),", received key: ").concat(n,", please check the exported key in you Keystone"));return e.xpub=this.deriveDeeperXpubIfNecessary(t),e.bip32Path=this.bip32Path,e.rootFingerprint=a,Reflect.deleteProperty(e,"xfp"),Reflect.deleteProperty(e,"path"),{success:!0,result:e}}},{key:"parse",value:function(e){var n=d(A(t.prototype),"parse",this).call(this,e),a=n.success,r=n.result;if(!a)return{success:!1};if("crypto-account"===r.type){var c=i.CryptoAccount.fromCBOR(r.cbor),o=c.getMasterFingerprint();if(!o)throw new Error("Invalid Keystone Wallet QR code, no master fingerprint found");var s=o.toString("hex"),u=c.getOutputDescriptors()[0];if(!u)throw new Error("Invalid Keystone Wallet QR code, no expected crypto output found");var l=u.getHDKey();if(!l)throw new Error("Invalid Keystone Wallet QR code, no expected crypto hd key found");var p=l.getBip32Key(),f="m/".concat(l.getOrigin().getPath());return this.parseResult({xfp:s,path:f,xpub:p})}throw new Error("Unknown QR code")}},{key:"parseFile",value:function(e){try{var t=JSON.parse(e);return this.parseResult(t)}catch(n){throw new Error("Unable to parse file")}}}]),t}(I);t.KeystoneExportExtendedPublicKey=C;var k=function(t){function n(e){var t,a=e.network,i=e.inputs,c=e.outputs,o=e.bip32Paths,s=e.psbt;if(p(this,n),(t=f(this,A(n).call(this))).network=a,t.inputs=i,t.outputs=c,t.bip32Paths=o,s)t.psbt=s;else try{console.log(i),t.psbt=(0,r.unsignedMultisigPSBT)(a,i,c),console.log(t.psbt)}catch(u){throw new Error("Unable to build the PSBT from the provided parameters.")}return t}return b(n,t),l(n,[{key:"isSupported",value:function(){return!0}},{key:"messages",value:function(){var e=d(A(n.prototype),"messages",this).call(this);return e.push(P({instructions:"Scan this QR code into Keystone and sign the transaction."})),e}},{key:"request",value:function(){return"string"===typeof this.psbt?this.psbt.startsWith("70736274")?this.psbt:e.from(this.psbt,"base64").toString("hex"):(console.log(this.psbt),console.log(this.psbt.toHex()),this.psbt.toHex())}},{key:"parse",value:function(e){var t=d(A(n.prototype),"parse",this).call(this,e);return t.success?E({},t,{result:(0,r.parseSignaturesFromPSBT)(t.result)}):t}},{key:"parseFile",value:function(e){return{success:!0,result:(0,r.parseSignaturesFromPSBT)(e),type:"psbt"}}}]),n}(I);t.KeystoneSignMultisigTransaction=k}).call(this,n(8).Buffer)},1543:function(e,t){},1545:function(e,t){},1559:function(e,t){},1562:function(e,t){},1726:function(e,t,n){},1731:function(e,t,n){},1732:function(e,t,n){},1733:function(e,t){e.exports="data:image/png;base64,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"},1735:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SET_ERROR_NOTIFICATION",(function(){return Le})),n.d(a,"CLEAR_ERROR_NOTIFICATION",(function(){return Qe})),n.d(a,"setErrorNotification",(function(){return Ge})),n.d(a,"clearErrorNotification",(function(){return We}));var r={};n.r(r),n.d(r,"START_TEST_SUITE_RUN",(function(){return Ki})),n.d(r,"SET_CURRENT_TEST_RUN",(function(){return Mi})),n.d(r,"startTestSuiteRun",(function(){return Fi})),n.d(r,"setCurrentTestRun",(function(){return Ui}));var i={};n.r(i),n.d(i,"SET_KEYSTORE",(function(){return Hi})),n.d(i,"SET_KEYSTORE_NOTE",(function(){return _i})),n.d(i,"SET_KEYSTORE_STATUS",(function(){return Li})),n.d(i,"setKeystore",(function(){return Qi})),n.d(i,"setKeystoreNote",(function(){return Gi})),n.d(i,"setKeystoreStatus",(function(){return Wi}));var c={};n.r(c),n.d(c,"START_TEST_RUN",(function(){return Yi})),n.d(c,"END_TEST_RUN",(function(){return Vi})),n.d(c,"RESET_TEST_RUN",(function(){return zi})),n.d(c,"SET_TEST_RUN_NOTE",(function(){return qi})),n.d(c,"startTestRun",(function(){return Xi})),n.d(c,"endTestRun",(function(){return Zi})),n.d(c,"resetTestRun",(function(){return Ji})),n.d(c,"setTestRunNote",(function(){return $i}));var o=n(0),s=n.n(o),u=n(33),l=n.n(u),d=n(99),p=n(20),f=n(1046),A=n.n(f),b=n(1047),m=n(11),h=n(18),E=n(14),g=n(13),v=n(1086),y=n(1087),P=n(60),S=n(1793),I=n(1792),O=n(330),T=n(126),w=n(135),x=n(100),C=n(1742),k=n(1743),j=n(1744),R=n(199),B=n(726),N=n(1089),D=n(1745),K=n(708),M=n(1778),F=n(1773),U=n(1774),H=n(1775),_=n(1776),L=n(1777),Q=n(1779),G=n(1780),W=n(32),Y=function(){return s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Disclaimer"}),s.a.createElement(j.a,null,s.a.createElement("small",null,"This application is in \u201calpha\u201d state and is presented for evaluation and testing only. It is provided \u201cas is,\u201d and any express or implied warranties, including but not limited to the implied warranties of merchantability and fitness for a particular purpose, are disclaimed. By using this application, you accept all risks of such use, including full responsibility for any direct or indirect loss of any kind resulting from the use of this application, which may involve complete loss of any Bitcoin or other coins associated with addresses used with this application. In no event shall Unchained Capital, Inc., its employees and affiliates, or developers of this application be liable for any direct, indirect, incidental, special, exemplary, or consequential damages (including, but not limited to, procurement of substitute goods or services; loss of use, data, or profits; or business interruption) however caused and on any theory of liability, whether in contract, strict liability, or tort (including negligence or otherwise) arising in any way out of the use of this application, even if advised of the possibility of such damage.")))},V=function(){return s.a.createElement("div",null,s.a.createElement(T.a,{mt:4,mb:2},s.a.createElement(w.a,{variant:"h2"},"Welcome to Caravan!")),s.a.createElement(x.a,{container:!0,spacing:3},s.a.createElement(x.a,{container:!0,item:!0,md:8,spacing:2,direction:"column"},s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Get Started"}),s.a.createElement(j.a,null,s.a.createElement(T.a,{mb:3},s.a.createElement(w.a,null,"Start using caravan by choosing to either make a multisig wallet or fully stateless address.")),s.a.createElement(x.a,{container:!0,alignItems:"center",justify:"center",spacing:3},s.a.createElement(x.a,{item:!0,xs:10,md:4},s.a.createElement(R.a,{variant:"contained","data-cy":"setup-wallet-button",size:"large",color:"primary",href:"#/wallet",startIcon:s.a.createElement(F.a,null)},"Wallet")),s.a.createElement(x.a,{item:!0,xs:10,md:4},s.a.createElement(R.a,{variant:"contained","data-cy":"setup-address-button",size:"large",color:"default",href:"#/address",startIcon:s.a.createElement(U.a,null)},"Address")))))),s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Stateless Multisig Coordinator"}),s.a.createElement(j.a,null,s.a.createElement("p",null,"Caravan makes bitcoin multisig custody easier and safer through transparency and standards."),s.a.createElement("p",null,"Caravan is a ",s.a.createElement("strong",null,"coordination software")," for multisig addresses and wallets. Caravan can be used to build a multisig wallet derived from xpubs, or individual multisig addresses derived from pubkeys. In both cases, in order to transact from the wallet or address, you must also have your private keys and BIP32 paths."),s.a.createElement("p",null,"Caravan is ",s.a.createElement("strong",null,"stateless"),". It does not itself store any data outside your current browser session. You must safekeep the wallet details (xpubs, BIP32 paths) and addresses (redeem scripts, BIP32 paths) that you create.")))),s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Keys"}),s.a.createElement(j.a,null,s.a.createElement("p",null,"All bitcoin is ultimately protected by private keys."),s.a.createElement("p",null,"Your private key may live on a piece of paper, a hardware wallet, some software on a laptop, or even just in your mind. Caravan, being stateless, does not store or ask for your private key but it can talk to hardware devices or software applications which do."),s.a.createElement("p",null,"Caravan supports entering public keys and signatures via text, so any wallet which can export such data can be made compatible with Caravan.")))),s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Consensus"}),s.a.createElement(j.a,null,s.a.createElement("p",null,"In order to look up wallet addresses and their balances, and broadcast transactions, Caravan requires knowledge of the constantly changing bitcoin network."),s.a.createElement("p",null,"Running a full bitcoin node is the most private way to determine the current state of the bitcoin network. Caravan can be easily configured to use your own node for consensus information and broadcasting transactions."),s.a.createElement("p",null,"If you don't want to or cannot run your own full node, Caravan defaults to using the freely available API at",s.a.createElement("code",null," blockstream.info"),"."))))),s.a.createElement(x.a,{container:!0,item:!0,md:4,spacing:4,direction:"column"},s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Learn More"}),s.a.createElement(j.a,null,s.a.createElement(B.a,null,s.a.createElement(N.a,null,s.a.createElement(D.a,null,s.a.createElement(H.a,null)),s.a.createElement(K.a,null,Object(W.b)("https://unchained-capital.com/blog/gearing-up-the-caravan/","Blog Post"))),s.a.createElement(N.a,null,s.a.createElement(D.a,null,s.a.createElement(_.a,null)),s.a.createElement(K.a,null,Object(W.b)("https://www.youtube.com/playlist?list=PLUM8mrUjWoPRsVGEZ1gTntqPd4xrQZoiH","Video Tutorials"))),s.a.createElement(N.a,null,s.a.createElement(D.a,null,s.a.createElement(L.a,null)),s.a.createElement(K.a,null,Object(W.b)("https://github.com/unchained-capital/caravan","Source Code"))))))),s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Supported Devices"}),s.a.createElement(j.a,null,"Caravan has been ",s.a.createElement("a",{href:"#/test"},"tested")," with the following hardware wallets:",s.a.createElement("ul",null,s.a.createElement("li",null,Object(W.b)("https://shop.trezor.io/product/trezor-one-white","Trezor One")),s.a.createElement("li",null,Object(W.b)("https://shop.trezor.io/product/trezor-model-t","Trezor Model T")),s.a.createElement("li",null,Object(W.b)("https://www.ledger.com/products/ledger-nano-s","Ledger Nano S")),s.a.createElement("li",null,Object(W.b)("https://www.ledger.com/products/ledger-nano-x","Ledger Nano X")),s.a.createElement("li",null,Object(W.b)("https://coldcardwallet.com","Coldcard Mk2 & Mk3")),s.a.createElement("li",null,Object(W.b)("https://keyst.one","Keystone"))),"And web browsers:",s.a.createElement("ul",null,s.a.createElement("li",null,Object(W.b)("https://www.google.com/chrome/","Chrome")),s.a.createElement("li",null,Object(W.b)("https://www.mozilla.org/en-US/firefox/new/","Firefox"))),"Seeing a bug or need a feature?"),s.a.createElement(M.a,null,s.a.createElement(R.a,{href:"https://github.com/unchained-capital/caravan/issues"},s.a.createElement(Q.a,null)," \xa0 Report Issue"),s.a.createElement(R.a,{"data-cy":"run-tests-button",href:"#/test"},s.a.createElement(G.a,null)," \xa0 Run Tests")))))),s.a.createElement(T.a,{mt:2},s.a.createElement(Y,null)))},z=n(2),q=n(10),X=n.n(q),Z=n(16),J=n(5),$=n(293),ee=n(6),te=n(42),ne=n(38),ae=n(27),re=n.n(ae),ie=n(246),ce=n.n(ie);function oe(){return(oe=Object(Z.a)(X.a.mark((function e(t,n){var a,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.get(Object(J.blockExplorerAPIURL)("/address/".concat(t,"/utxo"),n));case 3:return a=e.sent,r=a.data,e.next=7,Promise.all(r.map(function(){var e=Object(Z.a)(X.a.mark((function e(t){var a,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get(Object(J.blockExplorerAPIURL)("/tx/".concat(t.txid,"/hex"),n));case 2:return a=e.sent,r=a.data,i=new re.a(t.value),e.abrupt("return",{confirmed:t.status.confirmed,txid:t.txid,index:t.vout,amount:Object(J.satoshisToBitcoins)(i).toFixed(8),amountSats:i,transactionHex:r,time:t.status.block_time});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function se(){return(se=Object(Z.a)(X.a.mark((function e(t,n){var a,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.get(Object(J.blockExplorerAPIURL)("/address/".concat(t),n));case 3:return a=e.sent,r=a.data,e.abrupt("return",{used:r.chain_stats.funded_txo_count>0||r.mempool_stats.funded_txo_count>0});case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ue(){return(ue=Object(Z.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.get(Object(J.blockExplorerAPIURL)("/fee-estimates",t));case 3:return n=e.sent,a=n.data,e.abrupt("return",Math.ceil(a[2]));case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function le(){return(le=Object(Z.a)(X.a.mark((function e(t,n){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.a.post(Object(J.blockExplorerAPIURL)("/tx",n),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response&&e.t0.response.data||e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var de=n(115);function pe(e,t,n){return"public"===n.type?function(e,t){return oe.apply(this,arguments)}(e,t):Object(de.d)(Object(z.a)(Object(z.a)({},Object(de.e)(n)),{address:e}))}function fe(e,t,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(Z.a)(X.a.mark((function e(t,n,a){var r,i,c,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={utxos:[],balanceSats:re()(0),fetchedUTXOs:!1,fetchUTXOsError:""},e.prev=1,e.next=4,pe(t,n,a);case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i="private"===a.type&&Object(de.g)(e.t0)?{utxos:[],balanceSats:re()(0),addressKnown:!1,fetchedUTXOs:!0,fetchUTXOsError:""}:{fetchUTXOsError:e.t0.toString()};case 10:if(r){e.next=12;break}return e.abrupt("return",i);case 12:return c=Object(J.sortInputs)(r),o=c.map((function(e){return e.amountSats})).reduce((function(e,t){return e.plus(t)}),new re.a(0)),e.abrupt("return",Object(z.a)(Object(z.a)({},i),{},{balanceSats:o,utxos:c,fetchedUTXOs:!0,fetchUTXOsError:""}));case 15:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function be(e,t,n){return"public"===n.type?function(e,t){return se.apply(this,arguments)}(e,t):Object(de.b)(Object(z.a)(Object(z.a)({},Object(de.e)(n)),{address:e}))}function me(e,t){return"public"===t.type?function(e){return ue.apply(this,arguments)}(e):Object(de.a)(Object(z.a)(Object(z.a)({},Object(de.e)(t)),{numBlocks:1}))}function he(e,t,n){return"public"===n.type?function(e,t){return le.apply(this,arguments)}(e,t):Object(de.f)(Object(z.a)(Object(z.a)({},Object(de.e)(n)),{hex:e}))}var Ee=n(88),ge=n(227),ve=function(e){return"asc"===e?-1:1};function ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!e.bip32Path&&!t.bip32Path)throw new Error("Mising BIP32 path for comparing slices.");var a=ve(n);if(e.change&&!t.change)return a;if(!e.change&&t.change)return-a;var r=parseInt(e.bip32Path.split("/").reverse()[0],10),i=parseInt(t.bip32Path.split("/").reverse()[0],10);return r>i?a:-a}function Pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!e.balanceSats&&!t.balanceSats)throw new Error("Missing balance for comparing slices");var a=ve(n);return e.balanceSats.isEqualTo(t.balanceSats)?0:e.balanceSats.isGreaterThan(t.balanceSats)?a:-a}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc";if(!e.utxos&&!t.utxos)throw new Error("Missing utxo array for comparing slices");var a=ve(n);return e.utxos.length===t.utxos.length?0:e.utxos.length>t.utxos.length?a:-a}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"asc",a=ve(n);if(!e.utxos&&!t.utxos&&!e.lastUsed&&!t.lastUsed)return 0;if("Spent"===e.lastUsed)return t.lastUsed&&"Spent"!==t.lastUsed?-a:a;if("Spent"===t.lastUsed)return e.lastUsed&&"Spent"!==e.lastUsed?a:-a;if(e.lastUsedTime&&t.lastUsedTime)return e.lastUsedTime===t.lastUsedTime?0:e.lastUsedTime>=t.lastUsedTime?a:-a;if(e.lastUsedTime&&(!t.lastUsedTime||0===t.utxos.length))return a;if(t.lastUsedTime&&(!e.lastUsedTime||0===e.utxos.length))return-a;if(0===e.utxos.length)return 0===t.utxos.length?0:a;if(0===t.utxos.length)return 0===e.utxos.length?0:-a;var r=Math.max.apply(Math,Object(te.a)(e.utxos.map((function(e){return e.time})))),i=Math.max.apply(Math,Object(te.a)(t.utxos.map((function(e){return e.time}))));return Number.isNaN(r)&&Number.Number.isNaN(i)?0:Number.isNaN(r)?a:Number.isNaN(i)?-a:r>i?a:-a}function Oe(e){var t=ge.b.length;if(e.slice(0,t)===ge.b&&e.slice(t).match(/^([0-9]+)$/g))return!0;var n,a=e.match(/\/([0-9]+('?))/g).slice(-2),r=Object(Ee.a)(a);try{for(r.s();!(n=r.n()).done;){if(n.value.includes("'"))return!1}}catch(i){r.e(i)}finally{r.f()}return a[0]===ge.a&&2===a.length}var Te=n(61);function we(e){return{type:"SET_REQUIRED_SIGNERS",value:e}}function xe(e){return{type:"SET_INPUTS",value:e}}function Ce(){return{type:"ADD_OUTPUT"}}function ke(e){return{type:"SET_CHANGE_OUTPUT_INDEX",value:e}}function je(e,t){return{type:"SET_OUTPUT_ADDRESS",number:e,value:t}}function Re(e,t){return{type:"SET_OUTPUT_AMOUNT",number:e,value:t}}function Be(e){return{type:"SET_CHANGE_ADDRESS",value:e}}function Ne(e){return{type:"DELETE_OUTPUT",number:e}}function De(e){return{type:"SET_FEE_RATE",value:e}}function Ke(e){return{type:"SET_FEE",value:e}}function Me(e){return{type:"FINALIZE_OUTPUTS",value:e}}function Fe(e){return{type:"SET_BALANCE_ERROR",value:e}}function Ue(e){return{type:"UPDATE_AUTO_SPEND",value:e}}function He(e,t){return{type:"SET_SIGNING_KEY",number:e,value:t}}function _e(e){return{type:"SET_SPEND_STEP",value:e}}var Le="SET_ERROR_NOTIFICATION",Qe="CLEAR_ERROR_NOTIFICATION";function Ge(e){return{type:Le,value:e}}function We(){return{type:Qe}}var Ye=0,Ve=1,ze=2;function qe(e){return{type:"UPDATE_DEPOSIT_SLICE",value:Object(z.a)(Object(z.a)({},e),{change:!1})}}function Xe(e){return{type:"UPDATE_CHANGE_SLICE",value:Object(z.a)(Object(z.a)({},e),{change:!0})}}function Ze(e,t){return{type:"UPDATE_WALLET_NAME",value:t}}function Je(){return{type:"RESET_WALLET_VIEW"}}function $e(){return{type:"RESET_WALLET"}}var et=function(){var e=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(){var e=Object(Z.a)(X.a.mark((function e(n,a){var r,i,c,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a().settings.network,i=a(),c=i.client,e.prev=2,o=t.map((function(e){var t=e.multisig.address;return Promise.all([fe(t,r,c),be(t,r,c)])})),e.next=6,Promise.all(o);case 6:e.sent.forEach((function(e,a){var r=Object(ne.a)(e,2),i=r[0],c=r[1],o=t[a];if(i&&i.utxos.length){var s=o.change?Xe:qe,u=Object(z.a)(Object(z.a)({bip32Path:o.bip32Path,addressKnown:!0},i),{},{addressStatus:c});n(s(u))}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("There was a problem getting updated braid data:",e.t0.message),n(Ge(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=n(75),nt=n(528),at=n(349),rt=function(e){var t=e.network;return s.a.createElement(at.a,{"data-cy":"bitcoin-icon",htmlColor:t===J.MAINNET?"orange":"grey"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"bitcoin",className:"svg-inline--fa fa-bitcoin fa-w-16",role:"img",viewBox:"0 0 512 512"},s.a.createElement("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zm-141.651-35.33c4.937-32.999-20.191-50.739-54.55-62.573l11.146-44.702-27.213-6.781-10.851 43.524c-7.154-1.783-14.502-3.464-21.803-5.13l10.929-43.81-27.198-6.781-11.153 44.686c-5.922-1.349-11.735-2.682-17.377-4.084l.031-.14-37.53-9.37-7.239 29.062s20.191 4.627 19.765 4.913c11.022 2.751 13.014 10.044 12.68 15.825l-12.696 50.925c.76.194 1.744.473 2.829.907-.907-.225-1.876-.473-2.876-.713l-17.796 71.338c-1.349 3.348-4.767 8.37-12.471 6.464.271.395-19.78-4.937-19.78-4.937l-13.51 31.147 35.414 8.827c6.588 1.651 13.045 3.379 19.4 5.006l-11.262 45.213 27.182 6.781 11.153-44.733a1038.209 1038.209 0 0 0 21.687 5.627l-11.115 44.523 27.213 6.781 11.262-45.128c46.404 8.781 81.299 5.239 95.986-36.727 11.836-33.79-.589-53.281-25.004-65.991 17.78-4.098 31.174-15.792 34.747-39.949zm-62.177 87.179c-8.41 33.79-65.308 15.523-83.755 10.943l14.944-59.899c18.446 4.603 77.6 13.717 68.811 48.956zm8.417-87.667c-7.673 30.736-55.031 15.12-70.393 11.292l13.548-54.327c15.363 3.828 64.836 10.973 56.845 43.035z"})))};rt.defaultProps={network:J.MAINNET};var it=rt,ct=n(710),ot=n(536),st=n(1781),ut=n(1782),lt=n(1783),dt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props.name;a.setState({newName:e})},a.render=function(){var e=a.props.name,t=a.state,n=t.editing,r=t.newName,i=t.error;return n?s.a.createElement(x.a,{container:!0,alignItems:"center"},s.a.createElement(x.a,{item:!0},s.a.createElement(ct.a,{autoFocus:!0,label:"Name",value:r,onChange:a.handleChange,onFocus:function(e){setTimeout(e.target.select.bind(e.target),20)},onKeyDown:function(e){return"Enter"===e.key?a.submit():null},error:a.hasError(),helperText:i})),s.a.createElement(x.a,{item:!0},s.a.createElement(ot.a,{"data-cy":"save-button",size:"small",onClick:a.submit,disabled:a.hasError()},s.a.createElement(st.a,null))),s.a.createElement(x.a,{item:!0},s.a.createElement(ot.a,{"data-cy":"cancel-button",color:"secondary",size:"small",onClick:a.cancel},s.a.createElement(ut.a,null)))):s.a.createElement("span",null,s.a.createElement(ot.a,{"data-cy":"edit-button",size:"small",onClick:a.startEditing},s.a.createElement(lt.a,null)),"\xa0",s.a.createElement("span",{"data-cy":"editable-name-value",style:{cursor:"pointer"},onClick:a.startEditing},e))},a.hasError=function(){return""!==a.state.error},a.startEditing=function(e){var t=a.props.name;e.preventDefault(),a.setState({editing:!0,newName:t})},a.handleChange=function(e){var t=e.target.value,n="";null!==t&&void 0!==t&&""!==t||(n="Name cannot be blank."),a.setState({newName:t,error:n})},a.submit=function(){var e=a.props;(0,e.setName)(e.number,a.state.newName),a.setState({editing:!1})},a.cancel=function(){var e=a.props.name;a.setState({error:"",newName:e,editing:!1})},a.state={editing:!1,newName:"",error:""},a}return n}(s.a.Component),pt=Object(nt.a)((function(e){return{root:{height:"100%"},title:{fontSize:"2rem",color:"#212529"},balance:{fontSize:"1.2rem"},gutter:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),paddingTop:e.spacing(2)}}})),ft=function(e){var t=e.walletName,n=e.setName,a=e.balance,r=void 0===a?0:a,i=e.pendingBalance,c=e.editable,o=e.network,u=pt();return s.a.createElement(C.a,{"data-cy":"wallet-info-card",className:u.root},s.a.createElement(j.a,null,s.a.createElement(x.a,{container:!0,direction:"row",alignItems:"center"},c?s.a.createElement(x.a,{item:!0},s.a.createElement(w.a,{variant:"h1",className:u.title},s.a.createElement(dt,{number:0,name:t,setName:n}))):s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{container:!0,alignItems:"center",className:u.gutter},s.a.createElement(x.a,{item:!0,xs:1},s.a.createElement(it,{network:o})),s.a.createElement(x.a,{item:!0},s.a.createElement(w.a,{variant:"h1",className:u.title},t))),s.a.createElement(x.a,{container:!0,className:u.gutter},s.a.createElement(x.a,{item:!0,xs:12,mt:5},s.a.createElement(w.a,{"data-cy":"balance",variant:"subtitle1",className:u.balance},r," BTC")),s.a.createElement(x.a,{item:!0},s.a.createElement(w.a,{"data-cy":"pending-balance",variant:"caption"},0!==i?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{style:{color:i>0?"green":"red",fontWeight:"bold"}},i>0?"+":"",i," BTC")," ","(unconfirmed)"):"")))))))};ft.defaultProps={network:J.NETWORKS.TESTNET,balance:0,pendingBalance:0};var At=ft,bt=n(711),mt=n(1009),ht=n(713),Et=n(1810);function gt(e){return{type:"SET_NETWORK",value:e}}function vt(e){return{type:"SET_TOTAL_SIGNERS",value:e}}function yt(e){return{type:"SET_REQUIRED_SIGNERS",value:e}}function Pt(e){return{type:"SET_ADDRESS_TYPE",value:e}}function St(e){return{type:"SET_FROZEN",value:e}}var It=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleNetworkChange=function(t){(0,e.props.setNetwork)(t.target.value)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.network,n=e.frozen;return s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Network"}),s.a.createElement(j.a,null,s.a.createElement(bt.a,{component:"fieldset"},s.a.createElement(mt.a,null,s.a.createElement(ht.a,{id:"mainnet",control:s.a.createElement(Et.a,{color:"primary"}),name:"network",value:"mainnet",label:s.a.createElement("strong",null,"Mainnet"),onChange:this.handleNetworkChange,checked:t===J.MAINNET,disabled:n}),s.a.createElement(ht.a,{id:"testnet",control:s.a.createElement(Et.a,{color:"primary"}),name:"network",value:"testnet",label:"Testnet",onChange:this.handleNetworkChange,checked:t===J.TESTNET,disabled:n})),s.a.createElement($.a,null,s.a.createElement("small",null,"Choose 'Mainnet' if you don't understand the difference.")))))}}]),n}(s.a.Component);var Ot={setNetwork:gt},Tt=Object(p.b)((function(e){return{network:e.settings.network,frozen:e.settings.frozen}}),Ot)(It),wt=n(1784),xt=n(1785),Ct=(n(693),function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderIncrementRequiredSigners=function(){var t=e.props,n=t.requiredSigners,a=t.totalSigners,r=t.frozen,i=n===a||r;return s.a.createElement(ot.a,{color:"primary",onClick:e.handleIncrementRequiredSigners,disabled:i},s.a.createElement(wt.a,null))},e.renderDecrementRequiredSigners=function(){var t=e.props,n=t.requiredSigners,a=t.frozen,r=1===n||a;return s.a.createElement(ot.a,{color:"secondary",onClick:e.handleDecrementRequiredSigners,disabled:r},s.a.createElement(xt.a,null))},e.renderIncrementTotalSigners=function(){var t=e.props,n=t.totalSigners,a=t.frozen,r=7===n||a;return s.a.createElement(ot.a,{color:"primary",onClick:e.handleIncrementTotalSigners,disabled:r},s.a.createElement(wt.a,null))},e.renderDecrementTotalSigners=function(){var t=e.props,n=t.requiredSigners,a=t.totalSigners,r=t.frozen,i=a===n||2===a||r;return s.a.createElement(ot.a,{color:"secondary",onClick:e.handleDecrementTotalSigners,disabled:i},s.a.createElement(xt.a,null))},e.handleIncrementRequiredSigners=function(t){var n=e.props,a=n.requiredSigners;(0,n.setRequiredSigners)(a+1),t.preventDefault()},e.handleDecrementRequiredSigners=function(t){var n=e.props,a=n.requiredSigners;(0,n.setRequiredSigners)(a-1),t.preventDefault()},e.handleIncrementTotalSigners=function(t){var n=e.props,a=n.totalSigners;(0,n.setTotalSigners)(a+1),t.preventDefault()},e.handleDecrementTotalSigners=function(t){var n=e.props,a=n.totalSigners;(0,n.setTotalSigners)(a-1),t.preventDefault()},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.requiredSigners,n=e.totalSigners;return s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Quorum"}),s.a.createElement(j.a,null,s.a.createElement(T.a,null,s.a.createElement(x.a,{container:!0,justify:"center"},s.a.createElement(x.a,{container:!0,item:!0,xs:2,direction:"column"},"\xa0"),s.a.createElement(x.a,{container:!0,item:!0,xs:3,direction:"column",alignItems:"center"},s.a.createElement(x.a,{item:!0},this.renderIncrementRequiredSigners()),s.a.createElement(x.a,{item:!0},s.a.createElement(w.a,{variant:"h2"},t)),s.a.createElement(x.a,{item:!0},s.a.createElement("small",null,s.a.createElement("p",null,"Required"))),s.a.createElement(x.a,{item:!0},this.renderDecrementRequiredSigners())),s.a.createElement(x.a,{container:!0,item:!0,xs:2,direction:"column",alignItems:"center",justify:"center"},s.a.createElement(x.a,{item:!0},s.a.createElement(w.a,{variant:"h6"},"of"))),s.a.createElement(x.a,{item:!0,container:!0,xs:3,direction:"column",alignItems:"center"},s.a.createElement(x.a,{item:!0},this.renderIncrementTotalSigners()),s.a.createElement(x.a,{item:!0},s.a.createElement(w.a,{variant:"h2"},n)),s.a.createElement(x.a,{item:!0},s.a.createElement("small",null,s.a.createElement("p",null,"Total"))),s.a.createElement(x.a,{item:!0},this.renderDecrementTotalSigners())),s.a.createElement(x.a,{container:!0,item:!0,xs:2,direction:"column"},"\xa0")))))}}]),n}(s.a.Component));var kt={setTotalSigners:vt,setRequiredSigners:yt},jt=Object(p.b)((function(e){return e.settings}),kt)(Ct),Rt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleTypeChange=function(t){(0,e.props.setType)(t.target.value)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.addressType,n=e.frozen;return s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Address Type"}),s.a.createElement(j.a,null,s.a.createElement(bt.a,{component:"fieldset"},s.a.createElement(mt.a,null,s.a.createElement(ht.a,{id:J.P2SH,control:s.a.createElement(Et.a,{color:"primary"}),name:"type",value:J.P2SH,label:J.P2SH,onChange:this.handleTypeChange,checked:t===J.P2SH,disabled:n}),s.a.createElement(ht.a,{id:J.P2SH_P2WSH,control:s.a.createElement(Et.a,{color:"primary"}),name:"type",value:J.P2SH_P2WSH,label:J.P2SH_P2WSH,onChange:this.handleTypeChange,checked:t===J.P2SH_P2WSH,disabled:n}),s.a.createElement(ht.a,{id:J.P2WSH,control:s.a.createElement(Et.a,{color:"primary"}),name:"type",value:J.P2WSH,label:J.P2WSH,onChange:this.handleTypeChange,checked:t===J.P2WSH,disabled:n})),s.a.createElement($.a,null,s.a.createElement("small",null,"Choose '",J.P2WSH,"' for best practices, '",J.P2SH,"' for greatest compatibility.")))))}}]),n}(s.a.Component);var Bt={setType:Pt},Nt=Object(p.b)((function(e){return e.settings}),Bt)(Rt);function Dt(e){return function(t){return{type:e,value:t}}}function Kt(e){var t,n={},a=Object.keys(e);for(t=0;t<a.length;t+=1){var r=a[t],i=e[r];n[r]=Dt(i)}return n}function Mt(e){return function(t,n){return{type:e,number:t,value:n}}}function Ft(e){var t,n={},a=Object.keys(e);for(t=0;t<a.length;t+=1){var r=a[t],i=e[r];n[r]=Mt(i)}return n}var Ut=function(e){var t=e.handleUrlChange,n=e.handleUsernameChange,a=e.handlePasswordChange,r=e.client,i=e.urlError,c=e.usernameError,o=e.passwordError,u=e.privateNotes,l=e.connectSuccess,d=e.connectError,p=e.testConnection;return s.a.createElement("div",null,s.a.createElement("p",null,"A ",s.a.createElement("code",null,"bitcoind"),"-compatible client is required to query UTXO data, estimate fees, and broadcast transactions."),s.a.createElement("p",null,s.a.createElement("small",null,"Due to CORS requirements, you must use a proxy around the node. Instructions are available ",Object(W.b)("https://github.com/unchained-capital/caravan#adding-cors-headers","here"),".")),s.a.createElement("form",null,s.a.createElement(x.a,{container:!0,direction:"column",spacing:1},s.a.createElement(x.a,{item:!0},s.a.createElement(ct.a,{fullWidth:!0,label:"URL",value:r.url,onChange:t,error:""!==i,helperText:i})),s.a.createElement(x.a,{item:!0},s.a.createElement(ct.a,{id:"bitcoind-username",fullWidth:!0,label:"Username",value:r.username,onChange:n,error:""!==c,helperText:c})),s.a.createElement(x.a,{item:!0},s.a.createElement(ct.a,{id:"bitcoind-password",fullWidth:!0,type:"password",label:"Password",value:r.password,onChange:a,error:""!==o,helperText:o})),s.a.createElement(x.a,{item:!0},s.a.createElement(T.a,{mt:1},s.a.createElement(R.a,{variant:"contained",onClick:p},"Test Connection")),s.a.createElement(T.a,{mt:2},l&&s.a.createElement($.a,null,"Connection Success!"),""!==d&&s.a.createElement($.a,{error:!0},d))))),u)};Ut.defaultProps={urlError:"",usernameError:"",passwordError:"",privateNotes:s.a.createElement("span")};var Ht=Ut,_t=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handleTypeChange=function(e){var t=a.props,n=t.setType,r=t.network,i=t.setUrl,c=a.state.urlEdited,o=e.target.value;"private"!==o||c||i("http://localhost:".concat("mainnet"===r?8332:18332)),n(o)},a.handleUrlChange=function(e){var t=a.props,r=t.setUrl,i=t.setUrlError,c=a.state.urlEdited,o=e.target.value,s=n.validateUrl(o);c||s||a.setState({urlEdited:!0}),r(o),i(s)},a.handleUsernameChange=function(e){var t=a.props,r=t.setUsername,i=t.setUsernameError,c=e.target.value,o=n.validateUsername(c);r(c),i(o)},a.handlePasswordChange=function(e){var t=a.props,r=t.setPassword,i=t.setPasswordError,c=e.target.value,o=n.validatePassword(c);r(c),i(o)},a.testConnection=Object(Z.a)(X.a.mark((function e(){var t,n,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.network,r=t.client,i=t.onSuccess,a.setState({connectError:"",connectSuccess:!1}),e.prev=2,e.next=5,me(n,r);case 5:i&&i(),a.setState({connectSuccess:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.setState({connectError:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),a.state={urlEdited:!1,connectError:"",connectSuccess:!1},a}return Object(h.a)(n,null,[{key:"validatePassword",value:function(){return""}},{key:"validateUsername",value:function(){return""}},{key:"validateUrl",value:function(e){return/^http(s)?:\/\/[^\s]+$/.exec(e)?"":"Must be a valid URL."}}]),Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.client,a=t.urlError,r=t.usernameError,i=t.passwordError,c=t.privateNotes,o=this.state,u=o.connectSuccess,l=o.connectError;return s.a.createElement(C.a,null,s.a.createElement(x.a,{container:!0,justify:"space-between"},s.a.createElement(k.a,{title:"Bitcoin Client"})),s.a.createElement(j.a,null,s.a.createElement(x.a,{item:!0},s.a.createElement(bt.a,{component:"fieldset"},s.a.createElement(mt.a,null,s.a.createElement(ht.a,{id:"public",control:s.a.createElement(Et.a,{color:"primary"}),name:"clientType",value:"public",label:s.a.createElement("strong",null,"Public"),onChange:this.handleTypeChange,checked:"public"===n.type}),s.a.createElement(ht.a,{id:"private",control:s.a.createElement(Et.a,{color:"primary"}),name:"clientType",value:"private",label:"Private",onChange:this.handleTypeChange,checked:"private"===n.type})),"public"===n.type&&s.a.createElement($.a,null,"'Public' uses the ",s.a.createElement("code",null,"blockstream.info")," API. Switch to private to use a ",s.a.createElement("code",null,"bitcoind")," node."),"private"===n.type&&s.a.createElement(Ht,{handleUrlChange:function(t){return e.handleUrlChange(t)},handleUsernameChange:function(t){return e.handleUsernameChange(t)},handlePasswordChange:function(t){return e.handlePasswordChange(t)},client:n,urlError:a,usernameError:r,passwordError:i,privateNotes:c,connectSuccess:u,connectError:l,testConnection:function(){return e.testConnection()}})))))}}]),n}(s.a.Component);_t.defaultProps={urlError:"",usernameError:"",onSuccess:null,passwordError:"",privateNotes:s.a.createElement("span")};var Lt=Object(p.b)((function(e){return{network:e.settings.network,client:e.client,urlError:e.client.urlError,url:e.client.url}}),Kt({setType:"SET_CLIENT_TYPE",setUrl:"SET_CLIENT_URL",setUsername:"SET_CLIENT_USERNAME",setPassword:"SET_CLIENT_PASSWORD",setUrlError:"SET_CLIENT_URL_ERROR",setUsernameError:"SET_CLIENT_USERNAME_ERROR",setPasswordError:"SET_CLIENT_PASSWORD_ERROR"}))(_t),Qt=n(538),Gt=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handleIndexChange=function(e){var t=a.props.setStartingAddressIndex,n=e.target.value,r=Object(J.validateBIP32Index)(n,{mode:"unhardened"}).replace("BIP32","Starting Address");!r&&n&&t(parseInt(n,10)),a.setState({startingAddressIndexField:n,startingAddressIndexError:r})},a.handleCustomIndexChange=function(e){var t="true"===e.target.value;a.setState({customIndex:t})},a.state={customIndex:0!==e.startingAddressIndex,startingAddressIndexField:e.startingAddressIndex},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.customIndex,n=e.startingAddressIndexField,a=e.startingAddressIndexError;return s.a.createElement(C.a,null,s.a.createElement(x.a,{container:!0,justify:"space-between"},s.a.createElement(k.a,{title:"Starting Address Index"})),s.a.createElement(j.a,null,s.a.createElement(x.a,{item:!0},s.a.createElement(bt.a,{component:"fieldset"},s.a.createElement(mt.a,null,s.a.createElement(ht.a,{id:"default",control:s.a.createElement(Et.a,{color:"primary"}),name:"customIndex",value:"false",label:s.a.createElement("strong",null,"Default (0)"),onChange:this.handleCustomIndexChange,checked:!t}),s.a.createElement(Qt.a,{title:"The starting address index allows you to skip forward in a wallet. Addresses with indices less than the starting address are ignored."},s.a.createElement(ht.a,{id:"custom",control:s.a.createElement(Et.a,{color:"primary"}),name:"customIndex",value:"true",label:"Custom",onChange:this.handleCustomIndexChange,checked:t})),s.a.createElement($.a,null,"Use the default value if you do not understand how to use starting address index.")),t&&s.a.createElement(ct.a,{fullWidth:!0,value:n,type:"text",name:"startingAddressIndex",onChange:this.handleIndexChange,error:Boolean(a),helperText:a})))))}}]),n}(s.a.Component);var Wt=Object(p.b)((function(e){return{startingAddressIndex:e.settings.startingAddressIndex}}),Kt({setStartingAddressIndex:"SET_STARTING_ADDRESS_INDEX"}))(Gt),Yt=n(414),Vt=n(1035),zt=n(1079),qt=n.n(zt),Xt=n(1010),Zt=n(1011),Jt=n(1012),$t=n(1013),en=n(1014),tn=n(1809),nn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).render=function(){var t=e.props.startingAddressIndex;return s.a.createElement(T.a,null,t>0&&s.a.createElement(tn.a,{severity:"info"},"Starting Address Index set to ",t),s.a.createElement(Xt.a,null,s.a.createElement(Zt.a,null,s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Name"),s.a.createElement($t.a,null,"BIP32 Path"),s.a.createElement($t.a,null,"Extended Public Key"))),s.a.createElement(en.a,null,e.renderConfirmationInfo())))},e.renderConfirmationInfo=function(){var t=e.props.extendedPublicKeyImporters;return Object.values(t).map((function(e){return s.a.createElement(Jt.a,{key:e.extendedPublicKey},s.a.createElement($t.a,null,e.name),s.a.createElement($t.a,null,"text"===e.method?"N/A":e.bip32Path),s.a.createElement($t.a,null,e.extendedPublicKey))}))},e}return n}(s.a.Component);var an=Object(p.b)((function(e){return{startingAddressIndex:e.settings.startingAddressIndex,extendedPublicKeyImporters:e.quorum.extendedPublicKeyImporters}}),{})(nn),rn=n(1765),cn=n(1755),on=n(714),sn=n(1036),un=n(346),ln=n.n(un),dn=(n(224),n(124)),pn=n(1063),fn=n.n(pn),An=n(1786),bn=Object(nt.a)((function(){return{copyText:{"&:hover":{cursor:"pointer"}},code:{fontSize:"1rem"}}})),mn=function(e){var t=e.newline,n=e.text,a=e.children,r=e.showIcon,i=e.showText,c=e.code,u=Object(dn.a)(e,["newline","text","children","showIcon","showText","code"]),l=Object(o.useState)(!1),d=Object(ne.a)(l,2),p=d[0],f=d[1],A=Object(o.useState)(null),b=Object(ne.a)(A,2),m=b[0],h=b[1],E=Object(O.useSnackbar)().enqueueSnackbar;Object(o.useEffect)((function(){m&&clearTimeout(m)}),[]);var g=bn(),v=function(){return c?s.a.createElement("code",{className:g.code},n):s.a.createElement("span",null,n)};return s.a.createElement("span",Object.assign({onClick:function(e){return e.stopPropagation()}},u),s.a.createElement(fn.a,{text:n,onCopy:function(){var e=setTimeout((function(){f(!1),h(null)}),1e3);f(!0),h(e),function(){var e=n.length>25?"".concat(n.substring(0,25),"..."):n;E("Copied ".concat(e," to clipboard"),{preventDuplicate:!0})}()},options:{format:"text/plain"}},s.a.createElement("span",{style:{fontStyle:p?"italic":"inherit",overflowWrap:"break-word"},className:"copyable ".concat(g.copyText)},a,i&&s.a.createElement(v,null),t&&s.a.createElement("br",null),r&&s.a.createElement(ot.a,null,s.a.createElement(An.a,{fontSize:"small",color:p?"primary":"action"})))))};mn.defaultProps={newline:!1,showIcon:!1,children:s.a.createElement("span"),showText:!0,code:!1};var hn=mn,En=n(1064),gn=n.n(En),vn=n(1791),yn=n(1040),Pn=n(1037),Sn=n(1797),In=(n(701),n(125)),On=n.n(In),Tn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).filterInputs=function(e,t,n){return e.filter((function(e){var a=t.filter((function(t){return t.txid===e.txid&&t.index===e.index}));return n?a.length>0:0===a.length}))},a.toggleInput=function(e){var t=a.state.localInputs;a.setState({toggleAll:!1}),t[e].checked=!t[e].checked,a.setInputsAndUpdateDisplay(t)},a.toggleAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=a.state,n=t.localInputs,r=t.toggleAll,i=!r;n.forEach((function(t){var n=t;return n.checked=null===e?i:e,n})),a.setInputsAndUpdateDisplay(n),a.setState({toggleAll:i})},a.setInputsAndUpdateDisplay=function(e){var t=a.props,n=t.setInputs,r=t.multisig,i=t.bip32Path,c=t.existingTransactionInputs,o=t.setSpendCheckbox,s=a.state.localInputs,u=e.filter((function(e){return e.checked}));r&&(u=u.map((function(e){return Object(z.a)(Object(z.a)({},e),{},{multisig:r,bip32Path:i})})));var l=u.reduce((function(e,t){return e.plus(t.amountSats)}),new re.a(0));a.setState({inputsSatsSelected:l});var d=u;if(r){var p=a.filterInputs(c,s,!1);p.length>0&&(d=u.concat(p));var f=u.length;0===f?o(!1):f<s.length?o("indeterminate"):o(!0)}d.length>0?n(d):r&&n([])},a.renderInputs=function(){var e=a.props,t=e.network,n=e.showSelection,r=e.finalizedOutputs;return a.state.localInputs.map((function(e,i){var c="".concat(On.a.utxoTxid).concat(e.confirmed?"":" ".concat(On.a.unconfirmed)),o=e.confirmed?"confirmed":"unconfirmed";return s.a.createElement(Jt.a,{hover:!0,key:e.txid},n&&s.a.createElement($t.a,null,s.a.createElement(yn.a,{"data-testid":"utxo-checkbox-".concat(i),checked:e.checked,onClick:function(){return a.toggleInput(i)},color:"primary",disabled:r})),s.a.createElement($t.a,null,i+1),s.a.createElement($t.a,{className:c},s.a.createElement(hn,{text:e.txid,showIcon:!0,showText:!1},s.a.createElement("code",{title:o},e.txid))),s.a.createElement($t.a,null,s.a.createElement(hn,{text:e.index.toString()})),s.a.createElement($t.a,null,s.a.createElement(hn,{text:Object(J.satoshisToBitcoins)(e.amountSats).toString()})),s.a.createElement($t.a,null,Object(W.b)(Object(J.blockExplorerTransactionURL)(e.txid,t),s.a.createElement(Sn.a,null))))}))},a.state={inputsSatsSelected:e.inputsTotalSats,localInputs:e.inputs.map((function(t){return Object(z.a)(Object(z.a)({},t),{},{checked:e.selectAll})})),toggleAll:!0},a}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(e){if(this.props.multisig){var t=this.props,n=t.node,a=t.existingTransactionInputs,r=this.state.localInputs,i=this.filterInputs(r,e.existingTransactionInputs,!0).length,c=this.filterInputs(r,a,!0).length,o=c===r.length;e.node.spend===n.spend&&c===i||!o||this.toggleAll(n.spend)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.inputsTotalSats,a=t.showSelection,r=void 0===a||a,i=t.hideSelectAllInHeader,c=t.finalizedOutputs,o=this.state,u=o.inputsSatsSelected,l=o.toggleAll,d=o.localInputs;return s.a.createElement(s.a.Fragment,null,s.a.createElement(w.a,{variant:"h5"},"Available Inputs (".concat(d.length,")")," "),s.a.createElement("p",null,"The following UTXOs will be spent as inputs in a new transaction."),s.a.createElement(Xt.a,null,s.a.createElement(Zt.a,null,s.a.createElement(Jt.a,{hover:!0},r&&!i&&s.a.createElement($t.a,null,s.a.createElement(yn.a,{"data-testid":"utxo-check-all",checked:l,onClick:function(){return e.toggleAll()},color:"primary",disabled:c})),i&&s.a.createElement($t.a,null),s.a.createElement($t.a,null,"Number"),s.a.createElement($t.a,null,"TXID"),s.a.createElement($t.a,null,"Index"),s.a.createElement($t.a,null,"Amount (BTC)"),s.a.createElement($t.a,null,"View"))),s.a.createElement(en.a,null,this.renderInputs()),s.a.createElement(Pn.a,null,s.a.createElement(Jt.a,{hover:!0},s.a.createElement($t.a,{colSpan:3},"TOTAL:"),s.a.createElement($t.a,{colSpan:2},u?Object(J.satoshisToBitcoins)(u).toString():Object(J.satoshisToBitcoins)(n).toString())))))}}]),n}(s.a.Component);Tn.defaultProps={multisig:!1,bip32Path:"",showSelection:!0,hideSelectAllInHeader:!1,selectAll:!0,node:{},existingTransactionInputs:[],setSpendCheckbox:function(){}};var wn={setInputs:xe},xn=Object(p.b)((function(e){return Object(z.a)(Object(z.a)({},e.settings),{},{finalizedOutputs:e.spend.transaction.finalizedOutputs,existingTransactionInputs:e.spend.transaction.inputs})}),wn)(Tn),Cn=n(1043),kn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderScript=function(e,t){var n=Object(J.scriptToHex)(t),a=Object(J.scriptToOps)(t);return s.a.createElement(T.a,{mt:2},s.a.createElement(w.a,{variant:"h6"},e),s.a.createElement(x.a,{container:!0,spacing:2},s.a.createElement(x.a,{item:!0,sm:6},s.a.createElement(hn,{text:n,showIcon:!0,code:!0})),s.a.createElement(x.a,{item:!0,sm:6},s.a.createElement(hn,{text:a,showIcon:!0,code:!0}))))},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.network,n=e.multisig,a=e.showAddress,r=n.address,i=Object(J.multisigRedeemScript)(n),c=Object(J.multisigWitnessScript)(n);return s.a.createElement(T.a,{mt:2,style:{maxWidth:"1080px"}},a&&s.a.createElement(w.a,{variant:"h6"},"Address"),s.a.createElement(w.a,{align:"center",variant:"h5"},s.a.createElement(x.a,{container:!0,direction:"column",spacing:2},a&&s.a.createElement(x.a,{item:!0},s.a.createElement(hn,{text:r,showIcon:!0,code:!0}),"\xa0",Object(W.b)(Object(J.blockExplorerAddressURL)(r,t),s.a.createElement(Sn.a,null))),s.a.createElement(x.a,{item:!0,justify:"center",container:!0,spacing:3},s.a.createElement(x.a,{item:!0},s.a.createElement(Cn.a,{label:"BTC"})),s.a.createElement(x.a,{item:!0},s.a.createElement(Cn.a,{label:Object(J.networkLabel)(t)})),s.a.createElement(x.a,{item:!0},s.a.createElement(Cn.a,{label:"".concat(Object(J.multisigRequiredSigners)(n),"-of-").concat(Object(J.multisigTotalSigners)(n))})),s.a.createElement(x.a,{item:!0},s.a.createElement(Cn.a,{label:Object(J.multisigAddressType)(n)}))))),this.renderScript("Script",n),i&&this.renderScript("Redeem Script",i),c&&this.renderScript("Witness Script",c))}}]),n}(s.a.Component);kn.defaultProps={showAddress:!0};var jn=Object(p.b)((function(e){return e.settings}),{})(kn),Rn=n(196),Bn=n(712),Nn=n(716),Dn=n(1021),Kn=n(1799),Mn=n(1760),Fn=Ft({setSignatureImporterName:"SET_SIGNATURE_IMPORTER_NAME",setSignatureImporterMethod:"SET_SIGNATURE_IMPORTER_METHOD",setSignatureImporterBIP32Path:"SET_SIGNATURE_IMPORTER_BIP32_PATH",setSignatureImporterPublicKeys:"SET_SIGNATURE_IMPORTER_PUBLIC_KEYS",setSignatureImporterSignature:"SET_SIGNATURE_IMPORTER_SIGNATURE",setSignatureImporterFinalized:"SET_SIGNATURE_IMPORTER_FINALIZED",setSignatureImporterComplete:"SET_SIGNATURE_IMPORTER_COMPLETE"}),Un=Fn.setSignatureImporterName,Hn=Fn.setSignatureImporterMethod,_n=Fn.setSignatureImporterBIP32Path,Ln=Fn.setSignatureImporterPublicKeys,Qn=Fn.setSignatureImporterSignature,Gn=Fn.setSignatureImporterFinalized,Wn=Fn.setSignatureImporterComplete,Yn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).render=function(){var e=a.state,t=e.signatureJSON,n=e.error;return s.a.createElement(T.a,{mt:2},s.a.createElement(ct.a,{fullWidth:!0,multiline:!0,variant:"outlined",name:"signature",label:"Signature",rows:5,value:t,onChange:a.handleChange,error:a.hasError(),helperText:n}),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:a.finalize,disabled:""===t},"Add Signature")))},a.hasError=function(){return""!==a.state.error},a.setError=function(e){a.setState({error:e})},a.handleChange=function(e){var t=e.target.value,n="";try{JSON.parse(t)}catch(r){n="Invalid JSON."}a.setState({signatureJSON:t,error:n})},a.finalize=function(){var e=a.props.validateAndSetSignature,t=a.state.signatureJSON;try{e(JSON.parse(t),a.setError)}catch(n){a.setError(n.message)}},a.state={signatureJSON:"",error:""},a}return n}(s.a.Component),Vn=n(57),zn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.resetBIP32Path()},a.interaction=function(){var e=a.props,t=e.signatureImporter,n=e.network,r=e.inputs,i=e.outputs,c=t.method,o=r.map((function(e){return"undefined"===typeof e.bip32Path?t.bip32Path:"".concat(t.bip32Path).concat(e.bip32Path.slice(1))}));return Object(ee.SignMultisigTransaction)({network:n,keystore:c,inputs:r,outputs:i,bip32Paths:o})},a.render=function(){var e=a.props,t=e.signatureImporter,n=e.extendedPublicKeyImporter,r=e.isWallet,i=a.state.status,c=a.interaction();return i===ee.UNSUPPORTED?s.a.createElement($.a,{error:!0},c.messageTextFor({state:i})):s.a.createElement(T.a,{mt:2},(!r||null===n||"undefined"===typeof n||"text"===n.method)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{container:!0},s.a.createElement(x.a,{item:!0,md:10},s.a.createElement(ct.a,{fullWidth:!0,name:"bip32Path",label:"BIP32 Path",type:"text",value:t.bip32Path,onChange:a.handleBIP32PathChange,disabled:i!==ee.PENDING,error:a.hasBIP32PathError(),helperText:a.bip32PathError()})),s.a.createElement(x.a,{item:!0,md:2},!a.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:a.resetBIP32Path,disabled:i!==ee.PENDING},"Default"))),s.a.createElement($.a,null,"Use the default value if you don\u2019t understand BIP32 paths.")),s.a.createElement(T.a,{mt:2},a.renderAction()),a.renderDeviceConfirmInfo(),s.a.createElement(Vn.a,{messages:c.messagesFor({state:i}),excludeCodes:["bip32"]}))},a.renderDeviceConfirmInfo=function(){var e=a.props,t=e.fee,n=e.inputsTotalSats;return a.state.status===ee.ACTIVE?s.a.createElement(T.a,null,s.a.createElement("p",null,"Your device will ask you to verify the following information:"),s.a.createElement(Xt.a,null,s.a.createElement(Zt.a,null,s.a.createElement(Jt.a,{hover:!0},s.a.createElement($t.a,null),s.a.createElement($t.a,null,"Amount (BTC)"))),s.a.createElement(en.a,null,a.renderTargets(),s.a.createElement(Jt.a,{hover:!0},s.a.createElement($t.a,null,"Fee"),s.a.createElement($t.a,null,t)),s.a.createElement(Jt.a,{hover:!0},s.a.createElement($t.a,null,"Total"),s.a.createElement($t.a,null,Object(J.satoshisToBitcoins)(n).toString()))))):""},a.renderTargets=function(){return a.props.outputs.map((function(e){return s.a.createElement(Jt.a,{hover:!0,key:e.address},s.a.createElement($t.a,null,"Address ",s.a.createElement("code",null,e.address)),s.a.createElement($t.a,null,e.amount))}))},a.renderAction=function(){var e=a.state,t=e.signatureError,n=e.status;return s.a.createElement(x.a,{container:!0,alignItems:"center"},s.a.createElement(x.a,{item:!0,md:3},s.a.createElement(R.a,{variant:"contained",size:"large",color:"primary",onClick:a.sign,disabled:n!==ee.PENDING},"Sign")),s.a.createElement(x.a,{item:!0,md:9},s.a.createElement($.a,{error:!0},t)))},a.hasBIP32PathError=function(){var e=a.state,t=e.bip32PathError,n=e.status;return""!==t||a.interaction().hasMessagesFor({state:n,level:ee.ERROR,code:"bip32"})},a.bip32PathError=function(){var e=a.state,t=e.bip32PathError,n=e.status;return""!==t?t:a.interaction().messageTextFor({state:n,level:ee.ERROR,code:"bip32"})},a.setBIP32PathError=function(e){a.setState({bip32PathError:e})},a.handleBIP32PathChange=function(e){(0,a.props.validateAndSetBIP32Path)(e.target.value,(function(){}),a.setBIP32PathError)},a.bip32PathIsDefault=function(){var e=a.props,t=e.signatureImporter,n=e.defaultBIP32Path;return t.bip32Path===n},a.resetBIP32Path=function(){var e=a.props.resetBIP32Path;a.setBIP32PathError(""),e()},a.sign=Object(Z.a)(X.a.mark((function e(){var t,n,r,i,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.disableChangeMethod,r=t.validateAndSetSignature,i=t.enableChangeMethod,n(),a.setState({signatureError:"",status:ee.ACTIVE}),e.prev=3,e.next=6,a.interaction().run();case 6:c=e.sent,r(c,(function(e){var t={signatureError:e};""!==e&&(t.status=ee.PENDING),a.setState(t)})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),a.setState({signatureError:e.t0.message,status:ee.PENDING});case 14:i();case 15:case"end":return e.stop()}}),e,null,[[3,10]])}))),a.state={signatureError:"",bip32PathError:"",status:a.interaction().isSupported()?ee.PENDING:ee.UNSUPPORTED},a}return n}(s.a.Component),qn=n(546),Xn=n.n(qn),Zn=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).render=function(){var e=a.state,t=e.status,n=e.error,r=a.props,i=r.interaction,c=r.width,o=r.startText;if(t===ee.PENDING){var u=i.messageFor({state:t,code:"hermit.command"});return s.a.createElement("div",null,s.a.createElement("p",null,u.instructions),s.a.createElement(x.a,{container:!0,justify:"center",className:"mb-2"},s.a.createElement(hn,{text:u.command,showText:!1},s.a.createElement("code",null,s.a.createElement("strong",null,u.mode,">")," ",u.command))),s.a.createElement("p",null,"When you are ready, scan the QR code produced by Hermit:"),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",className:"mt-2",size:"large",onClick:a.handleStart},o)))}return t===ee.ACTIVE?s.a.createElement(x.a,{container:!0,direction:"column"},s.a.createElement(x.a,{item:!0},s.a.createElement(Xn.a,{delay:300,onError:a.handleError,onScan:a.handleScan,style:{width:c},facingMode:"user"})),s.a.createElement(x.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"secondary",size:"small",onClick:a.handleStop},"Cancel"))):"error"===t||"success"===t?s.a.createElement("div",null,s.a.createElement($.a,{error:!0},n),s.a.createElement(R.a,{variant:"contained",color:"secondary",size:"small",onClick:a.handleStop},"Reset")):null},a.handleStart=function(){var e=a.props.onStart;a.setState({status:ee.ACTIVE,error:""}),e&&e()},a.handleError=function(e){var t=a.props.onClear;a.setState({status:"error",error:e.message}),t&&t()},a.handleScan=function(e){var t=a.props,n=t.onSuccess,r=t.interaction;if(e)try{n(r.parse(e)),a.setState({status:"success"})}catch(i){a.handleError(i)}},a.handleStop=function(){var e=a.props.onClear;a.setState({status:ee.PENDING,error:""}),e&&e()},a.state={status:ee.PENDING,error:""},a}return n}(o.Component);Zn.defaultProps={width:"256px",startText:"Scan"};var Jn=Zn,$n=function(e){var t=e.width,n=e.string;return s.a.createElement(hn,{text:n,newline:!0,showText:!1},s.a.createElement(ln.a,{size:t,value:n,level:"L"}))};$n.defaultProps={string:"",width:120};var ea=$n,ta=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).interaction=function(){var e=a.props,t=e.signatureImporter,n=e.network,r=e.inputs,i=e.outputs,c=r.map((function(e){return"undefined"===typeof e.bip32Path?t.bip32Path:"".concat(t.bip32Path).concat(e.bip32Path.slice(1))}));return Object(ee.SignMultisigTransaction)({keystore:ee.HERMIT,network:n,inputs:r,outputs:i,bip32Paths:c})},a.render=function(){var e=a.props,t=e.signatureImporter,n=e.disableChangeMethod,r=e.resetBIP32Path,i=a.state,c=i.bip32PathError,o=i.signatureError,u=i.status,l=a.interaction();return u===ee.UNSUPPORTED?s.a.createElement(Vn.a,{messages:l.messagesFor({state:u}),excludeCodes:["hermit.signature_request","hermit.command"]}):s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0},s.a.createElement(x.a,{item:!0,md:10},s.a.createElement(ct.a,{name:"bip32Path",value:t.bip32Path,onChange:a.handleBIP32PathChange,disabled:u!==ee.PENDING,error:a.hasBIP32PathError(),helperText:c})),s.a.createElement(x.a,{item:!0,md:2},!a.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:r,disabled:u!==ee.PENDING},"Default"))),s.a.createElement($.a,null,"Use the default value if you don\u2019t understand BIP32 paths."),s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0,justify:"center"},s.a.createElement(x.a,{item:!0},s.a.createElement(ea,{width:400,string:l.request()}))),s.a.createElement(Jn,{startText:"Scan Signature QR Code",interaction:l,onStart:n,onSuccess:a.import,onClear:a.clear}),s.a.createElement(Vn.a,{messages:l.messagesFor({state:u}),excludeCodes:["hermit.signature_request","hermit.command"]}),s.a.createElement($.a,{error:!0},o)))},a.import=function(e){var t=a.props,n=t.validateAndSetSignature,r=t.enableChangeMethod;a.setState({signatureError:""}),r(),n(e,(function(e){a.setState({signatureError:e})}))},a.clear=function(){var e=a.props,t=e.resetBIP32Path,n=e.enableChangeMethod;t(),a.setState({signatureError:""}),n()},a.hasBIP32PathError=function(){return""!==a.state.bip32PathError},a.handleBIP32PathChange=function(e){(0,a.props.validateAndSetBIP32Path)(e.target.value,(function(){}),(function(e){a.setState({bip32PathError:e})}))},a.bip32PathIsDefault=function(){var e=a.props,t=e.signatureImporter,n=e.defaultBIP32Path;return t.bip32Path===n},a.state={bip32PathError:"",signatureError:"",status:a.interaction(!0).isSupported()?ee.PENDING:ee.UNSUPPORTED},a}return n}(s.a.Component),na=n(1752),aa=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).interaction=function(){var e=a.props,t=e.signatureImporter,n=e.network,r=e.inputs,i=e.outputs,c=t.method,o=r.map((function(e){return"undefined"===typeof e.bip32Path?t.bip32Path:"".concat(t.bip32Path).concat(e.bip32Path.slice(1))}));return Object(ee.SignMultisigTransaction)({keystore:c,network:n,inputs:r,outputs:i,bip32Paths:o})},a.renderDeviceConfirmInfo=function(){var e=a.props,t=e.fee,n=e.inputsTotalSats;return s.a.createElement(T.a,null,s.a.createElement("p",null,"Your device will ask you to verify the following information:"),s.a.createElement(Xt.a,null,s.a.createElement(Zt.a,null,s.a.createElement(Jt.a,{hover:!0},s.a.createElement($t.a,null),s.a.createElement($t.a,null,"Amount (BTC)"))),s.a.createElement(en.a,null,a.renderTargets(),s.a.createElement(Jt.a,{hover:!0},s.a.createElement($t.a,null,"Fee"),s.a.createElement($t.a,null,t)),s.a.createElement(Jt.a,{hover:!0},s.a.createElement($t.a,null,"Total"),s.a.createElement($t.a,null,Object(J.satoshisToBitcoins)(n).toString())))))},a.renderTargets=function(){return a.props.outputs.map((function(e){return s.a.createElement(Jt.a,{hover:!0,key:e.address},s.a.createElement($t.a,null,"Address ",s.a.createElement("code",null,e.address)),s.a.createElement($t.a,null,e.amount))}))},a.render=function(){var e=a.props,t=e.disableChangeMethod,n=e.extendedPublicKeyImporter,r=e.Signer,i=a.state,c=i.signatureError,o=i.status,u=a.interaction();return o===ee.UNSUPPORTED?s.a.createElement(Vn.a,{messages:u.messagesFor({state:o}),excludeCodes:["hermit.signature_request","hermit.command"]}):s.a.createElement(T.a,{mt:2},s.a.createElement(T.a,{mt:2},a.renderDeviceConfirmInfo(),s.a.createElement(na.a,null,s.a.createElement(r,{setError:a.setError,hasError:a.hasBIP32PathError(),onReceive:a.onReceive,onReceivePSBT:a.onReceivePSBT,interaction:a.interaction(),setActive:a.setActive,disableChangeMethod:t,extendedPublicKeyImporter:n}),s.a.createElement($.a,{error:!0},c),s.a.createElement(Vn.a,{messages:u.messagesFor({state:o})}))))},a.setActive=function(){a.setState({status:ee.ACTIVE})},a.onReceive=function(e){var t=a.props,n=t.validateAndSetSignature,r=t.enableChangeMethod;a.setState({signatureError:""}),r&&r(),n(e,(function(e){a.setState({signatureError:e})}))},a.onReceivePSBT=function(e){var t=a.props.validateAndSetSignature;try{var n=a.interaction().parse(e),r=Object.keys(n),i=[];r.forEach((function(e){i.push.apply(i,Object(te.a)(n[e]))})),a.setState({signatureError:""}),t(i,(function(e){a.setState({signatureError:e})}))}catch(c){c.errorType="Coldcard Signing Error",a.setState({signatureError:c.message})}},a.setError=function(e){a.setState({signatureError:e})},a.clear=function(){var e=a.props,t=e.resetBIP32Path,n=e.enableChangeMethod;t(),a.setState({signatureError:""}),n()},a.hasBIP32PathError=function(){return""!==a.state.bip32PathError},a.handleBIP32PathChange=function(e){(0,a.props.validateAndSetBIP32Path)(e.target.value,(function(){}),(function(e){a.setState({bip32PathError:e})}))},a.bip32PathIsDefault=function(){var e=a.props,t=e.signatureImporter,n=e.defaultBIP32Path;return t.bip32Path===n},a.state={bip32PathError:"",signatureError:"",status:a.interaction().isSupported()?ee.PENDING:ee.UNSUPPORTED},a}return n}(s.a.Component);aa.defaultProps={resetBIP32Path:null,defaultBIP32Path:"",validateAndSetBIP32Path:null,enableChangeMethod:null,disableChangeMethod:null,extendedPublicKeyImporter:{},fee:"",inputsTotalSats:{}};var ra=aa,ia=n(157),ca=n.n(ia),oa=n(412),sa=function(e){var t=e.handlePSBTDownloadClick,n=e.handleWalletConfigDownloadClick;return s.a.createElement(s.a.Fragment,null,s.a.createElement(R.a,{type:"button",variant:"contained",color:"primary",onClick:t},"Download PSBT"),s.a.createElement(R.a,{type:"button",variant:"contained",onClick:n},"Download Coldcard Config"))},ua=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handlePSBTDownloadClick=function(){var t=e.props,n=t.walletName,a=t.interaction,r=t.setActive,i=a.request().toBase64(),c=ca()().format("HHmm"),o="".concat(c,"-").concat(n,".psbt");Object(W.a)(i,o),r()},e.handleWalletConfigDownloadClick=function(){var t=e.props.walletDetailsText;e.reshapeConfig(t)},e.reshapeConfig=function(e){var t=JSON.parse(e),n=t.startingAddressIndex;t.name=0===n?t.name:"".concat(t.name,"_").concat(n.toString()),t.addressType=t.addressType.includes("-")?"P2WSH-P2SH":t.addressType;var a=Object(ee.ConfigAdapter)({KEYSTORE:ee.COLDCARD,jsonConfig:t}).adapt(),r="wc-".concat(t.name,".txt");Object(W.a)(a,r)},e.render=function(){var t=e.props,n=t.onReceivePSBT,a=t.setError;return s.a.createElement("div",null,s.a.createElement(sa,{handlePSBTDownloadClick:e.handlePSBTDownloadClick,handleWalletConfigDownloadClick:e.handleWalletConfigDownloadClick}),s.a.createElement(oa.b,{onReceivePSBT:n,setError:a}))},e}return n}(o.Component);var la=Object(p.b)((function(e){return{walletName:e.wallet.common.walletName,walletDetailsText:Object(Te.getWalletDetailsText)(e)}}),{})(ua),da=function(e){var t=e.signatureImporter,n=e.extendedPublicKeyImporter,a=e.inputs,r=e.outputs,i=e.inputsTotalSats,c=e.fee,o=e.validateAndSetSignature,u=e.network;return s.a.createElement(ra,{network:u,signatureImporter:t,inputs:a,outputs:r,inputsTotalSats:i,fee:c,extendedPublicKeyImporter:n,validateAndSetSignature:o,Signer:la})},pa=n(1071),fa=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).titleRef=s.a.createRef(),a.componentDidMount=function(){a.resetBIP32Path(),a.scrollToTitle()},a.componentDidUpdate=function(){a.scrollToTitle()},a.title=function(){var e=a.props,t=e.number,n=e.signatureImporter,r=e.setName;return s.a.createElement(dt,{number:t,name:n.name,setName:r})},a.scrollToTitle=function(){a.props.number===a.getCurrent()&&a.titleRef.current.scrollIntoView({behavior:"smooth"})},a.renderImport=function(){var e=a.props,t=e.signatureImporter,n=e.number,r=e.isWallet,i=n>a.getCurrent(),c=a.state.disableChangeMethod,o="signature-".concat(n,"-importer-select-label");return i?s.a.createElement("p",null,"Once you have imported the signature above, you will be able to import another signature here."):s.a.createElement("form",null,s.a.createElement(bt.a,{fullWidth:!0},s.a.createElement(Bn.a,{id:o},"Select Method"),s.a.createElement(Nn.a,{labelId:o,id:"signature-".concat(n,"-importer-select"),disabled:c,value:t.method,onChange:a.handleMethodChange},s.a.createElement(Dn.a,{value:"unknown"},"< Select method >"),s.a.createElement(Dn.a,{value:ee.TREZOR},"Trezor"),s.a.createElement(Dn.a,{value:ee.KEYSTONE},"Keystone"),s.a.createElement(Dn.a,{value:ee.LEDGER},"Ledger"),s.a.createElement(Dn.a,{value:ee.COLDCARD,disabled:!r},"Coldcard"),s.a.createElement(Dn.a,{value:ee.HERMIT},"Hermit"),s.a.createElement(Dn.a,{value:"text"},"Enter as text"))),a.renderImportByMethod())},a.renderImportByMethod=function(){var e=a.props,t=e.network,n=e.signatureImporter,r=e.signatureImporters,i=e.inputs,c=e.inputsTotalSats,o=e.outputs,u=e.fee,l=e.isWallet,d=e.extendedPublicKeyImporter,p=n.method;return p===ee.TREZOR||p===ee.LEDGER?s.a.createElement(zn,{network:t,signatureImporter:n,signatureImporters:r,inputs:i,outputs:o,inputsTotalSats:c,fee:u,isWallet:l,extendedPublicKeyImporter:d,validateAndSetBIP32Path:a.validateAndSetBIP32Path,resetBIP32Path:a.resetBIP32Path,defaultBIP32Path:a.defaultBIP32Path(),validateAndSetSignature:a.validateAndSetSignature,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod}):p===ee.KEYSTONE?s.a.createElement(pa.a,{network:t,signatureImporter:n,inputs:i,outputs:o,validateAndSetBIP32Path:a.validateAndSetBIP32Path,resetBIP32Path:a.resetBIP32Path,defaultBIP32Path:a.defaultBIP32Path(),validateAndSetSignature:a.validateAndSetSignature,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod}):p===ee.HERMIT?s.a.createElement(ta,{network:t,signatureImporter:n,inputs:i,outputs:o,inputsTotalSats:c,fee:u,extendedPublicKeyImporter:d,validateAndSetBIP32Path:a.validateAndSetBIP32Path,resetBIP32Path:a.resetBIP32Path,defaultBIP32Path:a.defaultBIP32Path(),validateAndSetSignature:a.validateAndSetSignature,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod}):p===ee.COLDCARD?s.a.createElement(da,{network:t,signatureImporter:n,inputs:i,outputs:o,inputsTotalSats:c,fee:u,extendedPublicKeyImporter:d,validateAndSetSignature:a.validateAndSetSignature}):"text"===p?s.a.createElement(Yn,{signatureImporter:n,validateAndSetSignature:a.validateAndSetSignature}):null},a.handleMethodChange=function(e){var t=a.props,n=t.number;(0,t.setMethod)(n,e.target.value),a.reset()},a.disableChangeMethod=function(){a.setState({disableChangeMethod:!0})},a.enableChangeMethod=function(){a.setState({disableChangeMethod:!1})},a.reset=function(){var e=a.props,t=e.number,n=e.setSignature,r=e.setPublicKeys,i=e.setFinalized;n(t,""),r(t,[]),i(t,!1)},a.defaultBIP32Path=function(){var e=a.props,t=e.addressType,n=e.network;return e.isWallet?Object(J.multisigBIP32Root)(t,n):Object(J.multisigBIP32Path)(t,n)},a.resetBIP32Path=function(){var e=a.props,t=e.number,n=e.setBIP32Path;if(e.isWallet){var r=a.props.extendedPublicKeyImporter;if(r&&"text"!==r.method)return}n(t,a.defaultBIP32Path())},a.validateAndSetBIP32Path=function(e,t,n,r){var i=a.props,c=i.number,o=i.setBIP32Path,s=Object(J.validateBIP32Path)(e,r);o(c,e),s?n(s):(n(""),t())},a.renderSignature=function(){var e=a.props,t=e.signatureImporter,n=e.txid,r=JSON.stringify(t.signature);return s.a.createElement("div",null,s.a.createElement("p",null,"The following signature was imported:"),s.a.createElement(T.a,null,s.a.createElement(hn,{text:r,showIcon:!0,code:!0})),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"secondary",disabled:""!==n,size:"small",onClick:a.reset},"Remove Signature")))},a.validateAndSetSignature=function(e,t){var n=a.props,r=n.number,i=n.inputs,c=n.signatureImporters,o=n.setComplete,s=n.network,u=n.outputs,l=n.setSigningKey;if(Array.isArray(e))if(e.length<i.length)t("Not enough signatures (must be at least one signature for each input).");else if(e.length%i.length===0){var d=e.length/i.length;if(d>Object.values(c).length)t("Too many signatures. Max one set of signatures per required signer.");else{var p=[];if(1===d){for(var f=Object.values(c).filter((function(e){return e.finalized})),A=0;A<e.length;A+=1){var b=A+1,m=e[A];if(""!==Object(J.validateHex)(m))return void t("Signature for input ".concat(b," is not valid hex."));var h=void 0;try{h=Object(J.validateMultisigSignature)(s,i,u,A,m)}catch(x){return void t("Signature for input ".concat(b," is invalid."))}if(!h)return void t("Signature for input ".concat(b," is invalid."));for(var E=0;E<f.length;E+=1){var g=f[E];if(g.signature[A]===m||g.publicKeys[A]===h)return void t("Signature for input ".concat(b," is a duplicate of a previously provided signature."))}p.push(h)}o(r,{signature:e,publicKeys:p,finalized:!0})}else for(var v=a.filterKnownSignatures(e),y=r;y<=Object.keys(c).length&&v.length>0;){l(y,y-1);for(var P=[],S=[],I=0;I<i.length;I+=1){for(var O=void 0,T=0;T<v.length;T+=1){var w=v[T];if(""!==Object(J.validateHex)(w))return void t("Signature for input at index ".concat(I," is not valid hex."));try{O=Object(J.validateMultisigSignature)(s,i,u,I,w)}catch(x){console.error(x)}if(O){S.push(O),P.push(w);break}}if(!O)return void t("No valid signature for input ".concat(I," found."))}if(S.length!==i.length||P.length!==i.length)return void t("There was an error in validating the transaction.");o(y,{signature:P,publicKeySet:S,finalized:!0}),v=a.filterKnownSignatures(e),y+=1}}}else t("Number of signatures must be a multiple of number of inputs.");else t("Signature is not an array of strings.")},a.filterKnownSignatures=function(e){for(var t=a.props,n=t.inputs,r=t.signatureImporters,i=Object.values(r).filter((function(e){return e.finalized})),c=[],o=0;o<n.length;o+=1)for(var s=0;s<i.length;s+=1){var u=i[s];c.push(u.signature[o])}return e.filter((function(e){return!c.includes(e)}))},a.state={disableChangeMethod:!1},a}return Object(h.a)(n,[{key:"getCurrent",value:function(){var e=this.props.signatureImporters;return Object.keys(e).reduce((function(t,n){return t+(e[n].finalized?1:0)}),1)}},{key:"render",value:function(){var e=this.props.signatureImporter;return s.a.createElement(C.a,null,s.a.createElement(k.a,{title:this.title(),ref:this.titleRef}),s.a.createElement(j.a,null,e.finalized?this.renderSignature():this.renderImport()))}}]),n}(s.a.Component);fa.defaultProps={extendedPublicKeyImporter:{}};var Aa={setName:Un,setMethod:Hn,setBIP32Path:_n,setPublicKeys:Ln,setSignature:Qn,setFinalized:Gn,setComplete:Wn,setSigningKey:He},ba=Object(p.b)((function(e,t){return Object(z.a)(Object(z.a)({},{signatureImporters:e.spend.signatureImporters,signatureImporter:e.spend.signatureImporters[t.number],fee:e.spend.transaction.fee,txid:e.spend.transaction.txid}),e.spend.transaction)}),Aa)(fa),ma=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props,t=e.signingKeys,n=e.number;t[n-1]>0&&a.updateKeySelection(t[n-1])},a.render=function(){var e=a.state.selection,t=a.props,n=t.number,r=t.signatureImporter;return s.a.createElement("div",null,a.renderKeySelectorMenu(),(e>0&&n>0||r&&r.finalized)&&a.renderSignatureImporter())},a.renderSignatureImporter=function(){var e=a.props.number,t=a.getAssociatedExtendedPublicKeyImporter();return s.a.createElement(T.a,{mt:2},s.a.createElement(ba,{number:e,extendedPublicKeyImporter:t}))},a.getAssociatedExtendedPublicKeyImporter=function(){var e=a.props.extendedPublicKeyImporters,t=a.state.selection,n=null;return t&&(n=e[t]),n},a.renderKeySelectorMenu=function(){var e=a.props,t=e.number,n=e.signatureImporters,r=e.setBIP32Path,i=a.state.selection,c="keySelector".concat(t),o=a.getAssociatedExtendedPublicKeyImporter();if(null!==o&&t>0){var u=n[t];if(u.signature.length>0)return"";o.bip32Path!==u.bip32Path&&"text"!==o.method&&setTimeout((function(){r(t,o.bip32Path)}),0)}return s.a.createElement("form",null,s.a.createElement(bt.a,{fullWidth:!0},s.a.createElement(Bn.a,{id:c},"Select Key"),s.a.createElement(Nn.a,{labelId:c,id:"signature-".concat(t,"-key-select"),value:i,onChange:a.handleKeyChange},s.a.createElement(Dn.a,{value:""},"< Select Extended Public Key >"),a.renderKeySelectorMenuItems())))},a.extendedPublicKeyImporterNotUsed=function(e){var t=a.props,n=t.inputs,r=t.network,i=t.signatureImporters;if(0===t.number)return!0;for(var c=0;c<n.length;c+=1)for(var o=n[c],s=Object(J.deriveChildPublicKey)(e.extendedPublicKey,o.bip32Path,r),u=1;u<=Object.keys(i).length;u+=1)for(var l=i[u],d=0;d<l.publicKeys.length;d+=1){if(l.publicKeys[d]===s)return!1}return!0},a.renderKeySelectorMenuItems=function(){for(var e=a.props,t=e.extendedPublicKeyImporters,n=e.totalSigners,r=[],i=1;i<=n;i+=1){var c=t[i];a.extendedPublicKeyImporterNotUsed(c)&&r.push(s.a.createElement(Dn.a,{value:i,key:i},c.name))}return r},a.handleKeyChange=function(e){var t=a.props.onChange;(a.updateKeySelection(e.target.value),t)&&t(e,a.props.extendedPublicKeyImporters[e.target.value])},a.state={selection:""},a}return Object(h.a)(n,[{key:"updateKeySelection",value:function(e){if(this.setState({selection:e}),""!==e){var t=this.props,n=t.extendedPublicKeyImporters,a=t.setMethod,r=t.number,i=t.setSigningKey,c=n[e].method;a(r,"text"===c?"":c),r>0&&i(r,e)}}}]),n}(s.a.Component);ma.defaultProps={onChange:null,signatureImporter:null};var ha={setBIP32Path:_n,setMethod:Hn,setSigningKey:He},Ea=Object(p.b)((function(e,t){return Object(z.a)(Object(z.a)({},e.quorum),{},{totalSigners:e.spend.transaction.totalSigners,inputs:e.spend.transaction.inputs,network:e.settings.network,signatureImporters:e.spend.signatureImporters,signatureImporter:e.spend.signatureImporters[t.number],signingKeys:e.spend.transaction.signingKeys})}),ha)(ma),ga={keySelected:!1,deviceType:"unknown",bip32Path:"",hasInteraction:!1,interactionState:ee.PENDING,interactionError:"",interactionMessage:""},va=function(e,t){switch(t.type){case"RESET":return Object(z.a)(Object(z.a)({},e),{},{interactionError:"",interactionMessage:"",interactionState:ee.PENDING});case"SET_KEY_SELECTED":return Object(z.a)(Object(z.a)({},e),{},{keySelected:!0});case"SET_KEY_UNSELECTED":return Object(z.a)(Object(z.a)({},e),{},{keySelected:!1});case"SET_DEVICE_TYPE":return Object(z.a)(Object(z.a)({},e),{},{deviceType:t.value});case"SET_BIP32_PATH":return Object(z.a)(Object(z.a)({},e),{},{bip32Path:t.value});case"SET_ACTIVE":return Object(z.a)(Object(z.a)({},e),{},{interactionState:ee.ACTIVE});case"HAS_INTERACTION":return Object(z.a)(Object(z.a)({},e),{},{hasInteraction:t.value});case"SET_MESSAGE":return Object(z.a)(Object(z.a)({},e),{},{interactionMessage:t.value,interactionError:""});case"SET_ERROR":return Object(z.a)(Object(z.a)({},e),{},{interactionError:t.value,interactionMessage:""});default:return e}},ya=function(e){var t=e.slice,n=e.network,a=Object(o.useReducer)(va,ga),r=Object(ne.a)(a,2),i=r[0],c=r[1],u=Object(o.useState)(null),l=Object(ne.a)(u,2),d=l[0],p=l[1],f=Object(J.multisigAddressType)(t.multisig),A=Object(J.multisigRequiredSigners)(t.multisig),b=Object(J.multisigTotalSigners)(t.multisig);function m(){return(m=Object(Z.a)(X.a.mark((function e(){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"SET_ACTIVE"}),n=t.multisig,e.prev=2,e.next=5,d.run();case 5:(a=e.sent).address===n.address&&a.serializedPath===d.bip32Path?c({type:"SET_MESSAGE",value:"Success"}):c({type:"SET_ERROR",value:"An unknown error occured"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),c({type:"SET_ERROR",value:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return s.a.createElement(x.a,{item:!0,md:12},s.a.createElement(Ea,{number:0,onChange:function(e,a){var r=t.multisig,i=t.bip32Path;if(a){c({type:"SET_KEY_SELECTED"}),c({type:"SET_DEVICE_TYPE",value:a.method});var o="".concat(a.bip32Path).concat(i.slice(1));"Unknown"!==a.bip32Path?c({type:"SET_BIP32_PATH",value:o}):c({type:"SET_BIP32_PATH",value:""}),"trezor"===a.method?(p(Object(ee.ConfirmMultisigAddress)({keystore:a.method,network:n,bip32Path:o,multisig:r})),c({type:"HAS_INTERACTION",value:!0}),c({type:"RESET"})):(p(null),c({type:"HAS_INTERACTION",value:!1}),c({type:"RESET"}))}else p(null),c({type:"HAS_INTERACTION",value:!1}),c({type:"RESET"}),c({type:"SET_KEY_UNSELECTED"})}}),i.keySelected&&s.a.createElement("form",null,s.a.createElement(bt.a,{fullWidth:!0},s.a.createElement(Bn.a,null,"Select Method"),s.a.createElement(Nn.a,{id:"confirm-importer-select",value:"",onChange:function(e){if(""!==e.target.value){c({type:"SET_DEVICE_TYPE",value:e.target.value});var a=t.multisig;p(Object(ee.ConfirmMultisigAddress)({keystore:e.target.value,network:n,bip32Path:i.bip32Path,multisig:a})),c({type:"HAS_INTERACTION",value:!0}),c({type:"RESET"})}}},s.a.createElement(Dn.a,{value:""},"< Select method >"),s.a.createElement(Dn.a,{value:ee.TREZOR},"Trezor"),s.a.createElement(Dn.a,{value:ee.COLDCARD,disabled:!0},"Coldcard"),s.a.createElement(Dn.a,{value:ee.LEDGER,disabled:!0},"Ledger"),s.a.createElement(Dn.a,{value:ee.HERMIT,disabled:!0},"Hermit"),s.a.createElement(Dn.a,{value:"text",disabled:!0},"Enter as text")))),i.hasInteraction&&s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,null,s.a.createElement("p",null,"Confirm the following ",n.length?n:""," ",f," ",A," -of-",b," multisig address on your device:"),s.a.createElement(Xt.a,null,s.a.createElement(en.a,null,s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Address:"),s.a.createElement($t.a,null,s.a.createElement("code",null,t.multisig.address))),s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"BIP32 Path:"),s.a.createElement($t.a,null,s.a.createElement("code",null,i.bip32Path)))))),""!==i.interactionMessage&&s.a.createElement(T.a,{mt:2,align:"center"},s.a.createElement(w.a,{variant:"h5",style:{color:"green"}},s.a.createElement(Kn.a,null),"\xa0 ",i.interactionMessage)),""!==i.interactionError&&s.a.createElement(T.a,{mt:2,align:"center",style:{color:"red"}},s.a.createElement(w.a,{variant:"h5"},s.a.createElement(Mn.a,null),"\xa0 Confirmation Error"),s.a.createElement(w.a,{variant:"caption"},i.interactionError)),""===i.interactionMessage&&""===i.interactionError&&s.a.createElement(Vn.a,{messages:d.messagesFor({state:i.interactionState})}),s.a.createElement(R.a,{variant:"contained",size:"large",onClick:function(){return m.apply(this,arguments)},disabled:i.interactionState===ee.ACTIVE||!i.bip32Path},"Confirm"),(""!==i.interactionMessage||""!==i.interactionError)&&s.a.createElement(R.a,{size:"large",onClick:function(){return c({type:"RESET"})}},"Reset")))};ya.defaultProps={network:""};var Pa=ya,Sa=Object(nt.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));var Ia=function(e,t){var n=e.tab,a=s.a.createElement(cn.a,Object.assign({value:t.toString(),key:t},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(t),n));return n.disabled?s.a.createElement(Qt.a,{title:"Not available for this address",key:t,arrow:!0},s.a.createElement("div",null,a)):a};function Oa(e){var t=e.children,n=e.value,a=e.index,r=Object(dn.a)(e,["children","value","index"]);return s.a.createElement(x.a,Object.assign({container:!0,justify:"center",style:{display:n===a?"inherit":"none"}},r),s.a.createElement(x.a,{item:!0,md:11},s.a.createElement(T.a,null,t)))}Oa.defaultProps={children:s.a.createElement("span")};var Ta=function(e){var t=e.slice,n=e.client,a=e.network,r=s.a.useState("0"),i=Object(ne.a)(r,2),c=i[0],o=i[1],u=Sa(),l=[{tab:{label:"Redeem Script"},panel:s.a.createElement(jn,{multisig:t.multisig,showAddress:!1})},{tab:{label:"Confirm on Device"},panel:s.a.createElement("div",null,s.a.createElement(w.a,{variant:"h6"},"Verify Address with Quorum Participants"),s.a.createElement(w.a,{variant:"caption"},"(not all device variants supported)"),s.a.createElement(Pa,{slice:t,network:a}))},{tab:{label:"UTXOs",disabled:!t.balanceSats.isGreaterThan(0)},panel:s.a.createElement(xn,{inputs:t.utxos,inputsTotalSats:t.balanceSats,showSelection:!1})},{tab:{label:"Watch Address",disabled:"private"!==n.type},panel:s.a.createElement("div",null,s.a.createElement(w.a,{variant:"h6"},"Import Watch-Only Address"),s.a.createElement(w.a,{variant:"caption"},"Address must be imported to get accurate balance data. If this address has previous history, a rescan may be required."),s.a.createElement(T.a,{my:3},s.a.createElement(Rn.a,{addresses:[t.multisig.address],client:n})))}];return s.a.createElement(x.a,{container:!0,className:u.root},s.a.createElement(vn.a,{position:"static",color:"default",variant:"outlined"},s.a.createElement(rn.a,{value:c,onChange:function(e,t){return o(t)},"aria-label":"Slice Details View",centered:!0},l.map(Ia))),l.map((function(e,t){var n=e.panel;return s.a.createElement(Oa,{value:c,index:t.toString(),key:t},s.a.createElement(T.a,{my:3},n))})))},wa=Object(nt.a)((function(e){return{panel:{boxShadow:"inset 0px 0px 4px 1px ".concat(e.palette.grey[500])},spent:{textDecoration:"line-through"}}})),xa=function(e){var t=e.slices,n=e.search,a=e.paging,r=e.title,i=e.client,c=e.network,o=e.disabled,u=wa(),l={search:n,paging:a,detailPanelType:"single",showTitle:r&&r.length||!1,emptyRowsWhenPaging:!1,pageSize:10,pageSizeOptions:[10,20,50]};l.toolbar=l.showTitle&&l.search;var d=[{title:"Path Suffix",field:"bip32Path",render:function(e){return s.a.createElement(w.a,null,e.bip32Path.replace("m","*"))},type:"string",defaultSort:"asc",customSort:ye},{title:"UTXOs",field:"utxos",width:"50px",render:function(e){return s.a.createElement(w.a,null,e.utxos.length)},customSort:Se},{title:"Balance",field:"balanceSats",render:function(e){return s.a.createElement(w.a,null,Object(J.satoshisToBitcoins)(e.balanceSats).toString())},customSort:Pe},{title:"Last Used",field:"lastUsed",render:function(e){return s.a.createElement(w.a,null,e.lastUsed||"")},customSort:Ie},{title:"Address",field:"address",sorting:!1,render:function(e){return s.a.createElement(hn,{text:e.multisig.address,showIcon:!0,showText:!0,code:!0,className:e.addressUsed&&e.balanceSats.isEqualTo(0)?u.spent:""})}}];return d=d.filter((function(e){return!o.includes(e.field)})),s.a.createElement(gn.a,{options:l,columns:d,data:t,detailPanel:[{tooltip:"Address Details",render:function(e){return s.a.createElement(T.a,{p:1,className:u.panel},s.a.createElement(Ta,{client:i,slice:e,network:c}))}}]})};xa.defaultProps={search:!1,paging:!1,title:"",disabled:[]};var Ca,ka=xa,ja=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).getNextDepositAddress=function(){var e=a.state.depositIndex;a.setState({depositIndex:e+1}),setTimeout(a.getDepositAddress,0)},a.getDepositAddress=function(){var e=a.props,t=e.network,n=e.client,r=e.updateDepositSlice,i=e.depositableSlices,c=e.enqueueSnackbar,o=a.state.depositIndex;o<i.length&&a.setState({slice:i[o],address:i[o].multisig.address}),clearInterval(Ca),Ca=setInterval(Object(Z.a)(X.a.mark((function e(){var i,o,s,u;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=a.state,s=o.address,u=o.slice,e.next=4,fe(s,t,n);case 4:(i=e.sent)&&i.utxos&&i.utxos.length&&(clearInterval(Ca),r(Object(z.a)(Object(z.a)({},i),{},{bip32Path:u.bip32Path})),c("Deposit received. A new address should now be available for deposit."),a.resetDepositAddressIndex(),setTimeout(a.getDepositAddress,2e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),2e3)},a.handleAmountChange=function(e){var t=e.target.value,n="";t.length&&!t.match(/^[0-9.]+$/)&&(n="Amount must be numeric");var r=t.split(".");r.length>2?n="Amount must be numeric":2===r.length&&r[1].length>8&&(n="Amount must have maximum precision of 8 decimal places"),a.setState({amount:e.target.value,amountError:n})},a.qrString=function(){var e=a.state,t=e.address,n=e.amount;return"bitcoin:".concat(t).concat(n?"?amount=".concat(n):"")},a.resetDepositAddressIndex=function(){var e=a.props.depositableSlices;a.setState({slice:e[0],address:e[0].multisig.address,depositIndex:0})},a.state={address:"",amount:0,amountError:"",depositIndex:0,slice:null},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getDepositAddress()}},{key:"componentWillUnmount",value:function(){clearInterval(Ca)}},{key:"render",value:function(){var e=this.props,t=e.client,n=e.network,a=e.depositableSlices,r=this.state,i=r.address,c=r.amount,o=r.amountError,u=r.depositIndex,l=r.slice;return s.a.createElement("div",null,s.a.createElement(C.a,null,s.a.createElement(j.a,null,s.a.createElement(x.a,{container:!0,justify:"center",direction:"column",alignItems:"center"},s.a.createElement(x.a,{item:!0,md:6},s.a.createElement(hn,{text:i,newline:!0,showText:!1},s.a.createElement(ln.a,{size:300,value:this.qrString(),level:"L"}))),s.a.createElement(x.a,{item:!0},s.a.createElement(w.a,{align:"center",variant:"subtitle1"},"Scan QR code or click to copy address to clipboard.")),s.a.createElement(x.a,{item:!0,md:6},s.a.createElement(T.a,{my:3},s.a.createElement(ct.a,{fullWidth:!0,label:"Amount BTC",name:"depositAmount",onChange:this.handleAmountChange,value:c,error:""!==o,helperText:o,InputProps:{endAdornment:s.a.createElement(Vt.a,{position:"end"},s.a.createElement(it,{network:n}))}})))),l?s.a.createElement(ka,{slices:[l],client:t,network:n,disabled:["lastUsed"]}):"",s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:this.getNextDepositAddress,disabled:u>=a.length-1},"Next Address")))))}}]),n}(s.a.Component);var Ra,Ba={updateDepositSlice:qe,resetWalletView:Je},Na=Object(p.b)((function(e){return Object(z.a)(Object(z.a)({},e.settings),{},{depositableSlices:Object(Te.getDepositableSlices)(e),client:e.client})}),Ba)(Object(O.withSnackbar)(ja)),Da=n(1757),Ka=n(1748),Ma=n(1044),Fa=n(1042),Ua=n(519),Ha=n(1811),_a=n(1796),La=n(1795),Qa=n(1075),Ga=n.n(Qa),Wa=n(1074),Ya=n.n(Wa),Va=n(1073),za=n.n(Va),qa=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).interaction=null,a.componentDidMount=function(){a.defaultMode()},a.addressContent=function(){var e=a.props,t=e.node,n=e.network,r=e.client,i=t.multisig,c=t.addressUsed,o=t.balanceSats,u=a.state,l=u.expandMode,d=u.showMenu,p=u.showMenuIcon;return s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(w.a,null,s.a.createElement(hn,{text:i.address,showIcon:!0,showText:!1},s.a.createElement("code",{className:c&&o.isEqualTo(0)?On.a.spent:""},i.address),"\xa0"),Object(W.b)(Object(J.blockExplorerAddressURL)(i.address,n),s.a.createElement(za.a,{onClick:function(e){return e.stopPropagation()}}))),s.a.createElement(Ya.a,{onClick:a.handleMenu,style:{float:"right",display:p&&a.hasAdditionalOptions()?"block":"none"},"aria-controls":"address-menu","aria-haspopup":"true"}),s.a.createElement(Ua.a,{id:"address-menu",anchorEl:Ra,keepMounted:!0,open:d,onClose:a.handleClose},o.isGreaterThan(0)&&s.a.createElement(Dn.a,{selected:0===l,onClick:function(e){a.setState({expandMode:0}),a.handleClose(e)}},"UTXOs"),s.a.createElement(Dn.a,{selected:1===l,onClick:function(e){a.setState({expandMode:1}),a.handleClose(e)}},"Scripts"),a.canConfirm()&&s.a.createElement(Dn.a,{selected:2===l,onClick:function(e){a.setState({expandMode:2}),a.handleClose(e)}},"Confirm on Device"),"private"===r.type&&s.a.createElement(Dn.a,{selected:3===l,onClick:function(e){a.setState({expandMode:3}),a.handleClose(e)}},"Watch with bitcoind Node")))},a.canConfirm=function(){var e=a.props.extendedPublicKeyImporters;return Object.values(e).filter((function(e){return"trezor"===e.method})).length>0},a.hasAdditionalOptions=function(){var e=a.props,t=e.client;return e.node.balanceSats.isGreaterThan(0)||"private"===t.type||a.canConfirm()},a.handleClose=function(e){e.stopPropagation(),a.setState({showMenu:!1})},a.handleMenu=function(e){e.stopPropagation(),Ra=e.target,a.setState({showMenu:!0})},a.panelExpand=function(e,t){a.setState({showMenuIcon:t})},a.render=function(){var e=a.props.node.bip32Path;return s.a.createElement(Ha.a,{onChange:a.panelExpand},s.a.createElement(_a.a,{expandIcon:s.a.createElement(Ga.a,null),"aria-controls":"panel1a-content",id:"address-header".concat(e)},a.addressContent()),s.a.createElement(La.a,null,s.a.createElement(x.a,{container:!0},a.expandContent())))},a.defaultMode=function(){var e=a.props.node.balanceSats;a.setState({expandMode:e.isGreaterThan(0)?0:1})},a.expandContent=function(){var e=a.props,t=e.client,n=e.node,r=e.setSpendCheckbox,i=n.utxos,c=n.balanceSats,o=n.multisig,u=n.bip32Path,l=n.spend,d=a.state.expandMode;switch("public"===t.type&&3===d&&a.defaultMode(),c.isEqualTo(0)&&0===d&&a.defaultMode(),d){case 0:return s.a.createElement(x.a,{item:!0,md:12},s.a.createElement(xn,{inputs:i,inputsTotalSats:c,multisig:o,bip32Path:u,hideSelectAllInHeader:!0,selectAll:l,node:n,setSpendCheckbox:r}));case 1:return s.a.createElement(x.a,{item:!0,md:12},s.a.createElement(jn,{multisig:o,showAddress:!1}));case 2:return a.renderAddressConfirmation();case 3:return s.a.createElement(x.a,{item:!0,md:12},s.a.createElement(Rn.a,{addresses:[o.address]}));default:return""}},a.renderAddressConfirmation=function(){var e=a.state,t=e.interactionState,n=e.interactionMessage,r=e.interactionError,i=e.hasInteraction;return s.a.createElement(x.a,{item:!0,md:12},s.a.createElement(Ea,{number:0,onChange:a.keySelected}),i&&s.a.createElement(s.a.Fragment,null,a.confirmAddressDescription(),""!==n&&s.a.createElement(T.a,{mt:2,align:"center"},s.a.createElement(w.a,{variant:"h5",style:{color:"green"}},s.a.createElement(Kn.a,null),"\xa0 ",n)),""!==r&&s.a.createElement(T.a,{mt:2,align:"center",style:{color:"red"}},s.a.createElement(w.a,{variant:"h5"},s.a.createElement(Mn.a,null),"\xa0 Confirmation Error"),s.a.createElement(w.a,{variant:"caption"},r)),""===n&&""===r&&s.a.createElement(Vn.a,{messages:a.interaction.messagesFor({state:t})}),s.a.createElement(R.a,{variant:"contained",size:"large",onClick:a.confirmOnDevice,disabled:t===ee.ACTIVE},"Confirm"),(""!==n||""!==r)&&s.a.createElement(R.a,{size:"large",onClick:a.resetInteractionState},"Reset")))},a.resetInteractionState=function(){a.setState({interactionError:"",interactionMessage:"",interactionState:ee.PENDING})},a.confirmOnDevice=Object(Z.a)(X.a.mark((function e(){var t,n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({interactionState:ee.ACTIVE}),t=a.props.node,n=t.multisig,e.prev=3,e.next=6,a.interaction.run();case 6:(r=e.sent).address===n.address&&r.serializedPath===a.interaction.bip32Path?a.setState({interactionState:ee.ACTIVE,interactionMessage:"Success",interactionError:""}):a.setState({interactionState:ee.ACTIVE,interactionError:"An unknow error occured",interactionMessage:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState({interactionState:ee.ACTIVE,interactionError:e.t0.message,interactionMessage:""});case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),a.keySelected=function(e,t){var n=a.props,r=n.network,i=n.node,c=i.multisig,o=i.bip32Path;a.interaction=Object(ee.ConfirmMultisigAddress)({keystore:t.method,network:r,bip32Path:"".concat(t.bip32Path).concat(o.slice(1)),multisig:c}),a.setState({hasInteraction:!0}),a.resetInteractionState()},a.state={expandMode:null,showMenu:!1,showMenuIcon:!1,hasInteraction:!1,interactionState:ee.PENDING,interactionError:"",interactionMessage:""},a}return Object(h.a)(n,[{key:"confirmAddressDescription",value:function(){var e=this.props,t=e.network,n=e.node,a=e.requiredSigners,r=e.totalSigners,i=n.multisig,c=Object(J.multisigAddressType)(i);return s.a.createElement(T.a,null,s.a.createElement("p",null,"Confirm the following ",t," ",c," ",a,"-of-",r," multisig address on your device:"),s.a.createElement(Xt.a,null,s.a.createElement(en.a,null,s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Address:"),s.a.createElement($t.a,null,s.a.createElement("code",null,i.address))),s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"BIP32 Path:"),s.a.createElement($t.a,null,s.a.createElement("code",null,this.interaction.bip32Path))))))}}]),n}(s.a.Component);qa.defaultProps={network:J.NETWORKS.TESTNET,setSpendCheckbox:function(){}};var Xa=Object(p.b)((function(e){return{network:e.settings.network,requiredSigners:e.settings.requiredSigners,totalSigners:e.settings.totalSigners,client:e.client,extendedPublicKeyImporters:e.quorum.extendedPublicKeyImporters,transaction:e.spend.transaction}}),{})(qa),Za=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.generate()},a.setSpendCheckbox=function(e){a.props.spend;"indeterminate"===e?(a.setState({indeterminate:!0,checked:!1}),a.markSpending(!0)):(a.setState({indeterminate:!1,checked:e}),a.markSpending(e))},a.markSpending=function(e){var t=a.props,n=t.change,r=t.bip32Path;(0,t.updateNode)(n,{spend:e,bip32Path:r})},a.render=function(){var e=a.props,t=e.bip32Path,n=e.fetchedUTXOs,r=e.balanceSats,i=e.multisig,c=e.utxos,o=e.walletMode,u=e.addressKnown,l=a.state,d=l.indeterminate,p=l.checked,f=o===ze;return s.a.createElement(Jt.a,{key:t},f&&s.a.createElement($t.a,null,s.a.createElement(yn.a,{id:t,name:"spend",onChange:a.handleSpend,checked:p,disabled:!n||r.isEqualTo(0),indeterminate:d})),s.a.createElement($t.a,null,s.a.createElement("code",null,t.replace("m","*"))),s.a.createElement($t.a,null,c.length),s.a.createElement($t.a,null,n&&u?Object(J.satoshisToBitcoins)(r).toFixed():""),s.a.createElement($t.a,null,a.maxUtxoDate()),s.a.createElement($t.a,null,i?a.renderAddress():"..."))},a.maxUtxoDate=function(){var e=a.props.utxos;if(!e.length)return"";var t=Math.max.apply(Math,Object(te.a)(e.map((function(e){return e.time}))));return Number.isNaN(t)?"Pending":new Date(1e3*t).toLocaleDateString()},a.renderAddress=function(){var e=a.props.braidNode;return s.a.createElement(Xa,{node:e,setSpendCheckbox:a.setSpendCheckbox})},a.generate=function(){var e=a.props,t=e.present,n=e.change,r=e.bip32Path,i=e.addNode;t||i(n,r)},a.handleSpend=function(e){var t,n=a.props,r=n.change,i=n.bip32Path,c=n.updateNode,o=n.inputs,s=n.utxos,u=n.multisig,l=n.setInputs,d=n.updateAutoSpend,p=n.setFeeRate,f=n.feeRate;e.target.getAttribute("data-indeterminate")?(t=(t=o.filter((function(e){return 0===s.filter((function(t){return t.txid===e.txid&&t.index===e.index})).length}))).concat(s.map((function(e){return Object(z.a)(Object(z.a)({},e),{},{multisig:u,bip32Path:i})}))),a.setState({indeterminate:!1,checked:!0})):t=e.target.checked?o.concat(s.map((function(e){return Object(z.a)(Object(z.a)({},e),{},{multisig:u,bip32Path:i})}))):o.filter((function(e){return 0===s.filter((function(t){return t.txid===e.txid&&t.index===e.index})).length})),l(t),c(r,{spend:e.target.checked,bip32Path:i}),d(!1),p(f)},a.state={indeterminate:!1,checked:!1},a}return n}(s.a.Component);Za.defaultProps={multisig:{},present:!1};var Ja={setInputs:xe,setFeeRate:De,updateAutoSpend:Ue},$a=Object(p.b)((function(e,t){var n="1"===(t.bip32Path||"").split("/")[1],a=e.wallet[n?"change":"deposits"];return Object(z.a)(Object(z.a)(Object(z.a)(Object(z.a)(Object(z.a)({},e.settings),{change:n}),a.nodes[t.bip32Path]),e.spend.transaction),{},{walletMode:e.wallet.common.walletMode,braidNode:a.nodes[t.bip32Path]})}),Ja)(Za),er=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).sortAddresses=function(e){var t=a.state,n=t.orderBy,r=t.orderDir;e===n?a.setState({page:0,orderDir:"asc"===r?"desc":"asc"}):a.setState({page:0,orderBy:e})},a.renderFilters=function(){var e=a.state,t=e.filterIncludeSpent,n=e.filterIncludeZeroBalance;return s.a.createElement(na.a,{row:!0},s.a.createElement(Ka.a,{component:"h2"},s.a.createElement(T.a,{mr:3},"Show Additional")),s.a.createElement(ht.a,{control:s.a.createElement(yn.a,{checked:t,value:"filterIncludeSpent",onChange:a.filterAddresses}),label:"Spent Addresses"}),s.a.createElement(ht.a,{control:s.a.createElement(yn.a,{checked:n,value:"filterIncludeZeroBalance",onChange:a.filterAddresses}),label:"Zero Balance"}))},a.filterAddresses=function(e,t){a.setState({[e.target.value]:t,page:0})},a.getNodeSet=function(){var e=a.props,t=e.changeNodes,n=e.depositNodes,r=a.state,i=r.filterIncludeSpent,c=r.filterIncludeZeroBalance,o=r.orderBy,s=r.orderDir,u=Object.values(n).concat(Object.values(t)).reduce((function(e,t){var n=e;return n[t.bip32Path]=t,n}),{}),l=[];return Object.values(u).forEach((function(e){(e.balanceSats.isGreaterThan(0)||c&&e.balanceSats.isEqualTo(0)&&!e.addressUsed||i&&e.addressUsed)&&l.push(e)})),l=(l=l.sort((function(e,t){var n="asc"===s?1:-1;if("bip32Path"===o)return e.change&&!t.change?n:!e.change&&t.change?-n:parseInt(e.bip32Path.split("/").reverse()[0],10)>parseInt(t.bip32Path.split("/").reverse()[0],10)?n:-n;if("balanceSats"===o)return e.balanceSats.isEqualTo(t.balanceSats)?0:e.balanceSats.isGreaterThan(t.balanceSats)?n:-n;if("utxos"===o)return e.utxos.length===t.utxos.length?0:e.utxos.length>t.utxos.length?n:-n;if("time"===o){if(0===e.utxos.length)return 0===t.utxos.length?0:n;if(0===t.utxos.length)return 0===e.utxos.length?0:-n;var a=Math.min.apply(Math,Object(te.a)(e.utxos.map((function(e){return e.time})))),r=Math.min.apply(Math,Object(te.a)(t.utxos.map((function(e){return e.time}))));return Number.isNaN(a)&&Number.Number.isNaN(r)?0:Number.isNaN(a)?n:Number.isNaN(r)?-n:a>r?n:-n}return 0}))).reduce((function(e,t){var n=e;return n[t.bip32Path]=t,n}),{})},a.renderNodes=function(){for(var e=a.state,t=e.page,n=e.nodesPerPage,r=e.select,i=a.props,c=i.addNode,o=i.updateNode,u=t*n,l=[],d=a.getNodeSet(),p=0;p<n;p+=1){var f=u+p;if(f>Object.keys(d).length-1)break;var A=Object.values(d)[f].bip32Path,b=Object.values(d)[f].change,m=s.a.createElement($a,{key:A,bip32Path:A,addNode:c,updateNode:o,change:b,select:r});l.push(m)}return l},a.handlePageChange=function(e,t){var n=t;a.setState({page:n})},a.handleChangeRowsPerPage=function(e){a.setState({nodesPerPage:e.target.value,page:0})},a.pageCount=function(){var e=a.state.nodesPerPage;return Math.ceil(a.rowCount()/e)},a.rowCount=function(){var e=a.getNodeSet();return Object.keys(e).length},a.state={page:0,nodesPerPage:10,select:!1,filterIncludeSpent:!1,filterIncludeZeroBalance:!1,orderBy:"bip32Path",orderDir:"asc"},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.page,a=t.nodesPerPage,r=t.orderBy,i=t.orderDir,c=this.props.walletMode===ze;return s.a.createElement(x.a,{item:!0,md:12},s.a.createElement(Xt.a,{style:{tableLayout:"fixed"}},s.a.createElement(Zt.a,null,s.a.createElement(Jt.a,null,c&&s.a.createElement($t.a,{width:62},"Select"),s.a.createElement($t.a,{width:106},s.a.createElement(Ma.a,{active:"bip32Path"===r,direction:i,onClick:function(){return e.sortAddresses("bip32Path")}},"BIP32 Path")),s.a.createElement($t.a,{width:78},s.a.createElement(Ma.a,{active:"utxos"===r,direction:i,onClick:function(){return e.sortAddresses("utxos")}},"UTXOs")),s.a.createElement($t.a,{width:82},s.a.createElement(Ma.a,{active:"balanceSats"===r,direction:i,onClick:function(){return e.sortAddresses("balanceSats")}},"Balance")),s.a.createElement($t.a,{width:98},s.a.createElement(Ma.a,{active:"time"===r,direction:i,onClick:function(){return e.sortAddresses("time")}},"Last Used")),s.a.createElement($t.a,null,"Address"))),s.a.createElement(en.a,null,this.renderNodes())),s.a.createElement(x.a,{container:!0},s.a.createElement(x.a,{item:!0,md:6},s.a.createElement(Fa.a,{component:"div",count:this.rowCount(),rowsPerPage:a,page:n,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:this.handlePageChange,onChangeRowsPerPage:this.handleChangeRowsPerPage}))),!c&&this.renderFilters())}}]),n}(s.a.Component);var tr=Object(p.b)((function(e){return Object(z.a)({changeNodes:e.wallet.change.nodes,depositNodes:e.wallet.deposits.nodes,walletMode:e.wallet.common.walletMode,client:e.client},e.settings)}),{})(er),nr=n(1077),ar=n.n(nr),rr=n(1076),ir=n.n(rr),cr=n(1800),or=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).displayBalanceAction=function(){var t=e.props,n=t.isWallet,a=t.finalizedOutputs,r=t.autoSpend;return n?!r&&!a&&e.hasBalanceError()&&e.isBalanceable():!a&&e.hasBalanceError()&&e.isBalanceable()},e.addChangeAddress=function(){var t=e.props,n=t.changeNode,a=t.number,r=t.setAddress,i=t.setChangeOutput;r(a,n.multisig.address),i(a)},e.renderChangeAdornment=function(){var t=e.props,n=t.changeNode,a=t.number,r=t.changeOutputIndex,i=t.address,c=t.isWallet,o=t.autoSpend;if(c&&o)return{};if(null!==n){var u,l=!1;if(0===r&&""===i)u="Set to wallet change address";else{if(a!==r)return{};u="Your change will go here.",l=!0}return{endAdornment:s.a.createElement(Vt.a,{position:"end"},s.a.createElement(Qt.a,{placement:"top",title:u},s.a.createElement("small",null,s.a.createElement(ot.a,{onClick:e.addChangeAddress,disabled:l},s.a.createElement(ir.a,null)))))}}return{}},e.handleAddressChange=function(t){var n=e.props,a=n.number;(0,n.setAddress)(a,t.target.value)},e.hasAddressError=function(){return""!==e.props.addressError},e.handleAmountChange=function(t){var n=e.props,a=n.number;(0,n.setAmount)(a,t.target.value)},e.hasAmountError=function(){return""!==e.props.amountError},e.isNotBalanceable=function(){var t=e.props,n=t.number,a=t.outputs,r=t.feeError,i=t.amountError,c=t.amount,o=t.inputsTotalSats;if(""!==r)return!0;for(var s=0;s<a.length;s+=1)if(s!==n-1&&(""!==a[s].amountError||""===a[s].amount))return!0;var u=e.autoBalancedAmount();return""!==Object(J.validateOutputAmount)(Object(J.bitcoinsToSatoshis)(u),o)||""===i&&u===new re.a(c)},e.isBalanceable=function(){return!e.isNotBalanceable()},e.hasBalanceError=function(){return""!==e.props.balanceError},e.autoBalancedAmount=function(){var t=e.props,n=t.number,a=t.fee,r=t.inputsTotalSats,i=t.outputs.filter((function(e,t){return t!==n-1})).map((function(e){return e.amountSats})).reduce((function(e,t){return e.plus(t)}),new re.a(0)),c=Object(J.bitcoinsToSatoshis)(new re.a(a));return Object(J.satoshisToBitcoins)(r.minus(i.plus(c)))},e.balanceAction=function(){var t=e.props.balanceError;return!e.hasBalanceError()||e.isNotBalanceable()?null:t.split(" ")[0]},e.handleBalance=function(){var t=e.props,n=t.number;(0,t.setAmount)(n,e.autoBalancedAmount().toString())},e.hasError=function(){return e.hasAddressError()||e.hasAmountError()},e.handleDelete=function(){var t=e.props,n=t.number;(0,t.remove)(n)},e.handleMaxSpend=function(t){t.preventDefault();var n=e.props,a=n.number;(0,n.setMaxSpend)(a)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.outputs,n=e.finalizedOutputs,a=e.address,r=e.amount,i=e.addressError,c=e.amountError,o=e.changeOutputIndex,u=e.autoSpend,l=e.isWallet,d=e.number,p=l?10:1;return s.a.createElement(x.a,{container:!0,spacing:p},s.a.createElement(x.a,{item:!0,xs:7},s.a.createElement(ct.a,{fullWidth:!0,placeholder:"Address",name:"destination",className:On.a.outputsFormInput,disabled:n,onChange:this.handleAddressChange,value:a,error:this.hasAddressError(),helperText:i,InputProps:this.renderChangeAdornment()})),s.a.createElement(x.a,{item:!0,xs:3},s.a.createElement(ct.a,{fullWidth:!0,placeholder:"Amount",className:On.a.outputsFormInput,name:"amount",disabled:n,onChange:this.handleAmountChange,value:r,error:this.hasAmountError(),helperText:c,InputProps:{startAdornment:s.a.createElement(Vt.a,{position:"start"},l&&u&&d===t.length&&d!==o&&s.a.createElement(w.a,{onClick:this.handleMaxSpend,className:On.a.maxSpend,style:{fontSize:".7rem"}},"MAX")),endAdornment:s.a.createElement(Vt.a,{position:"end"},s.a.createElement($.a,null,"BTC"))}})),this.displayBalanceAction()&&s.a.createElement(x.a,{item:!0,xs:1},s.a.createElement(Qt.a,{title:"".concat(this.balanceAction()," to ").concat(this.autoBalancedAmount().toString()),placement:"top"},s.a.createElement("small",null,s.a.createElement(ot.a,{onClick:this.handleBalance},"Increase"===this.balanceAction()?s.a.createElement(wt.a,null):s.a.createElement(xt.a,null))))),!n&&t.length>(o>0&&u?2:1)&&s.a.createElement(x.a,{item:!0,xs:1},s.a.createElement(Qt.a,{title:"Remove Output",placement:"top"},s.a.createElement(ot.a,{onClick:this.handleDelete},s.a.createElement(cr.a,null)))))}}]),n}(s.a.Component);or.defaultProps={changeNode:{}};var sr={setAddress:je,setAmount:Re,remove:Ne,setChangeOutput:ke,setMaxSpend:function(e){return function(t,n){var a=Object(Te.getSpendableSlices)(n()),r=Object(Te.getConfirmedBalance)(n()),i=n(),c=i.settings,o=c.addressType,s=c.requiredSigners,u=c.totalSigners,l=i.spend.transaction,d=l.outputs,p=l.feeRate,f=a.reduce((function(e,t){return e+t.utxos.length}),0),A=Object(J.estimateMultisigTransactionFee)({addressType:o,numInputs:f,numOutputs:d.length,m:s,n:u,feesPerByteInSatoshis:p}),b=d.reduce((function(e,t){return e.plus(t.amount.length?t.amountSats:0)}),new re.a(0)),m=Object(J.satoshisToBitcoins)(new re.a(r).minus(d.length>1?b:0).minus(A));return m.isLessThanOrEqualTo(Object(J.satoshisToBitcoins)(A))&&d.length>1||m.isLessThan(ge.c)?t(Fe("Not enough available funds for max spend. Clear other outputs or wait for incoming deposits to confirm.")):t(Re(e,m.toFixed()))}}},ur=Object(p.b)((function(e,t){return Object(z.a)(Object(z.a)(Object(z.a)({},e.spend.transaction),e.spend.transaction.outputs[t.number-1]),{},{changeNode:e.wallet.change.nextNode})}),sr)(or),lr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).titleRef=s.a.createRef(),a.outputsTotal=0,a.componentDidMount=function(){a.initialOutputState(),a.scrollToTitle()},a.scrollToTitle=function(){var e=a.props,t=e.signatureImporters,n=e.isWallet;0!==Object.keys(t).reduce((function(e,n){return e+t[n].finalized}),0)||n||a.titleRef.current.scrollIntoView({behavior:"smooth"})},a.renderOutputs=function(){var e=a.props,t=e.outputs,n=e.changeOutputIndex,r=e.autoSpend;return Object(Yt.map)(t).map((function(e,t){return s.a.createElement(T.a,{key:t,display:r&&n===t+1?"none":"block"},s.a.createElement(x.a,{container:!0},s.a.createElement(ur,{number:t+1})))}))},a.inputsTotal=function(){var e=a.props.inputsTotalSats;return Object(J.satoshisToBitcoins)(e)},a.outputsAndFeeTotal=function(){var e=a.props,t=e.outputs,n=e.fee,r=e.updatesComplete,i=e.inputs,c=t.map((function(e){var t=e.amount;return t&&t.length&&!Number.isNaN(t)||(t=0),new re.a(t)})).reduce((function(e,t){return e.plus(t)}),new re.a(0));return n&&i.length&&(c=c.plus(n)),r?(a.outputsTotal=c,c.toFixed(8)):"0.00000000"},a.hasFeeRateFetchError=function(){return""!==a.state.feeRateFetchError},a.hasFeeRateError=function(){return""!==a.props.feeRateError},a.hasFeeError=function(){return""!==a.props.feeError},a.hasBalanceError=function(){return""!==a.props.balanceError},a.hasError=function(){return a.hasFeeRateFetchError()||a.hasFeeRateError()||a.hasFeeError()||a.hasBalanceError()},a.handleAddOutput=function(){(0,a.props.addOutput)()},a.handleFeeRateChange=function(e){var t=a.props.setFeeRate,n=e.target.value;(""===n||Number.isNaN(parseFloat(n,10))||parseFloat(n,10)<1)&&(n="0"),t(n)},a.handleFeeChange=function(e){(0,a.props.setFee)(e.target.value)},a.handleFinalize=function(){(0,a.props.finalizeOutputs)(!0)},a.handleReset=function(){var e=a.props,t=e.resetOutputs,n=e.isWallet;t(),n||setTimeout((function(){return a.initialOutputState()}),0)},a.getFeeEstimate=Object(Z.a)(X.a.mark((function e(){var t,n,r,i,c,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.client,r=t.network,i=t.setFeeRate,o="",e.prev=2,e.next=5,me(r,n);case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),o="There was an error fetching the fee rate.";case 11:return e.prev=11,i(Number.isNaN(c)?tt.d.toString():c.toString()),a.setState({feeRateFetchError:o}),e.finish(11);case 15:case"end":return e.stop()}}),e,null,[[2,8,11,15]])}))),a.gatherSignaturesDisabled=function(){var e=a.props,t=e.finalizedOutputs,n=e.outputs;if(0===e.inputs.length)return!0;if(t||a.hasError())return!0;for(var r=0;r<n.length;r+=1){var i=n[r];if(""===i.address||""===i.amount||""!==i.addressError||""!==i.amountError)return!0}return!1},a.state={feeRateFetchError:""},a}return Object(h.a)(n,null,[{key:"unitLabel",value:function(e,t){var n={endAdornment:s.a.createElement(Vt.a,{position:"end"},s.a.createElement($.a,null,e))};return t&&(n=Object(z.a)(Object(z.a)({},n),t)),n}}]),Object(h.a)(n,[{key:"initialOutputState",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t,n,a,r,i,c,o,s,u;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.inputs,a=t.outputs,e.next=3,this.getFeeEstimate();case 3:r=this.props,i=r.inputsTotalSats,c=r.fee,o=r.setOutputAmount,s=Object(J.bitcoinsToSatoshis)(new re.a(c)),u=Object(J.satoshisToBitcoins)(i.minus(s)),n.length&&""===a[0].amount&&o(1,u.toFixed(8));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.feeRate,a=e.fee,r=e.finalizedOutputs,i=e.feeRateError,c=e.feeError,o=e.balanceError,u=e.inputs,l=e.isWallet,d=e.autoSpend,p=this.state.feeRateFetchError,f=u&&u.length>0?a:"0.0000",A=l?10:1;return s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,{ref:this.titleRef},s.a.createElement(x.a,{container:!0,spacing:A},s.a.createElement(x.a,{item:!0,xs:4},s.a.createElement(w.a,{variant:"caption",className:On.a.outputsFormLabel},"To")),s.a.createElement(x.a,{item:!0,xs:3},"\xa0"),s.a.createElement(x.a,{item:!0,xs:3},s.a.createElement(w.a,{variant:"caption",className:On.a.outputsFormLabel},"Amount"))),s.a.createElement(x.a,null,this.renderOutputs()),s.a.createElement(x.a,{item:!0,container:!0,spacing:A},s.a.createElement(x.a,{item:!0,xs:12},s.a.createElement(R.a,{color:"primary",disabled:r,onClick:this.handleAddOutput},s.a.createElement(ar.a,null)," Add output"))),s.a.createElement(x.a,{item:!0,container:!0,spacing:A},s.a.createElement(x.a,{item:!0,xs:3},s.a.createElement(T.a,{mt:3},s.a.createElement(w.a,{variant:"caption",className:On.a.outputsFormLabel},"Fee Rate"),s.a.createElement(ct.a,{fullWidth:!0,value:t,type:"number",minimum:0,step:1,name:"fee_rate",disabled:r,onChange:this.handleFeeRateChange,error:this.hasFeeRateError(),helperText:p||i,InputProps:{endAdornment:s.a.createElement(Vt.a,{position:"end"},s.a.createElement(Qt.a,{placement:"top",title:"Estimate best rate"},s.a.createElement("small",null,s.a.createElement(ot.a,{onClick:this.getFeeEstimate,disabled:r},s.a.createElement(G.a,null)))),s.a.createElement($.a,null,"Sats/byte"))}}))),s.a.createElement(x.a,{item:!0,xs:4},s.a.createElement(T.a,{mt:3},"\xa0")),!l||l&&!d?s.a.createElement(x.a,{item:!0,xs:3},s.a.createElement(T.a,{mt:3},s.a.createElement(w.a,{variant:"caption",className:On.a.outputsFormLabel},"Estimated Fees"),s.a.createElement(ct.a,{fullWidth:!0,name:"fee_total",disabled:r,value:f,onChange:this.handleFeeChange,error:this.hasFeeError(),helperText:c,InputProps:n.unitLabel("BTC",{readOnly:!0,disableUnderline:!0,style:{color:"gray"}})}))):"",s.a.createElement(x.a,{item:!0,xs:2})),s.a.createElement(x.a,{item:!0,container:!0,spacing:A},s.a.createElement(x.a,{item:!0,xs:4},s.a.createElement(T.a,{mt:7},s.a.createElement(w.a,{variant:"h6"},!l||l&&!d?"Totals":"Output Total"))),s.a.createElement(x.a,{item:!0,xs:3},s.a.createElement(T.a,{display:!l||l&&!d?"block":"none",mt:7},s.a.createElement(ct.a,{fullWidth:!0,label:"Inputs Total",readOnly:!0,value:this.inputsTotal().toFixed(8),disabled:r,InputProps:n.unitLabel("BTC",{readOnly:!0})}))),s.a.createElement(x.a,{item:!0,xs:3},s.a.createElement(T.a,{mt:7},s.a.createElement(ct.a,{fullWidth:!0,label:!l||l&&!d?"Outputs & Fee Total":"",value:this.outputsAndFeeTotal(),error:this.hasBalanceError(),disabled:r,helperText:o,InputProps:n.unitLabel("BTC",{readOnly:!0,disableUnderline:!0})}))),s.a.createElement(x.a,{item:!0,xs:2}))),!l&&s.a.createElement(T.a,{mt:7},s.a.createElement(x.a,{container:!0,spacing:3,justify:"center"},s.a.createElement(x.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"primary",disabled:this.gatherSignaturesDisabled(),onClick:this.handleFinalize},"Gather Signatures")),s.a.createElement(x.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"secondary",disabled:r,onClick:this.handleReset},"Reset Outputs")))))}}]),n}(s.a.Component);lr.defaultProps={updatesComplete:!1};var dr={addOutput:Ce,setOutputAmount:Re,setFeeRate:De,setFee:Ke,finalizeOutputs:Me,resetOutputs:function(){return{type:"RESET_OUTPUTS"}}},pr=Object(p.b)((function(e){return Object(z.a)(Object(z.a)(Object(z.a)(Object(z.a)({},{network:e.settings.network,client:e.client}),e.spend.transaction),e.client),{},{signatureImporters:e.spend.signatureImporters,change:e.wallet.change})}),dr)(lr),fr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).buildSignedTransaction=function(){var e=a.props,t=e.network,n=e.inputs,r=e.outputs,i=e.signatureImporters;return Object(J.signedMultisigTransaction)(t,n,r,Object.values(i).map((function(e){return e.signature})))},a.handleBroadcast=Object(Z.a)(X.a.mark((function e(){var t,n,r,i,c,o,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.client,r=t.network,i=t.setTxid,c=a.buildSignedTransaction(),o="",s="",a.setState({broadcasting:!0}),e.prev=5,e.next=8,he(c.toHex(),r,n);case 8:s=e.sent,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),console.error(e.t0),o="There was an error broadcasting the transaction.: ".concat(e.t0);case 15:return e.prev=15,a.setState({txid:s,error:o,broadcasting:!1}),i(s),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[5,11,15,19]])}))),a.transactionURL=function(){var e=a.props.network,t=a.state.txid;return Object(J.blockExplorerTransactionURL)(t,e)},a.state={error:"",broadcasting:!1,txid:""},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.error,n=e.broadcasting,a=e.txid,r=this.buildSignedTransaction(),i=r.toHex();return s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Broadcast"}),s.a.createElement(j.a,null,s.a.createElement("form",null,r&&s.a.createElement(T.a,{mt:4},s.a.createElement(w.a,{variant:"h6"},"Signed Transaction"),s.a.createElement(hn,{text:i,code:!0,showIcon:!0})),""===a?s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",disabled:!r||n,onClick:this.handleBroadcast},"Broadcast Transaction"),s.a.createElement($.a,{error:!0},t),s.a.createElement("small",null,s.a.createElement($.a,null,"Warning: Broadcasting this transaction cannot be undone."))):s.a.createElement(T.a,{mt:2},s.a.createElement(w.a,{variant:"h5"},s.a.createElement(hn,{text:a,code:!0,showIcon:!0}),"\xa0",Object(W.b)(this.transactionURL(),s.a.createElement(Sn.a,null))),s.a.createElement("p",null,"Transaction successfully broadcast.")))))}}]),n}(s.a.Component);var Ar={setTxid:function(e){return{type:"SET_TXID",value:e}}},br=Object(p.b)((function(e){return Object(z.a)(Object(z.a)({network:e.settings.network,client:e.client},e.client),{},{signatureImporters:e.spend.signatureImporters,inputs:e.spend.transaction.inputs,outputs:e.spend.transaction.outputs})}),Ar)(fr),mr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).render=function(){var e=a.state.showUnsignedTransaction,t=a.props.unsignedTransaction;if(e){var n=t.toHex();return s.a.createElement("div",null,s.a.createElement("small",null,s.a.createElement(R.a,{size:"small",onClick:a.handleHideUnsignedTransaction},"Hide Unsigned Transaction")),s.a.createElement("p",null,s.a.createElement(hn,{text:n,showIcon:!0})))}return s.a.createElement("small",null,s.a.createElement(R.a,{size:"small",onClick:a.handleShowUnsignedTransaction},"Show Unsigned Transaction"))},a.handleShowUnsignedTransaction=function(){a.setState({showUnsignedTransaction:!0})},a.handleHideUnsignedTransaction=function(){a.setState({showUnsignedTransaction:!1})},a.state={showUnsignedTransaction:!1},a}return n}(s.a.Component);var hr=Object(p.b)((function(e){return{unsignedTransaction:e.spend.transaction.unsignedTransaction}}),{})(mr),Er=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).renderKeySelectors=function(){for(var e=a.props.requiredSigners,t=[],n=1;n<=e;n+=1)t.push(s.a.createElement(T.a,{key:n,mt:2},s.a.createElement(Ea,{number:n})));return t},a.signaturesFinalized=function(){var e=a.props.signatureImporters;return Object.values(e).length>0&&Object.values(e).every((function(e){return e.finalized}))},a.handleReturn=function(){var e=a.props,t=e.resetTransaction,n=e.resetWalletView;t(),n()},a.handleCancel=function(e){var t=a.props,n=t.finalizeOutputs,r=t.requiredSigners,i=t.setRequiredSigners,c=t.setSpendStep;e.preventDefault(),i(r),n(!1),c(0)},a.render=function(){var e=a.state.spent;return s.a.createElement(T.a,null,s.a.createElement(R.a,{href:"#",onClick:a.handleCancel},"Edit Transaction"),s.a.createElement(T.a,{mt:2},s.a.createElement(hr,null)),a.renderKeySelectors(),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{href:"#",onClick:function(e){e.preventDefault(),a.handleReturn()}},"Abandon Transaction")),a.signaturesFinalized()&&s.a.createElement(T.a,{mt:2},s.a.createElement(br,null)),e&&s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:a.handleReturn},"Return")))},a.state={spent:!1},a}return Object(h.a)(n,[{key:"componentWillUnmount",value:function(){var e=this.props.resetTransaction;this.state.spent&&e()}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.txid,a=e.changeSlice,r=e.updateTxSlices;return n.length&&!t.spent?(r(a),{spent:!0}):null}}]),n}(s.a.Component);var gr={finalizeOutputs:Me,setRequiredSigners:we,updateTxSlices:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;return function(){var r=Object(Z.a)(X.a.mark((function r(i,c){var o,s,u,l,d,p,f,A,b,m,h,E,g,v,y,P,S,I,O,T,w,x;return X.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=c(),s=o.settings.network,u=o.client,l=o.spend.transaction,d=l.changeAddress,p=l.inputs,f=l.txid,A=o.wallet,b=A.deposits,m=b.nextNode,h=b.nodes,E=A.change.nodes,g=function(){var e=Object(Z.a)(X.a.mark((function e(t,n){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t,s,u);case 2:return a=e.sent,e.abrupt("return",Object(z.a)({addressUsed:!0,change:Oe(n),address:t,bip32Path:n},a));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=Object(te.a)(p),t&&t.multisig.address===d&&v.push(t),y=[],P=new Set,v.forEach((function(e){var t=e.multisig.address;P.has(t)||a.has(t)||(P.add(t),y.push(g(t,e.bip32Path)))})),r.prev=7,r.next=10,Promise.all(y);case 10:S=r.sent,r.next=16;break;case 13:return r.prev=13,r.t0=r.catch(7),r.abrupt("return",i(Ge("There was a problem updating wallet state. Try a refresh. Error: ".concat(r.t0.message))));case 16:for(I=0;I<S.length;I+=1)O=S[I],T=O.change?E[O.bip32Path].utxos.length:h[O.bip32Path].utxos.length,O&&O.utxos&&O.utxos.length!==T&&(i({type:O.change?"UPDATE_CHANGE_SLICE":"UPDATE_DEPOSIT_SLICE",value:O}),a.add(O.address));if(a.size===S.length||!n){r.next=19;break}return r.abrupt("return",setTimeout((function(){return i(e(t,n-1,a))}),750));case 19:if(n){r.next=23;break}return w="There was a problem updating the wallet balance.\n      It is recommended you refresh the wallet to make sure UTXO current set is up to date.",f&&f.length&&(w+=" Transaction ID: ".concat(f)),r.abrupt("return",i(Ge(w)));case 23:return r.next=25,g(m.multisig.address,m.bip32Path);case 25:if((x=r.sent).utxos.length===h[x.bip32Path].utxos.length){r.next=28;break}return r.abrupt("return",i({type:"UPDATE_DEPOSIT_SLICE",value:x}));case 28:case"end":return r.stop()}}),r,null,[[7,13]])})));return function(e,t){return r.apply(this,arguments)}}()},resetTransaction:function(){return{type:"RESET_TRANSACTION"}},resetWalletView:Je,setSpendStep:_e},vr=Object(p.b)((function(e){return Object(z.a)(Object(z.a)(Object(z.a)(Object(z.a)({},e.wallet),e.spend),e.quorum),{},{txid:e.spend.transaction.txid,requiredSigners:e.spend.transaction.requiredSigners,totalSigners:e.spend.transaction.totalSigners,changeSlice:e.wallet.change.nextNode})}),gr)(Er),yr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renderAddresses=function(){var t=e.mapAddresses();return Object.keys(t).map((function(e){return s.a.createElement(Jt.a,{key:e},s.a.createElement($t.a,null,s.a.createElement("code",null,e)),s.a.createElement($t.a,null,t[e].utxos.length),s.a.createElement($t.a,null,s.a.createElement("code",null,t[e].amount.toFixed(8))))}))},e.renderOutputAddresses=function(){var t=e.props,n=t.changeAddress;return t.outputs.map((function(e){return s.a.createElement(Jt.a,{key:e.address},s.a.createElement($t.a,null,s.a.createElement("code",null,e.address),e.address===n?s.a.createElement("small",null,"\xa0(change)"):""),s.a.createElement($t.a,null,s.a.createElement("code",null,re()(e.amount).toFixed(8))))}))},e.renderOutputs=function(){return s.a.createElement(Xt.a,null,s.a.createElement(Zt.a,null,s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Address"),s.a.createElement($t.a,null,"Amount (BTC)"))),s.a.createElement(en.a,null,e.renderOutputAddresses()),s.a.createElement(Pn.a,null,s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"TOTAL:"),s.a.createElement($t.a,null,e.outputsTotal()))))},e.renderInputs=function(){var t=e.props.inputsTotalSats;return s.a.createElement(Xt.a,null,s.a.createElement(Zt.a,null,s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Address"),s.a.createElement($t.a,null,"UTXO count"),s.a.createElement($t.a,null,"Amount (BTC)"))),s.a.createElement(en.a,null,e.renderAddresses()),s.a.createElement(Pn.a,null,s.a.createElement(Jt.a,null,s.a.createElement($t.a,{colSpan:2},"TOTAL:"),s.a.createElement($t.a,null,Object(J.satoshisToBitcoins)(t).toString()))))},e.mapAddresses=function(){return e.props.inputs.reduce((function(e,t){var n=e,a=t.confirmed,r=t.txid,i=t.index,c=t.amount;return n[t.multisig.address]=e[t.multisig.address]||{amount:re()(0),utxos:[]},n[t.multisig.address].utxos.push({confirmed:a,txid:r,index:i,amount:c}),n[t.multisig.address].amount=e[t.multisig.address].amount.plus(re()(t.amount)),n}),{})},e.outputsTotal=function(){var t=e.props.outputs;return Object(J.satoshisToBitcoins)(t.reduce((function(e,t){return e.plus(re()(t.amountSats||0))}),re()(0))).toString()},e.render=function(){var t=e.props,n=t.feeRate,a=t.fee,r=t.inputsTotalSats,i=t.editTransaction,c=t.handleSignTransaction;return s.a.createElement(T.a,null,s.a.createElement("h2",null,"Transaction Preview"),s.a.createElement(hr,null),s.a.createElement("h3",null,"Inputs"),e.renderInputs(),s.a.createElement("h3",null,"Outputs"),e.renderOutputs(),s.a.createElement(x.a,{container:!0},s.a.createElement(x.a,{item:!0,xs:4},s.a.createElement("h3",null,"Fee"),s.a.createElement("div",null,re()(a).toFixed(8)," BTC ")),s.a.createElement(x.a,{item:!0,xs:4},s.a.createElement("h3",null,"Fee Rate"),s.a.createElement("div",null,n," sats/byte")),s.a.createElement(x.a,{item:!0,xs:4},s.a.createElement("h3",null,"Total"),s.a.createElement("div",null,Object(J.satoshisToBitcoins)(re()(r||0)).toFixed(8)," ","BTC"))),s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0,spacing:2},s.a.createElement(x.a,{item:!0},s.a.createElement(R.a,{variant:"contained",onClick:function(e){e.preventDefault(),i()}},"Edit Transaction")),s.a.createElement(x.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:c},"Sign Transaction")))))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.outputs,n=e.changeAddress,a=e.changeOutputIndex,r=e.changeNode,i=e.setChangeOutputMultisig;t.forEach((function(e){e.address===n&&i(a,r.multisig)}))}}]),n}(s.a.Component);var Pr={setChangeOutputMultisig:function(e,t){return{type:"SET_CHANGE_OUTPUT_MULTISIG",number:e,value:t}}},Sr=Object(p.b)((function(e){return{changeOutputIndex:e.spend.transaction.changeOutputIndex}}),Pr)(yr),Ir=(n(411),function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).outputsAmount=new re.a(0),e.coinSelection=W.c,e.feeAmount=new re.a(0),e.componentDidUpdate=function(t){e.props.finalizedOutputs&&!t.finalizedOutputs&&e.showPreview()},e.previewDisabled=function(){var t=e.props,n=t.finalizedOutputs,a=t.outputs,r=t.feeRateError,i=t.feeError,c=t.inputs,o=t.balanceError,s=t.autoSpend;if(0===c.length&&!s)return!0;if(n||r||i||o)return!0;for(var u=0;u<a.length;u+=1){var l=a[u];if(""===l.address||""===l.amount||""!==l.addressError||""!==l.amountError)return!0}return!1},e.showSignTransaction=function(){(0,e.props.setSpendStep)(2)},e.handleShowPreview=function(){var t=e.props,n=t.autoSelectCoins,a=t.autoSpend,r=t.finalizeOutputs;a?n():r(!0)},e.showPreview=function(){(0,e.props.setSpendStep)(1)},e.showCreate=function(){var t=e.props,n=t.finalizeOutputs,a=t.setSpendStep,r=t.resetNodesSpend,i=t.deleteChangeOutput;a(0),n(!1),r(),i()},e.handleSpendMode=function(t){var n=e.props,a=n.updateAutoSpend,r=n.resetNodesSpend,i=n.deleteChangeOutput;a(!t.target.checked),r(),i()},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.autoSpend,a=t.changeAddress,r=t.changeNode,i=t.updateNode,c=t.addNode,o=t.spendingStep,u=t.fee,l=t.feeRate,d=t.inputs,p=t.inputsTotalSats,f=t.outputs;return s.a.createElement(C.a,null,s.a.createElement(j.a,null,s.a.createElement(x.a,{container:!0},2===o&&s.a.createElement(x.a,{item:!0,md:12},s.a.createElement(T.a,null,s.a.createElement(vr,null))),0===o&&s.a.createElement(x.a,{item:!0,md:12},s.a.createElement(x.a,{container:!0,direction:"row-reverse"},s.a.createElement(T.a,{display:"flex-end"},s.a.createElement(T.a,{p:1},s.a.createElement(ht.a,{control:s.a.createElement(Da.a,{checked:!n,onChange:this.handleSpendMode}),label:"Manual"})))),s.a.createElement(T.a,{component:"div",display:n?"none":"block"},s.a.createElement(tr,{addNode:c,updateNode:i})),s.a.createElement(pr,null),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{onClick:this.handleShowPreview,variant:"contained",color:"primary",disabled:this.previewDisabled()},"Preview Transaction"))),1===o&&s.a.createElement(x.a,{item:!0,md:12},s.a.createElement(T.a,{mt:3},s.a.createElement(Sr,{changeAddress:a,changeNode:r,editTransaction:this.showCreate,fee:u,feeRate:l,inputs:d,inputsTotalSats:p,outputs:f,handleSignTransaction:function(){return e.showSignTransaction()}}))))))}}]),n}(s.a.Component));Ir.defaultProps={autoSpend:!1,balanceError:null,changeNodes:{},depositNodes:{},finalizedOutputs:!1,feeError:null,feeRateError:null,spendingStep:0};var Or={autoSelectCoins:function(){return function(e,t){var n,a,r,i=t(),c=i.settings,o=i.spend.transaction,s=i.wallet.change.nextNode.multisig.address,u=c.totalSigners,l=c.requiredSigners,d=c.addressType,p=o.outputs,f=o.feeRate,A=Object(Te.getSpendableSlices)(t());try{var b=Object(W.c)({outputs:p,feesPerByteInSatoshis:f,m:l,n:u,addressType:d,slices:A}),m=Object(ne.a)(b,2);n=m[0],a=m[1]}catch(y){return e(Fe(y.message))}var h={addressType:d,numInputs:n.length,m:l,n:u,feesPerByteInSatoshis:f};if(a){var E=p.reduce((function(e,t){return e.plus(t.amountSats)}),new re.a(0)),g=n.reduce((function(e,t){return e.plus(t.amountSats)}),new re.a(0));r=Object(J.estimateMultisigTransactionFee)(Object(z.a)(Object(z.a)({},h),{},{numOutputs:p.length+1}));var v=g.minus(r).minus(E).toFixed(8);e(function(e){var t=e.value,n=e.address;return function(e,a){var r=a().spend.transaction,i=r.outputs,c=r.changeOutputIndex;c||e({type:"ADD_OUTPUT"});var o=c||i.length+1;e(ke(o)),e(Be(n)),e(je(o,n)),e(Re(o,t))}}({address:s,value:Object(J.satoshisToBitcoins)(v).toFixed()}))}else r=Object(J.estimateMultisigTransactionFee)(Object(z.a)(Object(z.a)({},h),{},{numOutputs:p.length}));e(Ke(Object(J.satoshisToBitcoins)(r).toFixed())),e(xe(n)),e(Me(!0))}},deleteChangeOutput:function(){return function(e,t){var n=t().spend.transaction.changeOutputIndex;n&&e(Ne(n))}},updateAutoSpend:Ue,setInputs:xe,updateChangeSlice:Xe,updateDepositSlice:qe,setAddress:je,resetNodesSpend:function(){return{type:"RESET_NODES_SPEND"}},setFeeRate:De,addOutput:Ce,finalizeOutputs:Me,setChangeAddress:Be,setSpendStep:_e},Tr=Object(p.b)((function(e){return Object(z.a)(Object(z.a)({},e.spend.transaction),{},{changeNodes:e.wallet.change.nodes,changeNode:e.wallet.change.nextNode,depositNodes:e.wallet.deposits.nodes,autoSpend:e.spend.transaction.autoSpend})}),Or)(Ir),wr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).filterAddresses=function(e,t){a.setState({[e.target.value]:t},(function(){return a.setDisplaySlices()}))},a.state={filterIncludeSpent:!1,filterIncludeZeroBalance:!1,displaySlices:e.slicesWithBalance.length?Object(te.a)(e.slicesWithBalance):[]},a}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.slicesWithBalance;e.slicesWithBalance.length!==t.length&&this.setDisplaySlices()}},{key:"setDisplaySlices",value:function(){var e=this.props,t=e.slicesWithBalance,n=e.zeroBalanceSlices,a=e.spentSlices,r=this.state,i=r.filterIncludeSpent,c=r.filterIncludeZeroBalance,o=Object(te.a)(t);i&&o.push.apply(o,Object(te.a)(a)),c&&o.push.apply(o,Object(te.a)(n)),this.setState({displaySlices:o})}},{key:"render",value:function(){var e=this.state,t=e.filterIncludeSpent,n=e.filterIncludeZeroBalance,a=e.displaySlices,r=this.props,i=r.client,c=r.network;return s.a.createElement(C.a,null,s.a.createElement(j.a,null,s.a.createElement(x.a,{container:!0,direction:"column"},s.a.createElement(x.a,{item:!0},s.a.createElement(ka,{slices:a,client:i,network:c,paging:!0})),s.a.createElement(x.a,{item:!0},s.a.createElement(na.a,{row:!0},s.a.createElement(Ka.a,{component:"h2"},s.a.createElement(T.a,{mr:3},"Show Additional")),s.a.createElement(ht.a,{control:s.a.createElement(yn.a,{checked:t,value:"filterIncludeSpent",onChange:this.filterAddresses}),label:"Spent Addresses"}),s.a.createElement(ht.a,{control:s.a.createElement(yn.a,{checked:n,value:"filterIncludeZeroBalance",onChange:this.filterAddresses}),label:"Zero Balance"}))))))}}]),n}(s.a.PureComponent);var xr=Object(p.b)((function(e){return{slicesWithBalance:Object(Te.getSlicesWithBalance)(e),zeroBalanceSlices:Object(Te.getZeroBalanceSlices)(e),spentSlices:Object(Te.getSpentSlices)(e),walletMode:e.wallet.common.walletMode,client:e.client,network:e.settings.network}}))(wr),Cr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).scrollRef=s.a.createRef(),e.componentDidMount=function(){e.scrollRef.current.scrollIntoView({behavior:"smooth"})},e.render=function(){var t=e.props.walletMode;return s.a.createElement("div",null,s.a.createElement(rn.a,{ref:e.scrollRef,value:t,onChange:e.handleModeChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},e.addressesAreLoaded()&&[s.a.createElement(cn.a,{label:"Addresses",value:Ye,key:0}),s.a.createElement(cn.a,{label:"Receive",value:Ve,key:1}),s.a.createElement(cn.a,{label:"Send",value:ze,key:2})]),s.a.createElement(T.a,{mt:2},e.renderModeComponent()))},e.renderModeComponent=function(){var t=e.props,n=t.walletMode,a=t.addNode,r=t.updateNode;if(e.addressesAreLoaded()){if(n===Ve)return s.a.createElement(Na,null);if(n===ze)return s.a.createElement(Tr,{addNode:a,updateNode:r});if(n===Ye)return s.a.createElement(xr,null)}var i=e.progress();return[s.a.createElement("div",{style:{textAlign:"center",marginBottom:"5em"},key:0},s.a.createElement(on.a,{variant:"indeterminate"})),s.a.createElement(sn.a,{variant:"determinate",value:i,key:1})]},e.progress=function(){var t=e.props,n=t.change;return 100*(t.deposits.trailingEmptyNodes+n.trailingEmptyNodes)/(2*tt.c)},e.addressesAreLoaded=function(){var t=e.props,n=t.change,a=t.deposits;return!!t.nodesLoaded||(a.trailingEmptyNodes>=tt.c||a.fetchUTXOsErrors>=tt.b)&&(n.trailingEmptyNodes>=tt.c||n.fetchUTXOsErrors>=tt.b)},e.handleModeChange=function(t,n){var a=e.props,r=a.setMode,i=a.requiredSigners,c=a.setRequiredSigners,o=a.signatureImporters;n===ze&&Object.keys(o).length!==i&&c(i),r(n)},e}return n}(s.a.Component);var kr={setMode:function(e){return{type:"UPDATE_WALLET_MODE",value:e}},setRequiredSigners:we},jr=Object(p.b)((function(e){return Object(z.a)(Object(z.a)(Object(z.a)({},e.wallet),e.wallet.common),{},{requiredSigners:e.spend.transaction.requiredSigners,signatureImporters:e.spend.signatureImporters})}),kr)(Cr),Rr=n(1078),Br=Ft({setExtendedPublicKeyImporterName:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME",resetExtendedPublicKeyImporterBIP32Path:"RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH",setExtendedPublicKeyImporterBIP32Path:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH",setExtendedPublicKeyImporterMethod:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD",setExtendedPublicKeyImporterExtendedPublicKey:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY",setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY_ROOT_FINGERPRINT",setExtendedPublicKeyImporterFinalized:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED"}),Nr=Br.setExtendedPublicKeyImporterName,Dr=Br.setExtendedPublicKeyImporterBIP32Path,Kr=Br.resetExtendedPublicKeyImporterBIP32Path,Mr=Br.setExtendedPublicKeyImporterMethod,Fr=Br.setExtendedPublicKeyImporterExtendedPublicKey,Ur=Br.setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint,Hr=Br.setExtendedPublicKeyImporterFinalized;function _r(e){return{type:"SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE",value:e}}var Lr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).title=function(){var e=a.props,t=e.totalSigners,n=e.requiredSigners,r=e.addressType;return s.a.createElement("span",{className:"justify-content-between d-flex"},"Your ",n,"-of-",t," ",r," Multisig Wallet",s.a.createElement("small",{className:"text-muted"}," Extended Public Keys: ".concat(a.extendedPublicKeyCount(),"/").concat(t)))},a.testConnection=function(){var e=Object(Z.a)(X.a.mark((function e(t,n){var r,i,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.network,i=t.client,c=t.setPasswordError,e.prev=1,e.next=4,me(r,i);case 4:c(""),a.setState({connectSuccess:!0},(function(){n&&setTimeout(n,750)})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a.setState({connectSuccess:!1}),e.t0.response&&401===e.t0.response.status?c("Unauthorized: Incorrect username and password combination"):c(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),a.extendedPublicKeyCount=function(){var e=a.props.extendedPublicKeyImporters;return Object.values(e).filter((function(e){return e.finalized})).length},a.toggleImporters=function(e,t){e.preventDefault();var n=a.props,r=n.setImportersVisible,i=n.configuring,c=n.resetWallet,o=n.initialLoadComplete,s=n.setGenerating;i||(s(!1),t&&c(),t||o()),r(!i)},a.generate=function(){var e=a.props,t=e.setImportersVisible,n=e.freeze,r=e.setGenerating,i=e.startingAddressIndex,c="m/0/".concat(i),o="m/1/".concat(i);n(!0),t(!1),r(!0),a.setState({connectSuccess:!1},(function(){a.addNode(!1,c,!0),a.addNode(!0,o,!0)}))},a.updateNode=function(e,t){var n=a.props,r=n.updateChangeSlice,i=n.updateDepositSlice;(e?r:i)(t)},a.addNode=function(){var e=Object(Z.a)(X.a.mark((function e(t,n,r){var i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.generateMultisig(t,n,r);case 2:i=e.sent,a.updateNode(t,Object(z.a)({bip32Path:n},i));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.generateMultisig=function(){var e=Object(Z.a)(X.a.mark((function e(t,n,r){var i,c,o,s,u,l,d,p,f,A;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.props,c=i.extendedPublicKeyImporters,o=i.network,s=i.addressType,u=i.requiredSigners,l=a.generateRichExtendedPublicKeys(c),d=t?"1":"0",p=Object(J.generateBraid)(o,s,l,u,d),f=Object(J.deriveMultisigByPath)(p,n),e.next=7,a.fetchUTXOs(t,f,r);case 7:return A=e.sent,e.abrupt("return",Object(z.a)({multisig:f},A));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.fetchUTXOs=function(){var e=Object(Z.a)(X.a.mark((function e(t,n,r){var i,c,o,s,u;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.props,c=i.network,o=i.client,e.next=3,fe(n.address,c,o);case 3:if(!(u=e.sent)||u.fetchUTXOsError.length){e.next=8;break}return e.next=7,be(n.address,c,o);case 7:s=e.sent;case 8:return s&&(u=Object(z.a)(Object(z.a)({},u),{},{addressUsed:s.used})),r&&setTimeout((function(){return a.generateNextNodeIfNecessary(t)})),e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.generateNextNodeIfNecessary=function(e){var t=a.props,n=t.change,r=t.deposits,i=t.initialLoadComplete,c=(e?n:r).trailingEmptyNodes,o=(e?n:r).fetchUTXOsErrors,s=Object.keys((e?n:r).nodes);if(c>=tt.c||o>=tt.b)i();else{s.sort((function(e,t){var n=(e||"").split("/"),a=(t||"").split("/");return parseInt(n[2],10)-parseInt(a[2],10)}));var u=(s[s.length-1]||"").split("/"),l=parseInt(u[2],10),d="m/".concat(u[1],"/").concat(l+1);setTimeout((function(){return a.addNode(e,d,!0)}))}},a.refreshNodes=Object(Z.a)(X.a.mark((function e(){var t,n,r,i,c,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.change,r=t.deposits,i=t.resetNodesFetchErrors,c=Object.values(r.nodes).concat(Object.values(n.nodes)),o=Math.max(n.fetchUTXOsErrors,r.fetchUTXOsErrors),i(),e.next=6,Promise.all(c.map(function(){var e=Object(Z.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchUTXOs(t.change,t.multisig);case 2:n=e.sent,a.updateNode(t.change,Object(z.a)({bip32Path:t.bip32Path},n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:o>=tt.b&&Math.max(n.fetchUTXOsErrors,r.fetchUTXOsErrors)<5&&console.log("we had errors but now looks good, try to build more");case 7:case"end":return e.stop()}}),e)}))),a.state={connectSuccess:!1,unknownClient:!1},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.refreshNodes,a=t.common.nodesLoaded,r=t.setGenerating;this.debouncedTestConnection=Object(Yt.debounce)((function(t){return e.testConnection(t)}),500,{trailing:!0,leading:!1}),n(this.refreshNodes),a&&r(!0)}},{key:"componentDidUpdate",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){var n,a,r,i,c,o,s,u,l;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.client.password,a=this.props,r=a.setPasswordError,i=a.network,c=a.client,o=a.common.nodesLoaded,s=a.setIsWallet,u=a.configuring,l=this.state.unknownClient,"unknown"===c.type&&"public"===t.client.type?this.setState({unknownClient:!0}):u&&"unknown"!==c.type&&l&&this.setState({unknownClient:!1}),n!==c.password&&c.password.length&&this.debouncedTestConnection({network:i,client:c,setPasswordError:r}),!t.common.nodesLoaded&&o&&s();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateRichExtendedPublicKeys",value:function(e){return Object.values(e).map((function(e){var t=J.ExtendedPublicKey.fromBase58(e.extendedPublicKey);return t.setRootFingerprint(e.rootXfp&&!e.rootXfp.toLowerCase().includes("unknown")?e.rootXfp:"00000000"),t.setBip32Path(e.bip32Path&&!e.bip32Path.toLowerCase().includes("unknown")?e.bip32Path:"m".concat("/0".repeat(t.depth))),t.addBase58String(),t}))}},{key:"handlePasswordEnter",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.debouncedTestConnection.cancel(),e.next=4,this.testConnection(this.props,this.generate);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePasswordChange",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){var n,a,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=this.props,a=n.setPassword,r=n.setPasswordError,i=t.target.value,this.setState({connectSuccess:!1},(function(){a(i),r("")}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"body",value:function(){var e=this,t=this.props,n=t.totalSigners,a=t.configuring,r=t.downloadWalletDetails,i=t.client,c=t.generating,o=t.walletDetailsText,u=t.KeystoneWalletVerifyCode,l=t.shouldShowWalletDetailURs,d=t.extendedPublicKeyImporters,p=this.state,f=p.connectSuccess,A=p.unknownClient,b=Object.values(d).some((function(e){return e.conflict}));return this.extendedPublicKeyCount()===n?c&&!a?s.a.createElement(jr,{addNode:this.addNode,updateNode:this.updateNode}):b?s.a.createElement("p",null,"You must correct the conflict before the wallet can be generated."):s.a.createElement(C.a,null,s.a.createElement(k.a,{title:this.title()}),s.a.createElement(j.a,null,s.a.createElement(R.a,{href:"#",onClick:function(t){return e.toggleImporters(t,!1)}},a?"Hide Key Selection":"Edit Details"),s.a.createElement(an,null),s.a.createElement("p",null,"You have imported all\xa0",n," extended public keys. You will need to save this information."),s.a.createElement(Rr.a,{onClearFn:function(t){return e.toggleImporters(t,!0)},onDownloadFn:r,KeystoneWalletVerifyCode:u,walletDetailsText:o,shouldRenderURButton:l}),A&&s.a.createElement(T.a,{my:5},s.a.createElement(w.a,{variant:"subtitle1"},"This config does not contain client information. Please choose a client to connect to before importing your wallet."),s.a.createElement(Lt,{onSuccess:function(){return e.setState({connectSuccess:!0})}})),"private"===i.type&&!A&&s.a.createElement(T.a,{my:5},s.a.createElement(x.a,{container:!0,spacing:2,alignItems:"center"},s.a.createElement(x.a,{item:!0,xs:12},s.a.createElement(w.a,{variant:"subtitle1"},"This config uses a private client. Please enter password if not set.")),s.a.createElement(x.a,{item:!0},s.a.createElement(ct.a,{id:"client-username",label:"Username",defaultValue:i.username,InputProps:{readOnly:!0,disabled:!0,startAdornment:s.a.createElement(Vt.a,{position:"start"},s.a.createElement(qt.a,null))}})),s.a.createElement(x.a,{item:!0,md:4,xs:10},s.a.createElement("form",{onSubmit:function(t){return e.handlePasswordEnter(t)}},s.a.createElement(ct.a,{id:"bitcoind-password",fullWidth:!0,type:"password",label:"Password",placeholder:"Enter bitcoind password",value:i.password,onChange:function(t){return e.handlePasswordChange(t)},error:i.passwordError.length>0,helperText:i.passwordError}),f&&s.a.createElement($.a,null,"Connection confirmed with password!"))))),s.a.createElement("p",null,"Please confirm that the above information is correct and you wish to generate your wallet."),s.a.createElement(R.a,{id:"confirm-wallet",type:"button",variant:"contained",color:"primary",onClick:this.generate,disabled:"public"!==i.type&&!f},"Confirm"))):s.a.createElement("p",null,"Once you have imported all ".concat(n," extended public keys, "),"your wallet will be generated here.",b&&" You will not be able to continue until you address the conflict.")}},{key:"render",value:function(){return s.a.createElement("div",null,this.body())}}]),n}(s.a.Component);var Qr=Object(z.a)(Object(z.a)({freeze:St,updateDepositSlice:qe,updateChangeSlice:Xe,fetchSliceData:et,setImportersVisible:_r,setIsWallet:function(){return{type:"SET_IS_WALLET"}},resetWallet:$e,resetNodesFetchErrors:function(){return{type:"RESET_NODES_FETCH_ERRORS"}}},Kt({setPassword:"SET_CLIENT_PASSWORD",setPasswordError:"SET_CLIENT_PASSWORD_ERROR"})),{},{initialLoadComplete:function(){return{type:"INITIAL_LOAD_COMPLETE"}}}),Gr=Object(p.b)((function(e){return Object(z.a)(Object(z.a)(Object(z.a)(Object(z.a)(Object(z.a)({},e.settings),{client:e.client}),e.quorum),e.wallet),e.wallet.common)}),Qr)(Lr),Wr=n(9),Yr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.resetBIP32Path()},a.interaction=function(){var e=a.props,t=e.network,n=e.extendedPublicKeyImporter;return Object(ee.ExportExtendedPublicKey)({network:t,keystore:n.method,bip32Path:n.bip32Path,includeXFP:!0})},a.render=function(){var e=a.props.extendedPublicKeyImporter,t=a.state,n=t.status,r=t.extendedPublicKeyError,i=a.interaction();return n===ee.UNSUPPORTED?s.a.createElement($.a,{className:"text-danger"},i.messageTextFor({status:n})):s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0},s.a.createElement(x.a,{item:!0,md:6},s.a.createElement(ct.a,{fullWidth:!0,label:"BIP32 Path",value:e.bip32Path,onChange:a.handleBIP32PathChange,disabled:n!==ee.PENDING,error:a.hasBIP32PathError(),helperText:a.bip32PathError()})),s.a.createElement(x.a,{item:!0,md:6},!a.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:a.resetBIP32Path,disabled:n!==ee.PENDING},"Default"))),s.a.createElement($.a,null,"Use the default value if you don\u2019t understand BIP32 paths."),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{type:"button",variant:"contained",color:"primary",size:"large",onClick:a.import,disabled:a.hasBIP32PathError()||n===ee.ACTIVE},"Import Extended Public Key")),s.a.createElement(Vn.a,{messages:i.messagesFor({state:n})}),s.a.createElement($.a,{error:!0},r))},a.import=Object(Z.a)(X.a.mark((function e(){var t,n,r,i,c,o;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.validateAndSetExtendedPublicKey,r=t.validateAndSetRootFingerprint,i=t.enableChangeMethod,(0,t.disableChangeMethod)(),a.setState({extendedPublicKeyError:"",status:ee.ACTIVE}),e.prev=3,e.next=6,a.interaction().run();case 6:c=e.sent,o=c.xpub,r(c.rootFingerprint,(function(e){a.setState({extendedPublicKeyError:e,status:ee.PENDING})})),n(o,(function(e){a.setState({extendedPublicKeyError:e,status:ee.PENDING})})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0),a.setState({extendedPublicKeyError:e.t0.message,status:ee.PENDING});case 16:i();case 17:case"end":return e.stop()}}),e,null,[[3,12]])}))),a.hasBIP32PathError=function(){var e=a.state.status;return a.interaction().hasMessagesFor({state:e,level:ee.ERROR,code:"bip32"})},a.bip32PathError=function(){var e=a.state.status;return a.interaction().messageTextFor({state:e,level:ee.ERROR,code:"bip32"})},a.handleBIP32PathChange=function(e){(0,a.props.validateAndSetBIP32Path)(e.target.value,(function(){}),(function(){}))},a.bip32PathIsDefault=function(){var e=a.props,t=e.extendedPublicKeyImporter,n=e.defaultBIP32Path;return t.bip32Path===n},a.resetBIP32Path=function(){(0,a.props.resetBIP32Path)()},a.state={extendedPublicKeyError:"",status:a.interaction().isSupported()?ee.PENDING:ee.UNSUPPORTED},a}return n}(s.a.Component),Vr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).render=function(){var e=a.props.extendedPublicKeyImporter,t=a.state.error;return s.a.createElement(T.a,{mt:2},s.a.createElement(ct.a,{fullWidth:!0,name:"publicKey",label:"Extended Public Key",value:e.extendedPublicKey,onChange:a.handleChange,error:a.hasError(),helperText:t}))},a.hasError=function(){return""!==a.state.error},a.setError=function(e){a.setState({error:e})},a.handleChange=function(e){(0,a.props.validateAndSetExtendedPublicKey)(e.target.value,a.setError)},a.state={error:""},a}return n}(s.a.Component),zr=n(1759),qr=function(e){var t=e.message;return s.a.createElement("small",null,s.a.createElement(B.a,null,s.a.createElement(N.a,{color:"error.main"},s.a.createElement(D.a,null,s.a.createElement(w.a,{color:"error"},s.a.createElement(zr.a,null))),s.a.createElement(K.a,null,s.a.createElement(w.a,{color:"error"},t)))))},Xr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).interaction=function(){var e=a.props,t=e.network,n=e.extendedPublicKeyImporter;return new ee.ExportExtendedPublicKey({keystore:n.method,bip32Path:n.bip32Path,network:t,includeXFP:!0})},a.render=function(){var e=a.props,t=e.Reader,n=e.disableChangeMethod,r=e.resetBIP32Path,i=e.extendedPublicKeyImporter,c=a.state,o=c.status,u=c.extendedPublicKeyError;return s.a.createElement(na.a,null,s.a.createElement(t,{setError:a.setError,hasError:a.hasBIP32PathError(),errorMessage:a.bip32PathError(),bip32PathIsDefault:a.bip32PathIsDefault,handleBIP32PathChange:a.handleBIP32PathChange,resetBIP32Path:r,onReceive:a.onReceive,interaction:a.interaction(),disableChangeMethod:n,extendedPublicKeyImporter:i}),s.a.createElement(Vn.a,{messages:a.interaction().messagesFor({state:o}),excludeCodes:["bip32"]}),s.a.createElement($.a,{error:!0},u))},a.hasBIP32PathError=function(){var e=a.state.status;return a.interaction().hasMessagesFor({state:e,level:ee.ERROR,code:"bip32"})},a.bip32PathError=function(){var e=a.state.status;return a.interaction().messageTextFor({state:e,level:ee.ERROR,code:"bip32"})},a.handleBIP32PathChange=function(e){(0,a.props.validateAndSetBIP32Path)(e.target.value,(function(){}),(function(){}))},a.bip32PathIsDefault=function(){var e=a.props,t=e.extendedPublicKeyImporter,n=e.defaultBIP32Path;return t.bip32Path===n},a.resetBIP32Path=function(){(0,a.props.resetBIP32Path)()},a.setError=function(e){a.setState({extendedPublicKeyError:e})},a.onReceive=function(e){var t=a.props,n=t.validateAndSetBIP32Path,r=t.validateAndSetExtendedPublicKey,i=t.validateAndSetRootFingerprint,c=t.enableChangeMethod;c&&c();try{var o=a.interaction().parse(e),s=o.xpub,u=o.bip32Path;i(o.rootFingerprint,a.setError),n(u,(function(){r(s,a.setError)}),a.setError)}catch(l){a.setError(l.message)}},a.state={status:a.interaction().isSupported()?ee.PENDING:ee.UNSUPPORTED,extendedPublicKeyError:""},a}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(){this.state.status!==ee.PENDING&&this.interaction().isSupported()&&this.setState({status:ee.PENDING})}}]),n}(s.a.Component);Xr.defaultProps={enableChangeMethod:null,disableChangeMethod:null};var Zr=Xr,Jr=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;Object(m.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props,t=e.extendedPublicKeyImporter,n=e.validateAndSetBIP32Path,r=a.state.COLDCARD_MULTISIG_BIP32_PATH;t.method===ee.COLDCARD&&n(r,(function(){}),(function(){}),{})},a.getColdcardBip32Path=function(){var e=a.props,t=e.network,n=e.addressType,r=e.defaultBIP32Path,i=t===J.MAINNET?"0":"1",c="m/45'/".concat(i,"/0");return n===J.P2SH?c:r},a.render=function(){var e=a.props,t=e.extendedPublicKeyImporter,n=e.validateAndSetExtendedPublicKey,r=e.validateAndSetBIP32Path,i=e.validateAndSetRootFingerprint,c=e.addressType,o=e.network,u=a.state,l=u.extendedPublicKeyError,d=u.COLDCARD_MULTISIG_BIP32_PATH;return s.a.createElement(na.a,null,s.a.createElement(Zr,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:n,validateAndSetBIP32Path:r,validateAndSetRootFingerprint:i,addressType:c,network:o,resetBIP32Path:a.resetColdcardBIP32Path,defaultBIP32Path:d,Reader:oa.a}),s.a.createElement($.a,{error:!0},l))},a.resetColdcardBIP32Path=function(){(0,a.props.validateAndSetBIP32Path)(a.state.COLDCARD_MULTISIG_BIP32_PATH,(function(){}),(function(){}))};var r=a.getColdcardBip32Path();return a.state={COLDCARD_MULTISIG_BIP32_PATH:r},a}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.validateAndSetBIP32Path,a=t.network,r=t.addressType,i=this.getColdcardBip32Path();e.network===a&&e.addressType===r||(this.setState({COLDCARD_MULTISIG_BIP32_PATH:i}),n(i,(function(){}),(function(){})))}}]),n}(s.a.Component),$r=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){(0,a.props.resetBIP32Path)()},a.interaction=function(){var e=a.props,t=e.network,n=e.extendedPublicKeyImporter;return new ee.HermitExportExtendedPublicKey({network:t,bip32Path:n.bip32Path})},a.render=function(){var e=a.props.disableChangeMethod,t=a.state.extendedPublicKeyError;return s.a.createElement(na.a,null,s.a.createElement(Jn,{startText:"Import Extended Public Key",interaction:a.interaction(),onStart:e,onSuccess:a.import,onClear:a.onClear}),s.a.createElement($.a,{className:"text-danger"},t))},a.setError=function(e){a.setState({extendedPublicKeyError:e})},a.import=function(e){var t=a.props,n=t.validateAndSetBIP32Path,r=t.validateAndSetExtendedPublicKey;(0,t.enableChangeMethod)();var i=e.xpub;n(e.bip32Path,(function(){r(i,a.setError)}),a.setError)},a.onClear=function(){var e=a.props,t=e.reset,n=e.enableChangeMethod;t(!0),a.setError(""),n()},a.state={extendedPublicKeyError:""},a}return n}(s.a.Component),ei=n(226),ti=function(e){var t=e.network,n=e.extendedPublicKeyImporter,a=e.disableChangeMethod,r=e.validateAndSetBIP32Path,i=e.validateAndSetExtendedPublicKey,c=e.enableChangeMethod,u=e.validateAndSetRootFingerprint,l=e.defaultBIP32Path,d=e.addressType,p=Object(o.useState)(""),f=Object(ne.a)(p,2),A=f[0],b=f[1],m=function(){return d===J.P2SH?"m/45'":l},h=function(){r(m(),(function(){}),(function(){}))};Object(o.useEffect)((function(){h()}),[t,d]);var E=new ee.ExportExtendedPublicKey({keystore:n.method,network:t,bip32Path:n.bip32Path,includeXFP:!0}),g=function(){return E.hasMessagesFor({state:ee.PENDING,level:ee.ERROR,code:"bip32_path"})};return s.a.createElement(na.a,null,s.a.createElement(x.a,{container:!0,direction:"column"},s.a.createElement(x.a,{container:!0},s.a.createElement(x.a,{item:!0,md:6},s.a.createElement(ct.a,{label:"BIP32 Path",value:n.bip32Path,onChange:function(e){var t=e.target.value;r(t,(function(){}),(function(){}))},error:g(),helperText:E.messageTextFor({state:ee.PENDING,level:ee.ERROR,code:"bip32_path"})})),s.a.createElement(x.a,{item:!0,md:6},!(n.bip32Path===m())&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:h},"Default")),s.a.createElement($.a,null,"Use the default value if you don\u2019t understand BIP32 paths."))),s.a.createElement(ei.b,{qrStartText:"Import Extended Public Key",fileStartText:"Upload Extended Public Key",interaction:E,onStart:a,onSuccess:function(e){c();var t=e.xpub,n=e.bip32Path,a=e.rootFingerprint;r(n,(function(){i(t,b,(function(){u(a)}))}),b)},onClear:function(){h(),b(""),c()},disable:g(),shouldShowFileReader:!0,fileType:"json"}),s.a.createElement($.a,{className:"text-danger"},A))},ni=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).title=function(){var e=a.props,t=e.number,n=e.extendedPublicKeyImporter,r=e.setName;return s.a.createElement(dt,{number:t,name:n.name,setName:r})},a.renderImport=function(){var e=a.props,t=e.extendedPublicKeyImporter,n=e.number,r=a.state.disableChangeMethod,i="xpub-".concat(n,"-importer-select-label");return s.a.createElement("div",null,s.a.createElement(bt.a,{fullWidth:!0},s.a.createElement(Bn.a,{id:i},"Select Method"),s.a.createElement(Nn.a,{labelId:i,id:"public-key-".concat(n,"-importer-select"),disabled:r,value:t.method,onChange:a.handleMethodChange},s.a.createElement(Dn.a,{value:"unknown"},"< Select method >"),s.a.createElement(Dn.a,{value:ee.KEYSTONE},"Keystone"),s.a.createElement(Dn.a,{value:ee.TREZOR},"Trezor"),s.a.createElement(Dn.a,{value:ee.COLDCARD},"Coldcard"),s.a.createElement(Dn.a,{value:ee.LEDGER},"Ledger"),s.a.createElement(Dn.a,{value:ee.HERMIT},"Hermit"),s.a.createElement(Dn.a,{value:"text"},"Enter as text"))),a.renderImportByMethod())},a.renderImportByMethod=function(){var e=a.props,t=e.extendedPublicKeyImporter,n=e.network,r=e.addressType,i=e.defaultBIP32Path,c=t.method;return c===ee.TREZOR||c===ee.LEDGER?s.a.createElement(Yr,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:a.validateAndSetExtendedPublicKey,validateAndSetBIP32Path:a.validateAndSetBIP32Path,validateAndSetRootFingerprint:a.validateAndSetRootFingerprint,resetBIP32Path:a.resetBIP32Path,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod,addressType:r,defaultBIP32Path:i,network:n}):c===ee.HERMIT?s.a.createElement($r,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:a.validateAndSetExtendedPublicKey,validateAndSetBIP32Path:a.validateAndSetBIP32Path,validateAndSetRootFingerprint:a.validateAndSetRootFingerprint,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod,addressType:r,defaultBIP32Path:i,network:n,resetBIP32Path:a.resetBIP32Path,reset:a.reset}):c===ee.KEYSTONE?s.a.createElement(ti,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:a.validateAndSetExtendedPublicKey,validateAndSetBIP32Path:a.validateAndSetBIP32Path,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod,addressType:r,defaultBIP32Path:i,resetBIP32Path:a.resetBIP32Path,validateAndSetRootFingerprint:a.validateAndSetRootFingerprint,reset:a.reset,network:n}):c===ee.COLDCARD?s.a.createElement(Jr,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:a.validateAndSetExtendedPublicKey,validateAndSetBIP32Path:a.validateAndSetBIP32Path,validateAndSetRootFingerprint:a.validateAndSetRootFingerprint,addressType:r,defaultBIP32Path:i,network:n}):"text"===c?s.a.createElement(Vr,{extendedPublicKeyImporter:t,validateAndSetExtendedPublicKey:a.validateAndSetExtendedPublicKey}):null},a.handleMethodChange=function(e){var t=a.props,n=t.number,r=t.setMethod,i=t.setExtendedPublicKey;r(n,e.target.value),i(n,"")},a.disableChangeMethod=function(){a.setState({disableChangeMethod:!0})},a.enableChangeMethod=function(){a.setState({disableChangeMethod:!1})},a.finalize=function(){var e=a.props,t=e.number;(0,e.setFinalized)(t,!0)},a.reset=function(e){var t=a.props,n=t.number,r=t.setExtendedPublicKey,i=t.setFinalized;r(n,""),i(n,!1),e&&a.resetBIP32Path()},a.renderBIP32Path=function(){var e=a.props.extendedPublicKeyImporter;return"text"===e.method?s.a.createElement("div",{className:"mt-4"},s.a.createElement("p",null,"Make sure you ",s.a.createElement("strong",null,"record the corresponding BIP32 path."))):s.a.createElement("div",{className:"mt-4"},s.a.createElement("p",null,"The BIP32 path for this extended public key is:"),s.a.createElement("div",{className:"text-center"},s.a.createElement(hn,{text:e.bip32Path,showIcon:!0})),s.a.createElement("p",{className:"mt-4"},"You will need this BIP32 path to sign for this key later."," ",s.a.createElement("strong",null,"Write down this BIP32 path!")))},a.validateAndSetBIP32Path=function(e,t,n,r){var i=a.props,c=i.number,o=i.setBIP32Path,s=Object(J.validateBIP32Path)(e,r);o(c,e),s?n(s):(n(""),t())},a.resetBIP32Path=function(){var e=a.props,t=e.number;(0,e.resetBIP32Path)(t)},a.renderExtendedPublicKey=function(){var e=a.props,t=e.extendedPublicKeyImporter,n=e.network,r=e.classes,i=a.state.conversionMessage,c=t.method===ee.HERMIT&&n===J.NETWORKS.TESTNET?"this should not be an issue as hermit signing is not affected by the conversion.":"this may indicate an invalid network setting, if so correct setting, remove key and try again.";return s.a.createElement("div",null,s.a.createElement("p",null,"The following extended public key was imported:"),s.a.createElement("div",{className:r.xpub},s.a.createElement(hn,{text:t.extendedPublicKey,showIcon:!0})),a.renderBIP32Path(),""!==i&&s.a.createElement(T.a,{mb:2},s.a.createElement($.a,null,i,", ",c," ")),s.a.createElement(R.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){a.reset(t.method===ee.HERMIT)}},"Remove Extended Public Key"))},a.validateAndSetExtendedPublicKey=function(e,t,n){var r=a.props,i=r.number,c=r.network,o=r.extendedPublicKeyImporters,s=r.setExtendedPublicKey,u=Object(J.validateExtendedPublicKey)(e,c),l=e;if(""!==u)try{l=Object(J.convertExtendedPublicKey)(e,"testnet"===c?"tpub":"xpub")}catch(f){return t(f.message),void s(i,e)}var d=Object(J.validateExtendedPublicKey)(l,c);if(""!==d)return t(d),void s(i,e);if(s(i,l),l&&Object.values(o).find((function(e,t){return t!==i-1&&e.extendedPublicKey===l})))t("This extended public key has already been imported.");else{t("");var p=l===e?"":"Your extended public key has been converted from ".concat(e.slice(0,4)," to ").concat(l.slice(0,4));a.setState({conversionMessage:p}),a.finalize(),n&&n()}},a.validateAndSetRootFingerprint=function(e,t){var n=a.props,r=n.number,i=n.setExtendedPublicKeyRootXfp,c=Object(J.validateRootFingerprint)(e);c?t(c):i(r,e)},a.state={disableChangeMethod:!1,conversionMessage:""},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.extendedPublicKeyImporter,n=e.finalizedNetwork,a=e.network,r=t.method&&t.conflict,i="";return r&&(i=n!==a?"Warning, you can not mix xpub and tpub.  Do not proceed without resolving by either removing conflicting imported keys or returning network type to original state!":"Warning, BIP32 path is in conflict with the network and address type settings.  Do not proceed unless you are absolutely sure you know what you are doing!"),s.a.createElement(C.a,null,s.a.createElement(k.a,{title:this.title()}),s.a.createElement(j.a,null,r&&s.a.createElement(qr,{message:i}),t.finalized?this.renderExtendedPublicKey():this.renderImport()))}}]),n}(s.a.Component);var ai={setName:Nr,resetBIP32Path:Kr,setBIP32Path:Dr,setMethod:Mr,setExtendedPublicKey:Fr,setExtendedPublicKeyRootXfp:Ur,setFinalized:Hr},ri=Object(Wr.a)((function(){return{xpub:{lineHeight:".8rem",overflowWrap:"break-word"}}}))(ni),ii=Object(p.b)((function(e,t){return Object(z.a)(Object(z.a)(Object(z.a)({},e.settings),e.quorum),{extendedPublicKeyImporter:e.quorum.extendedPublicKeyImporters[t.number]})}),ai)(ri),ci=n(1080),oi=n(551),si=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).handleImport=function(e){var t=e.target,n=new FileReader;t.files[0]&&t.files[0].size<1048576?(n.onload=function(e){var t=e.target.result;a.setConfigJson(t)},n.readAsText(t.files[0])):a.setState({configError:"Problem uploading file."})},a.handleImportFromKeystone=function(e){a.setConfigJson(e)},a.refresh=Object(Z.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({refreshing:!0}),e.next=3,a.generatorRefresh();case 3:a.setState({refreshing:!1});case 4:case"end":return e.stop()}}),e)}))),a.resetErrorAndClearTargetValue=function(e){e.target.value="",a.setState({configError:""})},a.importDetails=function(){var e=a.state.configJson,t=a.props,n=t.setTotalSigners,r=t.setRequiredSigners,i=t.setAddressType,c=t.setNetwork,o=t.setStartingAddressIndex,s=t.setExtendedPublicKeyImporterMethod,u=t.setExtendedPublicKeyImporterExtendedPublicKey,l=t.setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint,d=t.setExtendedPublicKeyImporterBIP32Path,p=t.setExtendedPublicKeyImporterFinalized,f=t.setExtendedPublicKeyImporterName,A=t.updateWalletNameAction,b=t.setClientType,m=t.setClientUrl,h=t.setClientUsername,E=JSON.parse(e);n(E.quorum.totalSigners),r(E.quorum.requiredSigners),i(E.addressType),"regtest"===E.network?c("testnet"):c(E.network),A(0,E.name),E.client?(b(E.client.type),"private"===E.client.type&&(m(E.client.url),h(E.client.username))):b("unknown"),E.startingAddressIndex&&o(E.startingAddressIndex),E.extendedPublicKeys.forEach((function(e,t){var n=t+1;f(n,e.name),e.method?s(n,e.method):s(n,"unknown"),d(n,e.bip32Path),u(n,e.xpub),e.xfp?l(n,e.xfp):l(n,"unknown"),p(n,!0)}))},a.renderWalletImporter=function(){var e=a.state.configError;return a.props.configuring?s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{container:!0,spacing:2,style:{marginTop:"20px"}},s.a.createElement(x.a,{item:!0},s.a.createElement("label",{htmlFor:"upload-config"},s.a.createElement("input",{style:{display:"none"},id:"upload-config",name:"upload-config",accept:"application/json",onChange:a.handleImport,onClick:a.resetErrorAndClearTargetValue,type:"file"}),s.a.createElement(R.a,{color:"primary",variant:"contained",component:"span"},"Import Wallet Configuration"))),s.a.createElement(oi.a,{interaction:new ee.KeystoneWalletReader,shouldShowFileReader:!1,qrStartText:"SCAN KEYSTONE",handleSuccess:a.handleImportFromKeystone})),s.a.createElement($.a,{error:!0},e)):""},a.renderSettings=function(){var e=null;return a.props.configuring&&(e=s.a.createElement(x.a,{item:!0,md:4},s.a.createElement(T.a,null,s.a.createElement(jt,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(Nt,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(Tt,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(Lt,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(Wt,null)))),e},a.renderExtendedPublicKeyImporters=function(){for(var e=a.props,t=e.totalSigners,n=e.configuring,r=[],i=1;i<=t;i+=1)r.push(s.a.createElement(T.a,{key:i,mt:1===i?0:2,display:n?"block":"none"},s.a.createElement(ii,{key:i,number:i})));return r},a.downloadWalletDetails=function(e){var t=a.props.walletDetailsText;e.preventDefault();var n=a.walletDetailsFilename();Object(W.a)(t,n)},a.clientDetails=function(){var e=a.props.client;return"private"===e.type?'{\n    "type": "private",\n    "url": "'.concat(e.url,'",\n    "username": "').concat(e.username,'"\n  }'):'{\n    "type": "public"\n  }'},a.extendedPublicKeyImporterBIP32Paths=function(){for(var e=a.props.totalSigners,t=[],n=1;n<=e;n+=1)t.push("".concat(a.extendedPublicKeyImporterBIP32Path(n)).concat(n<e?",":""));return t.join("\n")},a.extendedPublicKeyImporterBIP32Path=function(e){var t=a.props.extendedPublicKeyImporters[e],n="text"===t.method?"Unknown (make sure you have written this down previously!)":t.bip32Path,r=!!t.fingerprint;return"unknown"===t.method?'    {\n        "name": "'.concat(t.name,'",\n        "bip32Path": "').concat(n,'",\n        "xpub": "').concat(t.extendedPublicKey,'"\n        }'):'    {\n        "name": "'.concat(t.name,'",\n        "bip32Path": "').concat(n,'",\n        "xpub": "').concat(t.extendedPublicKey,'",\n        "method": "').concat(t.method,'"').concat(r?',\n        "fingerprint": "'.concat(t.fingerprint,'"'):"","\n      }")},a.walletDetailsFilename=function(){var e=a.props,t=e.totalSigners,n=e.requiredSigners,r=e.addressType,i=e.walletName;return"bitcoin-".concat(n,"-of-").concat(t,"-").concat(r,"-").concat(i,".json")},a.totalBalance=function(){var e=a.props,t=e.deposits,n=e.change;return Object.keys(t.nodes).length?Object(J.satoshisToBitcoins)(t.balanceSats.plus(n.balanceSats)).toFixed():""},a.clearConfig=function(e){var t=a.props,n=t.setExtendedPublicKeyImporterVisible,r=t.resetWallet;e.preventDefault(),r(),n(!0),a.setState({generating:!1})},a.handleConfigJsonAddressType=function(e){var t=JSON.parse(e);return"P2WSH-P2SH"===t.addressType&&(t.addressType="P2SH-P2WSH"),JSON.stringify(t)},a.render=function(){var e=a.props,t=e.client,n=e.configuring,r=e.confirmedBalance,i=e.walletName,c=e.setName,o=e.deposits,u=e.change,l=e.network,d=e.pendingBalance,p=e.nodesLoaded,f=e.frozen,A=e.unknownAddresses,b=e.walletDetailsText,m=e.KeystoneWalletVerifyCode,h=e.shouldShowWalletDetailURs,E=a.state,g=E.refreshing,v=E.generating,y=u.fetchUTXOsErrors+o.fetchUTXOsErrors>0?"Wallet loaded, but with errors...":"";return s.a.createElement(s.a.Fragment,null,s.a.createElement(T.a,{mt:3},s.a.createElement(x.a,{container:!0,spacing:3},s.a.createElement(x.a,{item:!0,xs:10,md:6},s.a.createElement(At,{editable:!Object.keys(o.nodes).length||!Object.keys(u.nodes).length,walletName:i,setName:c,balance:+Object(J.satoshisToBitcoins)(r).toFixed(),pendingBalance:+Object(J.satoshisToBitcoins)(d).toFixed(),network:l})),s.a.createElement(x.a,{item:!0,xs:10,md:6},(p||f)&&s.a.createElement(ci.a,{addresses:A,refreshing:g,walletActivated:p,handleRefresh:function(){return a.refresh()},onClearConfig:function(e){a.clearConfig(e)},onDownloadConfig:function(e){return a.downloadWalletDetails(e)},walletDetailsText:b,KeystoneWalletVerifyCode:m,shouldShowWalletDetailURs:h,client:t,onImportAddresses:function(e,t){return a.afterImportAddresses(t)}})))),y.length?s.a.createElement($.a,{style:{float:"right",padding:"11px",fontSize:"1.5em"},error:!0},y):"",s.a.createElement(T.a,null,s.a.createElement(x.a,{container:!0,spacing:3},s.a.createElement(x.a,{item:!0,xs:12},a.renderWalletImporter()),s.a.createElement(x.a,{item:!0,md:n?8:12},a.renderExtendedPublicKeyImporters(),s.a.createElement(T.a,{mt:2},s.a.createElement(Gr,{generating:v,setGenerating:function(e){return a.setGenerating(e)},downloadWalletDetails:a.downloadWalletDetails,walletDetailsText:b,KeystoneWalletVerifyCode:m,shouldShowWalletDetailURs:h,refreshNodes:function(e){return a.generatorRefresh=e}}))),a.renderSettings())))},a.state={configError:"",configJson:"",refreshing:!1,generating:!1},a}return Object(h.a)(n,null,[{key:"validateProperties",value:function(e,t,n){for(var a=0;a<t.length;a+=1){var r=t[a],i=""!==n?e[n]:e;if(!Object.prototype.hasOwnProperty.call(i,r))return'Configuration missing property "'.concat(""!==n?"".concat(n,"."):"").concat(r,'"')}return""}},{key:"validateConfig",value:function(e){var t=n.validateProperties(e,["name","addressType","network","quorum","extendedPublicKeys"],"");if(""!==t)return t;if(void 0!==e.startingAddressIndex){var a=Object(J.validateBIP32Index)(String(e.startingAddressIndex),{mode:"unhardened "}).replace("BIP32","Starting Address");if(""!==a)return a}if(e.client){var r="public"===e.client.type?["type"]:["type","url","username"],i=n.validateProperties(e,r,"client");if(""!==i)return i}var c=n.validateProperties(e,["requiredSigners","totalSigners"],"quorum");return""!==c?c:n.validateExtendedPublicKeys(e.extendedPublicKeys,e.network)}},{key:"validateExtendedPublicKeys",value:function(e,t){var n=t;"regtest"===t&&(n="testnet");for(var a={name:function(e,t){return"string"===typeof e?"":"Extended public key ".concat(t," name must be a string")},bip32Path:function(t,n){if("text"===e[n-1].method)return"";if("undefined"===typeof e[n-1].method)return"";var a=Object(J.validateBIP32Path)(t);return""!==a?"Extended public key ".concat(n," error: ").concat(a):""},xpub:function(e){return Object(J.validateExtendedPublicKey)(e,n)},method:function(e,t){return["trezor","keystone","coldcard","ledger","hermit","xpub","text",void 0].includes(e)?"":"Invalid method for extended public key ".concat(t)}},r=Object.keys(a),i=[],c=0;c<e.length;c+=1){if(i.includes(e[c].xpub))return"Duplicate xpub found.";i.push(e[c].xpub);for(var o=0;o<r.length;o+=1){var s=r[o],u=e[c][s],l=a[s](u,c+1);if(""!==l)return l}}return""}}]),Object(h.a)(n,[{key:"componentDidMount",value:function(){if(sessionStorage){var e=sessionStorage.getItem(tt.a);e&&this.setConfigJson(e)}}},{key:"setConfigJson",value:function(e){var t,a=this,r=this.handleConfigJsonAddressType(e);try{var i=JSON.parse(r);"P2WSH-P2SH"===i.addressType&&(i.addressType="P2SH-P2WSH"),t=n.validateConfig(i)}catch(c){t="Invalid JSON"}sessionStorage&&""===t&&sessionStorage.setItem(tt.a,r),this.setState({configJson:r,configError:t},(function(){""===t&&a.importDetails()}))}},{key:"setGenerating",value:function(e){var t=this.state.generating,n=e;void 0===e&&(n=!t),this.setState({generating:n})}}]),n}(s.a.Component);si.defaultProps={pendingBalance:0};var ui=Object(z.a)(Object(z.a)({fetchSliceData:et,resetWallet:$e,setName:Ze,setTotalSigners:vt,setRequiredSigners:yt,setAddressType:Pt,setNetwork:gt,setStartingAddressIndex:function(e){return{type:"SET_STARTING_ADDRESS_INDEX",value:e}},setExtendedPublicKeyImporterMethod:Mr,setExtendedPublicKeyImporterExtendedPublicKey:Fr,setExtendedPublicKeyImporterBIP32Path:Dr,setExtendedPublicKeyImporterExtendedPublicKeyRootFingerprint:Ur,setExtendedPublicKeyImporterName:Nr,setExtendedPublicKeyImporterFinalized:Hr,setExtendedPublicKeyImporterVisible:_r,updateWalletNameAction:Ze},Kt({setClientType:"SET_CLIENT_TYPE",setClientUrl:"SET_CLIENT_URL",setClientUsername:"SET_CLIENT_USERNAME",setClientPassword:"SET_CLIENT_PASSWORD"})),{},{updateDepositNode:qe,updateChangeNode:Xe}),li=Object(p.b)((function(e){return Object(z.a)(Object(z.a)(Object(z.a)(Object(z.a)(Object(z.a)({},e.settings),e.quorum),{walletName:e.wallet.common.walletName,nodesLoaded:e.wallet.common.nodesLoaded,walletMode:e.wallet.common.walletMode}),{},{confirmedBalance:Te.getConfirmedBalance(e),pendingBalance:Te.getPendingBalance(e),walletDetailsText:Object(Te.getWalletDetailsText)(e),unknownAddresses:Object(Te.getUnknownAddresses)(e),unknownSlices:Object(Te.getUnknownAddressSlices)(e),KeystoneWalletVerifyCode:Object(Te.getKeystoneWalletVerifyCode)(e),shouldShowWalletDetailURs:Object(Te.getKeystoneExistence)(e)},e.wallet),{},{client:e.client})}),ui)(si);var di=Ft({setPublicKeyImporterName:"SET_PUBLIC_KEY_IMPORTER_NAME",resetPublicKeyImporterBIP32Path:"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH",setPublicKeyImporterBIP32Path:"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH",setPublicKeyImporterMethod:"SET_PUBLIC_KEY_IMPORTER_METHOD",setPublicKeyImporterPublicKey:"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY",setPublicKeyImporterFinalized:"SET_PUBLIC_KEY_IMPORTER_FINALIZED",movePublicKeyImporterUp:"MOVE_PUBLIC_KEY_IMPORTER_UP",movePublicKeyImporterDown:"MOVE_PUBLIC_KEY_IMPORTER_DOWN"}),pi=di.setPublicKeyImporterName,fi=di.setPublicKeyImporterBIP32Path,Ai=di.resetPublicKeyImporterBIP32Path,bi=di.setPublicKeyImporterMethod,mi=di.setPublicKeyImporterPublicKey,hi=di.setPublicKeyImporterFinalized,Ei=di.movePublicKeyImporterUp,gi=di.movePublicKeyImporterDown,vi=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).isInConflict=function(){var t=e.props.publicKeyImporters;return Object.values(t).some((function(e){return e.conflict}))},e.publicKeyCount=function(){var t=e.props,n=t.publicKeyImporters,a=t.addressType;return Object.values(n).filter((function(e){var t=e.publicKey;return e.finalized&&!Object(J.validatePublicKey)(t,a)})).length},e.publicKeysAreCanonicallySorted=function(){var t=e.props.publicKeyImporters,n=Object.values(t).map((function(e){return e.publicKey})).filter((function(e){return""!==e})),a=Object.values(t).map((function(e){return e.publicKey})).filter((function(e){return""!==e})).sort();return n.filter((function(e,t){return e===a[t]})).length===n.length},e.canonicallySortPublicKeys=function(){(0,e.props.sortPublicKeyImporters)()},e.generateMultisig=function(){for(var t=e.props,n=t.network,a=t.publicKeyImporters,r=t.totalSigners,i=t.requiredSigners,c=t.addressType,o=t.setMultisigAddress,s=[],u=1;u<=r;u+=1)s.push(a[u].publicKey);var l=J.generateMultisigFromPublicKeys.apply(void 0,[n,c,i].concat(s));return o(l.address),l},e.downloadAddressDetails=function(t){t.preventDefault();var n=e.generateMultisig(),a=e.addressDetailsText(n),r=e.addressDetailsFilename(n);Object(W.a)(a,r)},e.addressDetailsFilename=function(t){var n=e.props,a=n.totalSigners,r=n.requiredSigners,i=n.addressType;return"bitcoin-".concat(r,"-of-").concat(a,"-").concat(i,"-").concat(t.address,".txt")},e.addressDetailsText=function(t){var n=e.props,a=n.addressType,r=n.network,i=n.totalSigners,c=n.requiredSigners,o=Object(J.multisigRedeemScript)(t),s=Object(J.multisigWitnessScript)(t),u=o?"Redeem Script: ".concat(Object(J.scriptToHex)(o)):"",l=s?"Witness Script: ".concat(Object(J.scriptToHex)(s)):"",d=o&&s?"\n\n":"";return"Address: ".concat(t.address,"\n\nType: ").concat(a,"\n\nNetwork: ").concat(r,"\n\nQuorum: ").concat(c,"-of-").concat(i,"\n\nBIP32 Paths:\n").concat(e.publicKeyImporterBIP32Paths(),"\n\n").concat(u).concat(d).concat(l,"\n")},e.publicKeyImporterBIP32Paths=function(){for(var t=e.props.totalSigners,n=[],a=1;a<=t;a+=1)n.push(e.publicKeyImporterBIP32Path(a));return n.join("\n")},e.publicKeyImporterBIP32Path=function(t){var n=e.props.publicKeyImporters[t],a="text"===n.method?"Unknown (make sure you have written this down previously!)":n.bip32Path;return"  * ".concat(n.name,": ").concat(a,": ").concat(n.publicKey)},e.title=function(){var t=e.props,n=t.totalSigners,a=t.requiredSigners,r=t.addressType;return s.a.createElement(x.a,{container:!0,justify:"space-between"},s.a.createElement(x.a,{item:!0},a,"-of-",n," Multisig ",r," "),s.a.createElement(x.a,{item:!0},s.a.createElement("small",null,"Public Keys: ".concat(e.publicKeyCount(),"/").concat(n))))},e}return Object(h.a)(n,[{key:"body",value:function(){var e=this.props.totalSigners;if(this.publicKeyCount()===e){var t=this.generateMultisig(),n=this.publicKeysAreCanonicallySorted();return s.a.createElement("div",null,this.isInConflict()&&s.a.createElement(qr,null),!n&&s.a.createElement(x.a,{container:!0,justify:"space-between"},s.a.createElement(x.a,{item:!0,md:8},s.a.createElement($.a,{error:!0},"WARNING: These public keys are not in the standard"," ",Object(W.b)("https://github.com/bitcoin/bips/blob/master/bip-0067.mediawiki","BIP67 order"),".")),s.a.createElement(x.a,{item:!0,md:4},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:this.canonicallySortPublicKeys},"Sort Public Keys"))),s.a.createElement(T.a,{mt:2},s.a.createElement(jn,{multisig:t})),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:this.downloadAddressDetails},"Download Address Details")))}return s.a.createElement("p",null,"Once you have imported all ".concat(e," public keys, "),"your address details will be displayed here.")}},{key:"render",value:function(){return s.a.createElement(C.a,null,s.a.createElement(k.a,{title:this.title()}),s.a.createElement(j.a,null,this.body()))}}]),n}(s.a.Component);var yi={sortPublicKeyImporters:function(){return{type:"SORT_PUBLIC_KEY_IMPORTERS"}},setMultisigAddress:function(e){return{type:"UPDATE_MULTISIG_ADDRESS",value:e}}},Pi=Object(p.b)((function(e){return Object(z.a)(Object(z.a)({},e.settings),e.address)}),yi)(vi),Si=n(1801),Ii=n(1802),Oi=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).render=function(){var e=a.state,t=e.error,n=e.publicKey;return s.a.createElement(T.a,{mt:2},s.a.createElement(ct.a,{fullWidth:!0,name:"publicKey",label:"Public Key",value:n,onChange:a.handleChange,error:a.hasError(),helperText:t}),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:a.import,disabled:""===n||a.hasError()},"Add Public Key")))},a.import=function(){var e=a.props,t=e.validatePublicKey,n=e.onImport,r=a.state.publicKey,i=t(r);i?a.setError(i):n({publicKey:r})},a.hasError=function(){return""!==a.state.error},a.setError=function(e){a.setState({error:e})},a.handleChange=function(e){var t=e.target.value,n=(0,a.props.validatePublicKey)(t);a.setState({publicKey:t,error:n})},a.state={error:"",publicKey:""},a}return n}(s.a.Component),Ti=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).render=function(){var e=a.state,t=e.bip32Path,n=e.extendedPublicKey,r=e.extendedPublicKeyError,i=e.bip32PathError,c=e.conversionMessage;return s.a.createElement("div",null,s.a.createElement(T.a,{mt:2},s.a.createElement(ct.a,{fullWidth:!0,name:"extendedPublicKey",label:"Extended Public Key",value:n,onChange:a.handleExtendedPublicKeyChange,error:a.hasExtendedPublicKeyError(),helperText:r})),""!==c&&s.a.createElement(T.a,{mb:2},s.a.createElement($.a,null,c,", this may indicate an invalid network setting, if so correct setting, remove key and try again.")),s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0},s.a.createElement(x.a,{item:!0,md:10},s.a.createElement(ct.a,{fullWidth:!0,name:"bip32Path",label:"BIP32 Path (relative to xpub)",type:"text",value:t,onChange:a.handleBIP32PathChange,error:a.hasBIP32PathError(),helperText:i}),s.a.createElement($.a,null,"Use the default value if you don\u2019t understand BIP32 paths.")),s.a.createElement(x.a,{item:!0,md:2},!a.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:a.resetBIP32Path},"Default"))),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{type:"button",variant:"contained",color:"primary",size:"large",onClick:a.import,disabled:""===n||a.hasError()},"Import Public Key"))))},a.import=function(){var e=a.props,t=e.network,n=e.validatePublicKey,r=e.onImport,i=a.state,c=i.extendedPublicKey,o=i.bip32Path,s=Object(J.deriveChildPublicKey)(c,o,t),u=n(s);u?a.setState({bip32PathError:u}):r({publicKey:s,bip32Path:o})},a.hasBIP32PathError=function(){return""!==a.state.bip32PathError},a.hasExtendedPublicKeyError=function(){return""!==a.state.extendedPublicKeyError},a.hasError=function(){return a.hasBIP32PathError()||a.hasExtendedPublicKeyError()},a.handleBIP32PathChange=function(e){var t=e.target.value,n=Object(J.validateBIP32Path)(t,{mode:"unhardened"});a.setState({bip32Path:t,bip32PathError:null!==n&&void 0!==n?n:""})},a.bip32PathIsDefault=function(){return"m/0"===a.state.bip32Path},a.resetBIP32Path=function(){a.setState({bip32Path:"m/0",bip32PathError:""})},a.handleExtendedPublicKeyChange=function(e){var t=a.props.network,n=e.target.value,r=n;if(""!==Object(J.validateExtendedPublicKeyForNetwork)(n,t))try{r=Object(J.convertExtendedPublicKey)(n,"testnet"===t?"tpub":"xpub")}catch(o){return void a.setState({extendedPublicKey:n,extendedPublicKeyError:o.message,conversionMessage:""})}var i=Object(J.validateExtendedPublicKey)(r,t);if(""===i){var c=r===n?"":"Your extended public key has been converted from ".concat(n.slice(0,4)," to ").concat(r.slice(0,4));a.setState({extendedPublicKey:r,extendedPublicKeyError:"",conversionMessage:c})}else a.setState({extendedPublicKey:n,extendedPublicKeyError:i,conversionMessage:""})},a.state={bip32Path:"m/0",extendedPublicKey:"",extendedPublicKeyError:"",bip32PathError:"",conversionMessage:""},a}return n}(s.a.Component),wi=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).interaction=function(){var e=a.props,t=e.network,n=e.defaultBIP32Path;return Object(ee.ExportPublicKey)({keystore:ee.HERMIT,network:t,bip32Path:n})},a.render=function(){var e=a.state.publicKeyError;return s.a.createElement(na.a,null,s.a.createElement(Jn,{startText:"Import Public Key",interaction:a.interaction(),onStart:a.handleReaderStart,onSuccess:a.handleReaderSuccess,onClear:a.handleReaderClear}),s.a.createElement($.a,{error:!0},e))},a.setError=function(e){a.setState({publicKeyError:e})},a.handleReaderStart=function(){(0,a.props.disableChangeMethod)()},a.handleReaderSuccess=function(e){var t=a.props,n=t.validatePublicKey,r=t.onImport,i=t.enableChangeMethod,c=e.pubkey,o=e.bip32Path;i();var s=Object(J.validateBIP32Path)(o);if(s)a.setError(s);else{var u=n(c);u?a.setError(u):r({publicKey:c,bip32Path:o})}},a.handleReaderClear=function(){var e=a.props.enableChangeMethod;a.setError(""),e()},a.state={publicKeyError:""},a}return n}(s.a.Component),xi=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).interaction=function(){var e,t,n=a.props,r=n.network,i=n.method,c=n.defaultBIP32Path;return Object(ee.ExportPublicKey)({network:r,keystore:i,bip32Path:null!==(e=null===(t=a.state)||void 0===t?void 0:t.bip32Path)&&void 0!==e?e:c})},a.render=function(){var e=a.state,t=e.status,n=e.bip32Path,r=e.publicKeyError,i=a.interaction();return t===ee.UNSUPPORTED?s.a.createElement($.a,{error:!0},i.messageTextFor({status:t})):s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0},s.a.createElement(x.a,{item:!0,md:6},s.a.createElement(ct.a,{fullWidth:!0,label:"BIP32 Path",value:n,onChange:a.handleBIP32PathChange,disabled:t!==ee.PENDING,error:a.hasBIP32PathError(),helperText:a.bip32PathError()})),s.a.createElement(x.a,{item:!0,md:6},!a.bip32PathIsDefault()&&s.a.createElement(R.a,{type:"button",variant:"contained",size:"small",onClick:a.resetBIP32Path,disabled:t!==ee.PENDING},"Default"))),s.a.createElement($.a,null,"Use the default value if you don\u2019t understand BIP32 paths."),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{type:"button",variant:"contained",color:"primary",size:"large",onClick:a.import,disabled:a.hasBIP32PathError()||t===ee.ACTIVE},"Import Public Key")),s.a.createElement(Vn.a,{messages:i.messagesFor({state:t}),excludeCodes:["bip32"]}),s.a.createElement($.a,{error:!0},r))},a.import=Object(Z.a)(X.a.mark((function e(){var t,n,r,i,c,o,s,u;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.enableChangeMethod,r=t.disableChangeMethod,i=t.validatePublicKey,c=t.onImport,o=a.state.bip32Path,r(),a.setState({publicKeyError:"",status:ee.ACTIVE}),e.prev=4,e.next=7,a.interaction().run();case 7:s=e.sent,(u=i(s))?a.setState({publicKeyError:u,status:ee.PENDING}):c({publicKey:s,bip32Path:o}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0),a.setState({publicKeyError:e.t0.message,status:ee.PENDING});case 16:n();case 17:case"end":return e.stop()}}),e,null,[[4,12]])}))),a.hasBIP32PathError=function(){var e=a.state,t=e.bip32PathError,n=e.status;return""!==t||a.interaction().hasMessagesFor({state:n,level:ee.ERROR,code:"bip32"})},a.bip32PathError=function(){var e=a.state,t=e.bip32PathError,n=e.status;return""!==t?t:a.interaction().messageTextFor({state:n,level:ee.ERROR,code:"bip32"})},a.handleBIP32PathChange=function(e){var t=e.target.value,n=Object(J.validateBIP32Path)(t);a.setState({bip32Path:t,bip32PathError:null!==n&&void 0!==n?n:""})},a.bip32PathIsDefault=function(){return a.state.bip32Path===a.props.defaultBIP32Path},a.resetBIP32Path=function(){var e=a.props.defaultBIP32Path;a.setState({bip32Path:e,bip32PathError:""})},a.state={bip32Path:e.defaultBIP32Path,publicKeyError:"",bip32PathError:"",status:a.interaction().isSupported()?ee.PENDING:ee.UNSUPPORTED},a}return n}(s.a.Component),Ci=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).title=function(){var e=a.props,t=e.number,n=e.totalSigners,r=e.publicKeyImporter,i=e.setName;return s.a.createElement(x.a,{container:!0,justify:"space-between"},s.a.createElement(x.a,{item:!0},s.a.createElement(dt,{number:t,name:r.name,setName:i})),s.a.createElement(x.a,{item:!0},s.a.createElement(x.a,{container:!0,justify:"flex-end"},s.a.createElement(R.a,{type:"button",variant:"contained",onClick:a.moveUp,disabled:1===t},s.a.createElement(Si.a,null)),s.a.createElement("span",null,"\xa0"),s.a.createElement(R.a,{type:"button",variant:"contained",onClick:a.moveDown,disabled:t===n},s.a.createElement(Ii.a,null)))))},a.renderImport=function(){var e=a.props,t=e.publicKeyImporter,n=e.number,r=a.state.disableChangeMethod,i="public-key-".concat(n,"-importer-select-label");return s.a.createElement("div",null,s.a.createElement(bt.a,{fullWidth:!0},s.a.createElement(Bn.a,{id:i},"Select Method"),s.a.createElement(Nn.a,{labelId:i,id:"public-key-".concat(n,"-importer-select"),disabled:r,value:t.method,onChange:a.handleMethodChange},s.a.createElement(Dn.a,{value:""},"< Select method >"),s.a.createElement(Dn.a,{value:ee.TREZOR},"Trezor"),s.a.createElement(Dn.a,{value:ee.LEDGER},"Ledger"),s.a.createElement(Dn.a,{value:ee.HERMIT},"Hermit"),s.a.createElement(Dn.a,{value:"xpub"},"Derive from extended public key"),s.a.createElement(Dn.a,{value:"text"},"Enter as text"))),a.renderImportByMethod())},a.renderImportByMethod=function(){var e=a.props,t=e.publicKeyImporter,n=e.network,r=e.defaultBIP32Path;return t.method===ee.TREZOR||t.method===ee.LEDGER?s.a.createElement(xi,{method:t.method,validatePublicKey:a.validatePublicKey,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod,defaultBIP32Path:r,network:n,onImport:a.handleImport}):t.method===ee.HERMIT?s.a.createElement(wi,{network:n,defaultBIP32Path:r,validatePublicKey:a.validatePublicKey,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod,onImport:a.handleImport}):"xpub"===t.method?s.a.createElement(Ti,{network:n,validatePublicKey:a.validatePublicKey,onImport:a.handleImport}):"text"===t.method?s.a.createElement(Oi,{validatePublicKey:a.validatePublicKey,onImport:a.handleImport}):null},a.handleMethodChange=function(e){var t=a.props,n=t.number,r=t.setMethod,i=t.setPublicKey;r(n,e.target.value),i(n,"")},a.disableChangeMethod=function(){a.setState({disableChangeMethod:!0})},a.enableChangeMethod=function(){a.setState({disableChangeMethod:!1})},a.finalize=function(){var e=a.props,t=e.number;(0,e.setFinalized)(t,!0)},a.reset=function(e){var t=a.props,n=t.number,r=t.setPublicKey,i=t.resetBIP32Path,c=t.setFinalized;r(n,""),c(n,!1),e&&i(n)},a.moveUp=function(e){var t=a.props,n=t.moveUp,r=t.number;e.preventDefault(),n(r)},a.moveDown=function(e){var t=a.props,n=t.moveDown,r=t.number;e.preventDefault(),n(r)},a.renderBIP32Path=function(){var e=a.props.publicKeyImporter;return"text"!==e.method?s.a.createElement(T.a,{mt:4},s.a.createElement("p",null,"The BIP32 path for this public key is:"),s.a.createElement(x.a,{container:!0,justify:"center"},s.a.createElement(hn,{text:e.bip32Path,code:!0})),s.a.createElement(T.a,{mt:4},s.a.createElement("p",null,"You will need this BIP32 path to sign for this key later."," ",s.a.createElement("strong",null,"Write down this BIP32 path!")))):null},a.renderPublicKey=function(){var e=a.props.publicKeyImporter;return s.a.createElement("div",null,s.a.createElement("p",null,"The following public key was imported:"),s.a.createElement(x.a,{container:!0,justify:"center"},s.a.createElement(hn,{text:e.publicKey,showIcon:!0,code:!0})),a.renderBIP32Path(),s.a.createElement(T.a,{mt:2},s.a.createElement(R.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){a.reset(e.method===ee.HERMIT)}},"Remove Public Key")))},a.handleImport=function(e){var t=e.bip32Path,n=e.publicKey,r=a.props,i=r.number,c=r.setBIP32Path,o=r.setPublicKey;t&&c(i,t),o(i,n),a.finalize()},a.validatePublicKey=function(e){var t=a.props,n=t.number,r=t.addressType,i=t.publicKeyImporters,c=Object(J.validatePublicKey)(e,r);if(c)return c;var o=e&&Object.values(i).find((function(t,a){return a!==n-1&&t.publicKey===e}))?"This public key has already been imported.":null;return o||""},a.state={disableChangeMethod:!1},a}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.number,a=t.setFinalized,r=t.addressType,i=t.publicKeyImporter;e.addressType!==r&&this.validatePublicKey(i.publicKey)&&a(n,!1)}},{key:"render",value:function(){var e=this.props.publicKeyImporter,t=this.validatePublicKey(e.publicKey);return s.a.createElement(C.a,null,s.a.createElement(k.a,{title:this.title()}),s.a.createElement(j.a,null,e.method&&"text"!==e.method&&e.conflict&&s.a.createElement(qr,{message:"Warning, BIP32 path is in conflict with the network and address type settings.  Do not proceed unless you are absolutely sure you know what you are doing!"}),t.includes("does not support uncompressed public keys")&&s.a.createElement(qr,{message:t}),e.finalized?this.renderPublicKey():this.renderImport()))}}]),n}(s.a.Component);var ki={setName:pi,setBIP32Path:fi,resetBIP32Path:Ai,setMethod:bi,setPublicKey:mi,setFinalized:hi,moveUp:Ei,moveDown:gi},ji=Object(p.b)((function(e,t){return Object(z.a)(Object(z.a)(Object(z.a)({},e.settings),e.address),{publicKeyImporter:e.address.publicKeyImporters[t.number]})}),ki)(Ci),Ri=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).render=function(){var t=e.props,n=t.address,a=t.client;return s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0,spacing:3},s.a.createElement(x.a,{item:!0,xs:12},s.a.createElement("h1",null,"Address Generator")),s.a.createElement(x.a,{item:!0,md:8},e.renderPublicKeyImporters(),s.a.createElement(T.a,{mt:2},s.a.createElement(Pi,null))),s.a.createElement(x.a,{item:!0,md:4},s.a.createElement(T.a,null,s.a.createElement(jt,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(Nt,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(Tt,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(Lt,{publicNotes:s.a.createElement("span",null,'If you plan to use this address with your own bitcoind node you can import the address created here by switching for "Public" to "Private". Otherwise no action is needed here.'),privateNotes:s.a.createElement("div",null,s.a.createElement(Rn.a,{addresses:[n],client:a}))})))))},e.renderPublicKeyImporters=function(){for(var t=e.props.totalSigners,n=[],a=1;a<=t;a+=1)n.push(s.a.createElement(T.a,{key:a,mt:1===a?0:2},s.a.createElement(ji,{number:a})));return n},e}return n}(s.a.Component);Ri.defaultProps={address:""};var Bi=Object(p.b)((function(e){return Object(z.a)(Object(z.a)(Object(z.a)({},{totalSigners:e.settings.totalSigners}),e.address),{},{client:e.client})}))(Ri),Ni=n(1806),Di=n(1807),Ki="START_TEST_SUITE_RUN",Mi="SET_CURRENT_TEST_RUN";function Fi(){return{type:Ki}}function Ui(e){return{type:Mi,value:e}}var Hi="SET_KEYSTORE",_i="SET_KEYSTORE_NOTE",Li="SET_KEYSTORE_STATUS";function Qi(e,t){return{type:Hi,keystoreType:e,version:t}}function Gi(e){return{type:_i,value:e}}function Wi(e){return{type:Li,value:e}}var Yi="START_TEST_RUN",Vi="END_TEST_RUN",zi="RESET_TEST_RUN",qi="SET_TEST_RUN_NOTE";function Xi(e){return{type:Yi,testRunIndex:e}}function Zi(e,t,n){return{type:Vi,testRunIndex:e,status:t,message:n}}function Ji(e){return{type:zi,testRunIndex:e}}function $i(e,t){return{type:qi,testRunIndex:e,note:t}}var ec=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){var n=e.props,a=n.setNote,r=n.mode,i=n.testRunIndex,c=t.target.value;"testRun"===r?a(i,c):a(c)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.note;return s.a.createElement(ct.a,{name:"notes",label:"Notes",value:e,onChange:this.handleChange,multiline:!0,fullWidth:!0,rows:3})}}]),n}(s.a.Component);ec.defaultProps={testRunIndex:0};var tc={setNote:Gi},nc={setNote:$i},ac=Object(p.b)((function(e){return{note:e.keystore.note,mode:"keystore"}}),tc)(ec),rc=Object(p.b)((function(e){return{mode:"testRun",testRunIndex:e.testSuiteRun.currentTestRunIndex,note:e.testSuiteRun.testRuns[e.testSuiteRun.currentTestRunIndex].note}}),nc)(ec),ic=[""].concat(Object(te.a)(Object.values(ee.INDIRECT_KEYSTORES))),cc=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).detectVersion=Object(Z.a)(X.a.mark((function t(){var n,a,r,i,c,o;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.type,r=n.setKeystore,i=n.setKeystoreStatus,c=n.setErrorNotification,i(ee.ACTIVE),t.prev=2,t.next=5,e.interaction().run();case 5:(o=t.sent)&&r(a,o.spec),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),c(t.t0.message);case 13:i(ee.PENDING);case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),e.interaction=function(){var t=e.props.type;return Object(ee.GetMetadata)({keystore:t})},e.handleTypeChange=function(t){var n=e.props,a=n.version;(0,n.setKeystore)(t.target.value,a)},e.handleVersionChange=function(t){var n=e.props,a=n.type;(0,n.setKeystore)(a,t.target.value)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.status,a=e.version;return s.a.createElement(T.a,null,s.a.createElement(x.a,{container:!0,spacing:2,justify:"center"},s.a.createElement(x.a,{item:!0,md:4},s.a.createElement(bt.a,{fullWidth:!0},s.a.createElement(Bn.a,{id:"keystore-select-label"},"Type"),s.a.createElement(Nn.a,{labelId:"keystore-select-label",id:"keystore-select",value:t,onChange:this.handleTypeChange},s.a.createElement(Dn.a,{value:""},"< Select type >"),s.a.createElement(Dn.a,{value:ee.TREZOR},"Trezor"),s.a.createElement(Dn.a,{value:ee.LEDGER},"Ledger"),s.a.createElement(Dn.a,{value:ee.COLDCARD},"Coldcard"),s.a.createElement(Dn.a,{value:ee.HERMIT},"Hermit")))),s.a.createElement(x.a,{item:!0,md:6},s.a.createElement(ct.a,{name:"version",fullWidth:!0,label:"Version",value:a,disabled:""===t,onChange:this.handleVersionChange})),s.a.createElement(x.a,{item:!0,md:2},s.a.createElement(R.a,{disabled:n===ee.ACTIVE||ic.includes(t),onClick:this.detectVersion},n===ee.ACTIVE?"Detecting...":"Detect"))),t&&!ic.includes(t)&&s.a.createElement(Vn.a,{messages:this.interaction().messagesFor({state:n})}),s.a.createElement(ac,null))}}]),n}(s.a.Component),oc=Object(z.a)(Object(z.a)({},i),{},{setErrorNotification:Ge}),sc=Object(p.b)((function(e){return Object(z.a)({},e.keystore)}),oc)(cc),uc=n(1081),lc=n.n(uc),dc=n(1794),pc=n(1803),fc=n(1804),Ac=n(1805),bc=n(557),mc=function(){function e(t){Object(m.a)(this,e),this.params=t||{}}return Object(h.a)(e,[{key:"postprocess",value:function(e){return e}},{key:"interaction",value:function(){throw Error("Define the `interaction` method in your subclass of `Test`.")}},{key:"matches",value:function(e,t){return"object"===typeof e&&"object"===typeof t?Object.keys(t).every((function(n){return e[n]===t[n]})):e===t}}]),Object(h.a)(e,[{key:"diff",value:function(e,t){if("string"===typeof e&&"string"===typeof t)return Object(bc.diffChars)(e,t);if("object"===typeof e&&"object"===typeof t){if(void 0!==e.length&&void 0!==t.length)return Object(bc.diffArrays)(e,t);if(void 0===e.length&&void 0===t.length)return Object(bc.diffJson)(e,t)}return null}},{key:"supports",value:function(){return!0}},{key:"name",value:function(){return this.params.name}},{key:"description",value:function(){return this.params.description}},{key:"expected",value:function(){return this.params.expected}},{key:"actual",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.postprocess(t?this.interaction().parse(t):this.interaction().run()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"run",value:function(){var e=Object(Z.a)(X.a.mark((function e(){var t;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.actual();case 3:return t=e.sent,e.abrupt("return",this.resolve(t));case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"runParse",value:function(){var e=Object(Z.a)(X.a.mark((function e(t){var n,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.actual(t);case 3:return n=e.sent,a=n.rootFingerprint?{pubkey:n.pubkey,xpub:n.xpub||n.tpub,rootFingerprint:n.rootFingerprint}:Object.values(n)[0],e.abrupt("return",this.resolve(a));case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{status:"error",message:e.t0.message});case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resolve",value:function(e){var t=this.expected();return this.matches(t,e)?{status:"success"}:{status:"failure",expected:t,actual:e,diff:this.diff(t,e)}}}]),e}();mc.SUCCESS="success",mc.FAILURE="failure",mc.ERROR="error";var hc=mc,Ec=(n(1731),function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).render=function(){var t=e.props,n=t.testSuiteRun,a=t.keystore,r=lc.a.getParser(window.navigator.userAgent);return s.a.createElement(x.a,{container:!0,direction:"column",spacing:3},s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Summary"}),s.a.createElement(j.a,null,s.a.createElement("dl",null,s.a.createElement("dt",null,"OS:"),s.a.createElement("dd",null,r.getOSName()," ",r.getOSVersion()),s.a.createElement("dt",null,"Browser:"),s.a.createElement("dd",null,r.getBrowserName()," ",r.getBrowserVersion()),s.a.createElement("dt",null,"unchained-wallets:"),s.a.createElement("dd",null,"v.",ee.VERSION),a.type&&s.a.createElement(T.a,null,s.a.createElement("dt",null,"Keystore:"),s.a.createElement("dd",null,e.keystoreName(a.type)," ",a.version)),a.note&&s.a.createElement(T.a,null,s.a.createElement("dt",null,"Notes:"),s.a.createElement("dd",null,a.note)))))),s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Tests",subheader:"".concat(n.testRuns.length," Total")}),s.a.createElement(j.a,null,e.renderTests()))))},e.renderTests=function(){var t=e.props,n=t.testSuiteRun;return""===t.keystore.type?s.a.createElement("p",null,"Choose a keystore type to generate a test suite..."):s.a.createElement(T.a,null,s.a.createElement(w.a,{variant:"h6"},s.a.createElement("span",{className:"TestSuiteRunSummary-success"},n.testRuns.filter((function(e){return e.status===hc.SUCCESS})).length," ",s.a.createElement("small",null,"SUCCESS")),"\xa0 / \xa0",s.a.createElement("span",{className:"TestSuiteRunSummary-failure"},n.testRuns.filter((function(e){return e.status===hc.FAILURE})).length," ",s.a.createElement("small",null,"FAIL")),"\xa0 / \xa0",s.a.createElement("span",{className:"TestSuiteRunSummary-error"},n.testRuns.filter((function(e){return e.status===hc.ERROR})).length," ",s.a.createElement("small",null,"ERROR"))),s.a.createElement(dc.a,null),s.a.createElement(B.a,{style:{maxHeight:"200px",overflow:"auto"},dense:!0,component:"nav"},n.testRuns.map(e.renderTestRun)))},e.renderTestRun=function(t,n){var a=e.props.testSuiteRun;return s.a.createElement(N.a,{selected:a.currentTestRunIndex===n,button:!0,key:n,onClick:e.testRunChooser(n),disabled:!a.started},e.renderTestRunResult(t),s.a.createElement(K.a,null,t.test.name(),t.status!==ee.PENDING&&t.status!==ee.ACTIVE&&s.a.createElement("small",null,"\xa0 (",ca.a.duration(t.endedAt.diff(t.startedAt)).asSeconds(),"s)")),t.note&&s.a.createElement(D.a,null,s.a.createElement(Qt.a,{title:t.note},s.a.createElement(pc.a,null))))},e.renderTestRunResult=function(e){switch(e.status){case ee.PENDING:return s.a.createElement(D.a,null,s.a.createElement(fc.a,{className:"TestSuiteRunSummary-pending"}));case hc.SUCCESS:return s.a.createElement(D.a,null,s.a.createElement(Kn.a,{className:"TestSuiteRunSummary-success"}));case hc.FAILURE:return s.a.createElement(D.a,null,s.a.createElement(Ac.a,{className:"TestSuiteRunSummary-failure"}));case hc.ERROR:return s.a.createElement(D.a,null,s.a.createElement(Mn.a,{className:"TestSuiteRunSummary-error"}));case ee.ACTIVE:return s.a.createElement(D.a,null,s.a.createElement(on.a,{className:"TestSuiteRunSummary-active"}));default:return null}},e.testRunChooser=function(t){var n=e.props.setCurrentTestRun;return function(){n(t)}},e.keystoreName=function(e){switch(e){case ee.TREZOR:return"Trezor";case ee.LEDGER:return"Ledger";case ee.HERMIT:return"Hermit";case ee.COLDCARD:return"Coldcard";default:return""}},e}return n}(s.a.Component)),gc={setCurrentTestRun:Ui},vc=Object(p.b)((function(e){return{keystore:e.keystore,testSuiteRun:e.testSuiteRun}}),gc)(Ec),yc=(n(1732),function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){document.addEventListener("keydown",e.handleKeyDown)},e.componentWillUnmount=function(){document.removeEventListener("keydown",e.handleKeyDown)},e.handleKeyDown=function(t){var n=e.props,a=n.status,r=n.isLastTest,i=n.nextTest;32===t.keyCode&&"textarea"!==t.target.tagName.toLowerCase()&&(t.preventDefault(),a!==ee.ACTIVE&&(a===ee.PENDING?e.start():r||i()))},e.handleDownloadPSBTClick=function(){var t=e.props.test,n=t.interaction(),a=t.name().split(" "),r=n.request().toBase64(),i=ca()().format("HHmm"),c="".concat(i,"-").concat(a[2],"-").concat(a[1][0],".psbt");Object(W.a)(r,c)},e.handledDownloadWalletConfigClick=function(){var t=e.props.test,n=t.name().split(" "),a="".concat(n[2].toLowerCase(),"-").concat(n[1][0]),r="# Coldcard Multisig setup file for test suite\n#\nName: ".concat(a,"\nPolicy: 2 of 2\nFormat: ").concat(t.params.format.includes("-")?"P2WSH-P2SH":t.params.format,"\nDerivation: ").concat(t.params.derivation,"\n\n");r+=t.params.extendedPublicKeys.map((function(e){return"".concat(e.rootFingerprint,": ").concat(e.base58String)})).join("\r\n"),r+="\r\n";var i="wc-".concat(a,".txt");Object(W.a)(r,i)},e.render=function(){var t=e.props,n=t.test,a=t.testRunIndex,r=t.status,i=t.keystore;return n?s.a.createElement(T.a,null,s.a.createElement(C.a,null,s.a.createElement(k.a,{title:n.name(),subheader:"Test ".concat(a+1)}),s.a.createElement(j.a,null,n.description(),i.type===ee.COLDCARD&&!n.unsignedTransaction&&s.a.createElement(T.a,{align:"center"},s.a.createElement(oa.a,{interaction:n.interaction(),onReceive:e.startParse,onStart:e.start,setError:e.reset,isTest:!0})),i.type===ee.COLDCARD&&n.unsignedTransaction&&s.a.createElement(T.a,{align:"center",style:{marginTop:"2em"}},s.a.createElement(sa,{handlePSBTDownloadClick:e.handleDownloadPSBTClick,handleWalletConfigDownloadClick:e.handledDownloadWalletConfigClick}),s.a.createElement(oa.b,{interaction:n.interaction(),onReceivePSBT:e.startParse,onStart:e.start,setError:e.reset,fileType:"PSBT",validFileFormats:".psbt"})),e.renderInteractionMessages(),r===ee.PENDING&&!Object.values(ee.INDIRECT_KEYSTORES).includes(i.type)&&s.a.createElement(T.a,{align:"center"},s.a.createElement(R.a,{variant:"contained",color:"primary",onClick:e.start},"Start Test")),i.type===ee.HERMIT&&n.interaction().displayer&&r===ee.PENDING&&s.a.createElement(T.a,{align:"center"},s.a.createElement(ea,{width:400,string:n.interaction().request()})),i.type===ee.HERMIT&&!e.testComplete()&&s.a.createElement(T.a,null,s.a.createElement(Jn,{onStart:e.start,onSuccess:e.resolve,onClear:e.reset,startText:"Scan Hermit Response",interaction:n.interaction()})),e.testComplete()&&e.renderResult(),s.a.createElement(rc,null)),s.a.createElement(M.a,null,r===ee.ACTIVE&&s.a.createElement(R.a,{disabled:!0},s.a.createElement(on.a,null),"\xa0 Running test..."),e.testComplete()&&s.a.createElement(R.a,{color:"secondary",onClick:e.reset},"Reset Test")))):s.a.createElement(T.a,null,s.a.createElement("p",null,"No test selected."))},e.testComplete=function(){var t=e.props.status;return t===hc.SUCCESS||t===hc.ERROR||t===hc.FAILURE},e.renderInteractionMessages=function(){var t=e.props,n=t.status,a=t.test;return n===ee.PENDING||n===ee.ACTIVE?s.a.createElement(Vn.a,{excludeCodes:["hermit.command"],messages:a.interaction().messagesFor({state:n})}):null},e.renderResult=function(){var t=e.props,n=t.status,a=t.message;switch(n){case hc.SUCCESS:return s.a.createElement(T.a,{mt:2,align:"center"},s.a.createElement(w.a,{variant:"h5",className:"TestRun-success"},s.a.createElement(Kn.a,null),"\xa0 Test passed"));case hc.FAILURE:return s.a.createElement(T.a,{mt:2},s.a.createElement(T.a,{align:"center"},s.a.createElement(w.a,{variant:"h5",className:"TestRun-failure"},s.a.createElement(Ac.a,null),"\xa0 Test failed")),a);case hc.ERROR:return s.a.createElement(T.a,{mt:2},s.a.createElement(T.a,{align:"center"},s.a.createElement(w.a,{variant:"h5",className:"TestRun-error"},s.a.createElement(Mn.a,null),"\xa0 Test error")),a);default:return null}},e.start=Object(Z.a)(X.a.mark((function t(){var n,a,r,i,c;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,a=n.test,r=n.keystore,i=n.testRunIndex,(0,n.startTestRun)(i),r.type!==ee.HERMIT){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,a.run();case 6:c=t.sent,e.handleResult(c);case 8:case"end":return t.stop()}}),t)}))),e.startParse=function(){var t=Object(Z.a)(X.a.mark((function t(n){var a,r,i,c;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.test,i=a.testRunIndex,(0,a.startTestRun)(i),t.next=4,r.runParse(n);case 4:c=t.sent,e.handleResult(c);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resolve=function(t){var n=e.props.test,a=n.resolve(n.postprocess(t));e.handleResult(a)},e.handleResult=function(t){var n=e.props,a=n.testRunIndex,r=n.endTestRun,i=n.setErrorNotification;t.status===hc.ERROR&&i(t.message),r(a,t.status,e.formatMessage(t))},e.reset=function(){var t=e.props,n=t.testRunIndex;(0,t.resetTestRun)(n)},e.formatMessage=function(t){switch(t.status){case hc.FAILURE:return s.a.createElement(T.a,null,s.a.createElement("dl",null,s.a.createElement("dt",null,"Expected:"),s.a.createElement("dd",null,s.a.createElement("code",{className:"TestRun-wrap"},e.formatOutput(t.expected))),s.a.createElement("dt",null,"Actual:"),s.a.createElement("dd",null,s.a.createElement("code",{className:"TestRun-wrap"},e.formatOutput(t.actual))),t.diff&&s.a.createElement("div",null,s.a.createElement("dt",null,"Diff:"),s.a.createElement("dd",null,s.a.createElement("code",{className:"TestRun-wrap"},t.diff.map(e.formatDiffSegment))))));case hc.ERROR:return s.a.createElement("code",null,t.message);default:return""}},e.formatOutput=function(e){switch(typeof e){case"object":return JSON.stringify(e);case"string":case"number":return e;default:return"Did not recognize output type"}},e.formatDiffSegment=function(t,n){return s.a.createElement("span",{key:n,className:"TestRun-diff-segment-".concat(e.diffSegmentClass(t))},t.value)},e.diffSegmentClass=function(e){return e.added?"added":e.removed?"removed":"common"},e}return n}(s.a.Component)),Pc=Object(z.a)(Object(z.a)({},c),a),Sc=Object(p.b)((function(e,t){return Object(z.a)(Object(z.a)(Object(z.a)({},{keystore:e.keystore}),e.testSuiteRun.testRuns[t.testRunIndex]||{}),{testRunIndex:t.testRunIndex})}),Pc)(yc);yc.defaultProps={test:{unsignedTransaction:null,params:{}}};var Ic=Sc,Oc=J.TEST_FIXTURES.keys.open_source.bip39Phrase,Tc=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.keystore;return s.a.createElement(s.a.Fragment,null,s.a.createElement(x.a,{container:!0},s.a.createElement(x.a,{item:!0,md:3},s.a.createElement("ol",null,Oc.slice(0,6).map(n.renderSeedWord))),s.a.createElement(x.a,{item:!0,md:3},s.a.createElement("ol",{start:7},Oc.slice(6,12).map(n.renderSeedWord))),s.a.createElement(x.a,{item:!0,md:3},s.a.createElement("ol",{start:13},Oc.slice(12,18).map(n.renderSeedWord))),s.a.createElement(x.a,{item:!0,md:3},s.a.createElement("ol",{start:19},Oc.slice(18,24).map(n.renderSeedWord)))),e&&e.type===ee.COLDCARD&&s.a.createElement(x.a,{style:{marginTop:"2em",marginBottom:"2em"}},"If using the simulator, here's a handy command with the same seed phrase:",s.a.createElement("br",null),s.a.createElement("code",null,"./simulator.py --seed '",Oc.join(" "),"'")))}}],[{key:"renderSeedWord",value:function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("code",null,e))}}]),n}(s.a.Component);Tc.defaultProps={keystore:null};var wc=Object(p.b)((function(){return{}}),{})(Tc),xc=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){document.addEventListener("keydown",e.handleKeyDown)},e.componentWillUnmount=function(){document.removeEventListener("keydown",e.handleKeyDown)},e.currentTestIsActive=function(){var t=e.props.testSuiteRun;if(!t.started)return!1;var n=t.testRuns[t.currentTestRunIndex];return!!n&&n.status===ee.ACTIVE},e.handleKeyDown=function(t){if(e.props.testSuiteRun.started){if(e.currentTestIsActive())return;switch(t.keyCode){case 37:case 38:e.isFirstTest()||e.previousTest();break;case 39:case 40:e.isLastTest()||e.nextTest()}}else{if(32!==t.keyCode)return;var n=t.target.tagName.toLowerCase();if("textarea"===n||"input"===n)return;if(t.preventDefault(),e.startDisabled())return;e.start()}},e.render=function(){var t=e.props.testSuiteRun;return s.a.createElement(T.a,{mt:2},t.started&&s.a.createElement(T.a,{mt:2,mb:2},s.a.createElement(sn.a,{variant:"determinate",value:t.testRuns.filter((function(e){return e.status!==ee.PENDING&&e.status!==ee.ACTIVE})).length/t.testRuns.length*100})),s.a.createElement(x.a,{container:!0,spacing:3},s.a.createElement(x.a,{item:!0,md:4},s.a.createElement(vc,null)),s.a.createElement(x.a,{item:!0,md:8},e.renderBody())))},e.renderSetup=function(){var t=e.props.keystore;return s.a.createElement(x.a,{container:!0,direction:"column",spacing:3},s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Choose Keystore"}),s.a.createElement(j.a,null,s.a.createElement(sc,null),s.a.createElement(T.a,{align:"center",mt:2},s.a.createElement(R.a,{variant:"contained",color:"primary",disabled:e.startDisabled(),onClick:e.start,type:"submit"},"Begin Test Suite"))))),s.a.createElement(x.a,{item:!0},s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Keystore Setup"}),s.a.createElement(j.a,null,s.a.createElement("p",null,"Ensure your keystore has been initialized with the following seed:"),s.a.createElement(wc,{keystore:t})))))},e.renderBody=function(){var t=e.props.testSuiteRun;return t.started?s.a.createElement(T.a,null,s.a.createElement(Ic,{isLastTest:e.isLastTest(),nextTest:e.nextTest,testRunIndex:t.currentTestRunIndex}),s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0,justify:"space-between"},s.a.createElement(x.a,{item:!0},s.a.createElement(R.a,{disabled:e.isFirstTest()||e.currentTestIsActive(),onClick:e.previousTest},s.a.createElement(Ni.a,null)," \xa0 Previous")),s.a.createElement(x.a,{item:!0},s.a.createElement(R.a,{disabled:e.isLastTest()||e.currentTestIsActive(),onClick:e.nextTest},"Next \xa0 ",s.a.createElement(Di.a,null)))))):e.renderSetup()},e.start=function(){(0,e.props.startTestSuiteRun)()},e.startDisabled=function(){var t=e.props,n=t.testSuiteRun,a=t.keystore;return""===a.type||a.status===ee.ACTIVE||n.started||0===n.testRuns.length},e.isFirstTest=function(){return 0===e.props.testSuiteRun.currentTestRunIndex},e.isLastTest=function(){var t=e.props.testSuiteRun;return t.currentTestRunIndex===t.testRuns.length-1},e.previousTest=function(){var t=e.props,n=t.testSuiteRun,a=t.setCurrentTestRun;n.currentTestRunIndex<1||a(n.currentTestRunIndex-1)},e.nextTest=function(){var t=e.props,n=t.testSuiteRun,a=t.setCurrentTestRun;n.currentTestRunIndex!==n.testRuns.length-1&&a(n.currentTestRunIndex+1)},e}return n}(s.a.Component),Cc=Object(z.a)({},r),kc=Object(p.b)((function(e){return{keystore:e.keystore,testSuiteRun:e.testSuiteRun}}),Cc)(xc);var jc=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).disabled=function(){},a.hasScriptError=function(){return""!==a.state.scriptError},a.hasFetchUTXOsError=function(){return""!==a.state.fetchUTXOsError},a.hasError=function(){return a.hasScriptError()||a.hasFetchUTXOsError()},a.scriptName=function(){switch(a.props.addressType){case J.P2SH:return"redeem";case J.P2SH_P2WSH:case J.P2WSH:return"witness";default:return null}},a.scriptTitle=function(){var e=a.scriptName();return e.charAt(0).toUpperCase()+e.substring(1)},a.handleScriptChange=function(e){var t=e.target.value,n="";(""===t&&(n="".concat(a.scriptTitle()," script cannot be blank.")),""===n&&(t.includes("\n")||t.includes("\t")||t.includes(" "))&&(n="".concat(a.scriptTitle()," script should not contain spaces, tabs, or newlines.")),""===n)&&(""!==Object(J.validateHex)(t)&&(n="".concat(a.scriptTitle()," script is not valid hex.")));if(""!==t&&""===n)try{a.generateMultisig(t)}catch(r){console.error(r),n="Failed to parse ".concat(a.scriptName()," script.")}a.setState({scriptHex:t,scriptError:n,fetchUTXOsError:"",fetchedUTXOs:!1})},a.generateMultisig=function(e){var t=a.props,n=t.network,r=t.addressType,i=a.state.scriptHex;return e&&(i=e),Object(J.generateMultisigFromHex)(n,r,i)},a.renderDetails=function(){var e=a.state.fetchUTXOsError,t=a.props,n=t.chosePerformSpend,r=t.choseConfirmOwnership,i=t.client,c=a.generateMultisig(),o=n||r;return s.a.createElement("div",null,s.a.createElement(jn,{multisig:c}),s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0,spacing:3},s.a.createElement(x.a,{item:!0},s.a.createElement(R.a,{variant:"contained",color:"primary",size:"large",onClick:a.performSpend,disabled:o},"Spend from this address")),s.a.createElement(x.a,{item:!0},s.a.createElement(R.a,{variant:"contained",size:"large",onClick:a.confirmOwnership,disabled:o},"Confirm ownership"))),s.a.createElement($.a,{error:!0},e)),"private"===i.type&&s.a.createElement(T.a,{mt:2},s.a.createElement(Rn.a,{addresses:[c.address],client:i})))},a.performSpend=Object(Z.a)(X.a.mark((function e(){var t,n,r,i,c,o,s,u,l,d,p,f;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.setRequiredSigners,r=t.setTotalSigners,i=t.setInputs,c=t.setFrozen,o=t.choosePerformSpend,s=a.generateMultisig(),e.next=4,a.fetchUTXOs(s);case 4:(u=e.sent)?(l=u.utxos,d=u.balanceSats,p="",d.isLessThanOrEqualTo(0)&&(p="This address has a zero balance."),a.setState({fetchedUTXOs:!0,fetchUTXOsError:p}),""===p&&(f=l.map((function(e){return Object(z.a)(Object(z.a)({},e),{},{multisig:s})})),i(f),n(Object(J.multisigRequiredSigners)(s)),r(Object(J.multisigTotalSigners)(s)),c(!0),o())):a.setState({fetchedUTXOs:!1,fetchUTXOsError:"Failed to fetch UTXOs."});case 6:case"end":return e.stop()}}),e)}))),a.fetchUTXOs=function(){var e=Object(Z.a)(X.a.mark((function e(t){var n,r,i,c;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.network,i=n.client,e.next=3,fe(t.address,r,i);case 3:if(!((c=e.sent)&&c.utxos&&c.utxos.length)){e.next=6;break}return e.abrupt("return",c);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.confirmOwnership=function(){var e=a.props,t=e.chooseConfirmOwnership,n=e.setOwnershipMultisig,r=e.setFrozen;n(a.generateMultisig()),t(),r(!0)},a.state={scriptHex:"",scriptError:"",fetchUTXOsError:"",fetchedUTXOs:!1},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state,t=e.scriptHex,n=e.scriptError,a=e.fetchedUTXOs;return s.a.createElement(C.a,null,s.a.createElement(k.a,{title:"Enter ".concat(this.scriptTitle()," Script")}),s.a.createElement(j.a,null,s.a.createElement("form",null,s.a.createElement(ct.a,{fullWidth:!0,multiline:!0,autoFocus:!0,variant:"outlined",label:"".concat(this.scriptTitle()," Script"),value:t,rows:5,onChange:this.handleScriptChange,disabled:a&&!this.hasFetchUTXOsError(),helperText:n,error:""!==n})),""===t||this.hasScriptError()?s.a.createElement("p",null,"Enter a valid ",this.scriptName()," script to generate an address to spend funds from."):this.renderDetails()))}}]),n}(s.a.Component);var Rc={choosePerformSpend:function(){return{type:"CHOOSE_PERFORM_SPEND"}},setInputs:xe,setTotalSigners:function(e){return{type:"SET_TOTAL_SIGNERS",value:e}},setRequiredSigners:we,chooseConfirmOwnership:function(){return{type:"CHOOSE_CONFIRM_OWNERSHIP"}},setOwnershipMultisig:function(e){return{type:"SET_OWNERSHIP_MULTISIG",value:e}},setFrozen:St},Bc=Object(p.b)((function(e){return Object(z.a)(Object(z.a)(Object(z.a)({},e.settings),{client:e.client}),{choseConfirmOwnership:e.spend.ownership.chosen,chosePerformSpend:e.spend.transaction.chosen})}),Rc)(jc),Nc=n(1082),Dc=n.n(Nc),Kc=n(1083),Mc=n.n(Kc),Fc=n(515),Uc=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).titleRef=s.a.createRef(),a.componentDidMount=function(){a.resetBIP32Path(),a.scrollToTitle()},a.componentDidUpdate=function(){a.scrollToTitle()},a.scrollToTitle=function(){a.titleRef.current.scrollIntoView({behavior:"smooth"})},a.handleMethodChange=function(e){(0,a.props.setMethod)(e.target.value),a.reset()},a.disableChangeMethod=function(){a.setState({disableChangeMethod:!0})},a.enableChangeMethod=function(){a.setState({disableChangeMethod:!1})},a.reset=function(){(0,a.props.reset)()},a.resetBIP32Path=function(){(0,a.props.resetBIP32Path)()},a.validateAndSetBIP32Path=function(e,t,n,r){var i=a.props.setBIP32Path,c=Object(J.validateBIP32Path)(e,r);i(e),c?n(c):(n(""),t())},a.validateAndSetPublicKey=function(e,t,n){var r=a.props.setPublicKey,i=Object(J.validatePublicKey)(e);r(e),i?t&&t(i):(t&&t(""),n&&n())},a.renderConfirmation=function(){var e=a.props,t=e.publicKeys,n=e.publicKeyImporter;if(""===n.publicKey)return null;if(t.includes(n.publicKey)){var r=Object(Fc.a)(D.a)({color:"green"});return s.a.createElement(B.a,null,s.a.createElement(N.a,null,s.a.createElement(r,null,s.a.createElement(Dc.a,null)),s.a.createElement(K.a,null,"The public key exported at BIP32 path"," ",s.a.createElement("code",null,n.bip32Path)," is present in the provided redeem script.")))}return s.a.createElement(B.a,null,s.a.createElement(N.a,null,s.a.createElement(D.a,null,s.a.createElement(w.a,{color:"error"},s.a.createElement(Mc.a,null))),s.a.createElement(K.a,null,"The public key exported at BIP32 path"," ",s.a.createElement("code",null,n.bip32Path)," is not present in the provided redeem script.")))},a.renderImportByMethod=function(){var e=a.props,t=e.network,n=e.publicKeyImporter,r=e.defaultBIP32Path;return n.method===ee.HERMIT?s.a.createElement(wi,{publicKeyImporter:n,validateAndSetBIP32Path:a.validateAndSetBIP32Path,validateAndSetPublicKey:a.validateAndSetPublicKey,resetBIP32Path:a.resetBIP32Path,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod,reset:a.reset}):n.method===ee.TREZOR||n.method===ee.LEDGER?s.a.createElement(xi,{network:t,publicKeyImporter:n,validateAndSetBIP32Path:a.validateAndSetBIP32Path,resetBIP32Path:a.resetBIP32Path,defaultBIP32Path:r,validateAndSetPublicKey:a.validateAndSetPublicKey,enableChangeMethod:a.enableChangeMethod,disableChangeMethod:a.disableChangeMethod}):null},a.state={disableChangeMethod:!1},a}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.publicKeyImporter,t=this.state.disableChangeMethod,n="public-key-importer-select-label",a="".concat(n,"-select");return s.a.createElement(C.a,null,s.a.createElement(k.a,{ref:this.titleRef,title:"Confirm Ownership"}),s.a.createElement(j.a,null,s.a.createElement("form",null,s.a.createElement("p",null,"How will you confirm your ownership of this address?"),s.a.createElement(bt.a,{fullWidth:!0},s.a.createElement(Bn.a,{id:n},"Select Method"),s.a.createElement(Nn.a,{labelId:a,id:"public-key-importer-select",disabled:t,value:e.method,onChange:this.handleMethodChange},s.a.createElement(Dn.a,{value:""},"< Select method >"),s.a.createElement(Dn.a,{value:ee.TREZOR},"Trezor"),s.a.createElement(Dn.a,{value:ee.LEDGER},"Ledger"),s.a.createElement(Dn.a,{value:ee.HERMIT},"Hermit"))),this.renderImportByMethod(),this.renderConfirmation(),""!==e.method&&s.a.createElement(R.a,{variant:"contained",size:"small",color:"secondary",role:"button",onClick:this.reset},"Start Again"))))}}]),n}(s.a.Component);var Hc={setMethod:function(e){return{type:"SET_PUBLIC_KEY_IMPORTER_METHOD",value:e}},setBIP32Path:function(e){return{type:"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH",value:e}},setPublicKey:function(e){return{type:"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY",value:e}},resetBIP32Path:function(){return{type:"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH"}},reset:function(){return{type:"RESET_PUBLIC_KEY_IMPORTER"}}},_c=Object(p.b)((function(e){return e.spend.ownership}),Hc)(Uc),Lc=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).render=function(){return s.a.createElement(T.a,{mt:2},s.a.createElement(x.a,{container:!0,spacing:3},s.a.createElement(x.a,{item:!0,md:8},s.a.createElement(T.a,null,s.a.createElement(Bc,null)),e.renderBody()),s.a.createElement(x.a,{item:!0,md:4},s.a.createElement(T.a,null,s.a.createElement(Nt,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(Tt,null)),s.a.createElement(T.a,{mt:2},s.a.createElement(Lt,null)))))},e.renderBody=function(){var t=e.props,n=t.transaction;return t.ownership.chosen?s.a.createElement(T.a,{mt:2},s.a.createElement(_c,null)):s.a.createElement(T.a,null,e.spendable()&&s.a.createElement(T.a,null,s.a.createElement(T.a,{mt:2},s.a.createElement(C.a,null,s.a.createElement(j.a,null,s.a.createElement(xn,{inputs:n.inputs,inputsTotalSats:n.inputsTotalSats})))),s.a.createElement(T.a,{mt:2},s.a.createElement(C.a,null,s.a.createElement(j.a,null,s.a.createElement(w.a,{variant:"h5"},"Define Outputs"),s.a.createElement(pr,null))))),n.finalizedOutputs&&s.a.createElement("div",null,s.a.createElement(T.a,{mt:2},s.a.createElement(hr,null)),s.a.createElement(T.a,{mt:2},e.renderSignatureImporters())),e.signaturesFinalized()&&s.a.createElement(T.a,{mt:2},s.a.createElement(br,null)))},e.renderSignatureImporters=function(){for(var t=e.props.transaction,n=[],a=1;a<=t.requiredSigners;a+=1)n.push(s.a.createElement(T.a,{key:a,mt:2},s.a.createElement(ba,{number:a})));return n},e.spendable=function(){return e.props.transaction.inputs.length>0},e.signaturesFinalized=function(){var t=e.props.signatureImporters;return Object.values(t).length>0&&Object.values(t).every((function(e){return e.finalized}))},e.confirmOwnership=function(t){e.setState({addressFinalized:!0,confirmOwnership:t})},e}return n}(s.a.Component);var Qc=Object(p.b)((function(e){return e.spend}))(Lc),Gc=n(1022),Wc=n(1084),Yc=n.n(Wc),Vc=Object(nt.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},menuItem:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingX:e.spacing(3)},menuLink:{color:"inherit",textDecoration:"none"}}})),zc=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.href,n=e.title,a=e.classes,r=e.handleClose;return s.a.createElement("a",{href:t,className:a.menuLink},s.a.createElement(Dn.a,{className:a.menuItem,onClick:r},n))}}]),n}(s.a.Component),qc=function(){var e=Vc(),t=s.a.useState(null),n=Object(ne.a)(t,2),a=n[0],r=n[1];return s.a.createElement("div",{className:e.root},s.a.createElement(vn.a,{position:"static"},s.a.createElement(Gc.a,null,s.a.createElement(w.a,{variant:"h6",className:e.title},s.a.createElement(R.a,{color:"inherit",href:"#/"},"Caravan")),s.a.createElement(R.a,{"aria-controls":"simple-menu","aria-haspopup":"true",color:"inherit",onClick:function(e){r(e.currentTarget)}},s.a.createElement(T.a,{mr:3},s.a.createElement(w.a,null,"Menu")),s.a.createElement(Yc.a,null)),s.a.createElement(Ua.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){return r(null)}},[{href:"#/wallet",title:"Wallet"},{href:"#/address",title:"Create Address"},{href:"#/script",title:"Script Explorer"},{href:"#/test",title:"Test Suite"},{href:"#/help",title:"Help"}].map((function(t){var n=t.href,a=t.title;return s.a.createElement(zc,{href:n,title:a,classes:e,key:n,handleClose:function(){return r(null)}})}))))))},Xc=n(1085),Zc=n(1733),Jc=function(){return s.a.createElement(T.a,{mt:2},s.a.createElement("hr",null),s.a.createElement(x.a,{container:!0,justify:"space-between",alignItems:"center"},s.a.createElement(x.a,{item:!0,sm:2},Object(W.b)("https://www.unchained-capital.com",s.a.createElement("img",{src:Zc,className:"logo",alt:"Unchained Capital logo",height:"32"}))),s.a.createElement(x.a,{item:!0,sm:6},s.a.createElement("p",null,"Copyright\xa0",new Date(Date.now()).getFullYear()," by Unchained Capital and released under an MIT license.")),s.a.createElement(x.a,{item:!0,sm:1,align:"right"},s.a.createElement("p",null," v",Xc.a," "))))},$c=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={error:null,errorInfo:null},a}return Object(h.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({errorInfo:t,error:e})}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.error,a=t.errorInfo;return a?s.a.createElement(T.a,{m:4},s.a.createElement(T.a,{m:2},s.a.createElement(w.a,{variant:"h3",component:"h1"},"Something went wrong.")),s.a.createElement(T.a,{m:2},s.a.createElement(w.a,{variant:"body1"},"Let us know what happened on"," ",s.a.createElement("a",{href:"https://github.com/unchained-capital/caravan/issues",target:"_blank",rel:"noopener noreferrer"},"github"),".")),s.a.createElement(T.a,{mx:2,my:3},s.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},n&&n.toString(),s.a.createElement("br",null),a.componentStack))):e}}]),n}(s.a.Component),eo=n(785),to=n(1808),no={clearErrorNotification:We},ao=Object(p.b)((function(e){return e.errorNotification}),no)((function(e){var t=e.open,n=e.message,a=e.clearErrorNotification;return s.a.createElement(eo.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,onClose:a,ContentProps:{"aria-describedby":"error-notification"},message:s.a.createElement("span",{id:"error-notification"},n),action:[s.a.createElement(ot.a,{key:"close","aria-label":"close",color:"inherit",onClick:a},s.a.createElement(to.a,null))]})})),ro=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(S.a,null),s.a.createElement(O.SnackbarProvider,{maxSnack:3},s.a.createElement(I.a,{maxWidth:"lg"},s.a.createElement(qc,null),s.a.createElement($c,null,s.a.createElement(y.a,null,s.a.createElement(P.d,null,s.a.createElement(P.b,{path:"/test",component:kc}),s.a.createElement(P.b,{path:"/address",component:Bi}),s.a.createElement(P.a,{from:"/spend",to:"/script"}),s.a.createElement(P.b,{path:"/script",component:Qc}),s.a.createElement(P.b,{path:"/wallet",component:li}),s.a.createElement(P.b,{path:"/help",component:V}),s.a.createElement(P.b,{path:"/",component:V}))),s.a.createElement(ao,null)),s.a.createElement(Jc,null))))},io=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).history=Object(v.a)(),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.resetApp;this.unlisten=this.history.listen((function(){e()}))}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){return s.a.createElement(ro,null)}}]),n}(o.Component);var co=Object(p.b)(null,(function(e){return{resetApp:function(){return e({type:"RESET_APP_STATE"})}}}))(io),oo=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function so(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var uo=function(e,t){return Object(z.a)(Object(z.a)({},e),t)},lo={network:J.MAINNET,totalSigners:3,requiredSigners:2,addressType:J.P2SH,startingAddressIndex:0,frozen:!1},po={type:"public",url:"",username:"",password:"",urlError:"",usernameError:"",passwordError:"",status:"unknown"},fo={present:!0,bip32Path:"",publicKeys:[],multisig:{},address:"",balanceSats:new re.a(0),utxos:[],change:!1,spend:!1,fetchedUTXOs:!1,fetchUTXOsError:"",addressUsed:!1,addressKnown:!0},Ao={nodes:{},trailingEmptyNodes:0,fetchUTXOsErrors:0,balanceSats:new re.a(0),spendingSats:new re.a(0),nextNode:null};function bo(e,t){var n=Object(z.a)(Object(z.a)(Object(z.a)({},fo),e.nodes[t.value.bip32Path]||{}),t.value),a={};a[n.bip32Path]=n;var r=Object(z.a)(Object(z.a)({},e),{nodes:Object(z.a)(Object(z.a)({},e.nodes),a)});if("undefined"!==typeof t.value.spend&&(r.spendingSats=t.value.spend?e.spendingSats.plus(n.balanceSats):e.spendingSats.minus(n.balanceSats)),t.value.balanceSats){var i=e.nodes[n.bip32Path]?e.nodes[n.bip32Path].balanceSats:re()(0);r.balanceSats=e.balanceSats.plus(n.balanceSats.minus(i))}var c=0,o=0,s=Object.keys(r.nodes);s.sort((function(e,t){var n=(e||"").split("/"),a=(t||"").split("/");return parseInt(n[2],10)-parseInt(a[2],10)}));for(var u=!1,l=0;l<s.length;l+=1){var d=s[s.length-(l+1)],p=r.nodes[d];p.fetchedUTXOs&&(!p.balanceSats.isEqualTo(0)||p.addressUsed||u?u=!0:c+=1),""!==p.fetchUTXOsError&&(o+=1)}return r.trailingEmptyNodes=c,r.fetchUTXOsErrors=o,r.nextNode=function(e){for(var t=Object.values(e.nodes),n=0;n<t.length;n+=1){var a=t[n];if(a.balanceSats.isEqualTo(0)&&!a.addressUsed)return a}return null}(r),r}function mo(e){var t=Object(z.a)({},e);return Object.values(t.nodes).forEach((function(e){e.spend=!1})),t}var ho=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ao,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"RESET_NODES_SPEND":return mo(t);case"RESET_NODES_FETCH_ERRORS":return uo(t,{fetchUTXOsErrors:0,nodes:Object.values(t.nodes).reduce((function(e,t){var n=e;return n[t.bip32Path]=Object(z.a)(Object(z.a)({},t),{},{fetchUTXOsError:""}),n}),{})});case e:return bo(t,n);default:return t}}};function Eo(e){var t=(new Date).getTime().toString(),n=Object.values(e.extendedPublicKeyImporters).map((function(e){return e.extendedPublicKey})).join("");return"".concat(t,"-").concat(n)}var go=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{name:e,bip32Path:Object(J.multisigBIP32Root)(J.P2SH,J.MAINNET),bip32PathModified:!1,method:"",extendedPublicKey:"",rootXfp:"",finalized:!1,conflict:!1}};function vo(){return{extendedPublicKeyImporters:Object(te.a)(Array(4).keys()).slice(1).reduce((function(e,t){return Object(z.a)(Object(z.a)({},e),{},{[t]:go("Extended Public Key ".concat(t))})}),{}),defaultBIP32Path:Object(J.multisigBIP32Root)(J.P2SH,J.MAINNET),network:J.MAINNET,addressType:J.P2SH,fingerprint:"",finalizedNetwork:"",finalizedAddressType:"",configuring:!0}}function yo(e,t){t.finalizedNetwork&&(e.conflict=t.finalizedNetwork!==t.network||t.finalizedAddressType!==t.addressType)}function Po(e,t,n){var a={};a[n]=t.value;var r=Object(z.a)(Object(z.a)({},e),{nodes:{}});return r.extendedPublicKeyImporters[t.number]=uo(e.extendedPublicKeyImporters[t.number],a),Object.values(r.extendedPublicKeyImporters).reduce((function(e,t){return e+t.finalized}),0)===Object.keys(r.extendedPublicKeyImporters).length&&"finalized"===n&&Object.values(r.extendedPublicKeyImporters).every((function(e){return!e.conflict}))&&(r.configuring=!1),yo(r.extendedPublicKeyImporters[t.number],e),uo(r,{fingerprint:Eo(r)})}function So(e,t){for(var n=t.value,a={},r=1;r<=n;r+=1)a[r]=e.extendedPublicKeyImporters[r]||go("Extended Public Key ".concat(r));var i=0;return Object.keys(a).forEach((function(e){a[e].finalized&&(i+=1)})),Object(z.a)(Object(z.a)({},e),{},{configuring:i<n},{extendedPublicKeyImporters:a})}function Io(e,t,n){for(var a=1;a<=Object.values(e.extendedPublicKeyImporters).length;a+=1){var r=t.extendedPublicKeyImporters[a];r.bip32PathModified||r.finalized||(r.bip32Path=n),yo(r,t)}}function Oo(e,t){var n=e.addressType,a=t.value,r=Object(J.multisigBIP32Root)(n,a),i=Object(z.a)(Object(z.a)({},e),{network:a,defaultBIP32Path:r});return Io(e,i,r),i}function To(e,t){var n=t.value,a=e.network,r=Object(J.multisigBIP32Root)(n,a),i=Object(z.a)(Object(z.a)({},e),{addressType:n,defaultBIP32Path:r});return Io(e,i,r),i}function wo(e,t){var n=Object(z.a)({},e);if(!0===t.value&&""===e.finalizedNetwork)n.finalizedNetwork=e.network,n.finalizedAddressType=e.addressType;else if(!1===t.value&&""!==e.finalizedNetwork){1===Object.values(e.extendedPublicKeyImporters).reduce((function(e,t){return!0===t.finalized?e+1:e}),0)&&(n.finalizedNetwork="",n.finalizedAddressType="",Object.values(n.extendedPublicKeyImporters).forEach((function(e){return e.conflict=!1})))}return n}function xo(e){var t=(new Date).getTime().toString(),n=Object.values(e.publicKeyImporters).map((function(e){return e.publicKey})).join("");return"".concat(t,"-").concat(n)}var Co=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{name:e,bip32Path:Object(J.multisigBIP32Path)(J.P2SH,J.MAINNET),bip32PathModified:!1,method:"",publicKey:"",finalized:!1,conflict:!1}};function ko(){return{publicKeyImporters:Object(te.a)(Array(4).keys()).slice(1).reduce((function(e,t){return Object(z.a)(Object(z.a)({},e),{},{[t]:Co("Public Key ".concat(t))})}),{}),defaultBIP32Path:Object(J.multisigBIP32Path)(J.P2SH,J.MAINNET),network:J.MAINNET,addressType:J.P2SH,fingerprint:"",finalizedNetwork:"",finalizedAddressType:"",address:""}}function jo(e,t){if(1===t.number)return e;var n=Object(z.a)({},e),a=e.publicKeyImporters[t.number-1],r=e.publicKeyImporters[t.number];return n.publicKeyImporters[t.number-1]=r,n.publicKeyImporters[t.number]=a,uo(n,{fingerprint:xo(n)})}function Ro(e,t){if(t.number===Object.values(e.publicKeyImporters).length)return e;var n=Object(z.a)({},e),a=e.publicKeyImporters[t.number+1],r=e.publicKeyImporters[t.number];return n.publicKeyImporters[t.number+1]=r,n.publicKeyImporters[t.number]=a,uo(n,{fingerprint:xo(n)})}function Bo(e){for(var t=Object.values(e.publicKeyImporters),n=t.map((function(e){return e.publicKey})).sort().map((function(e){return t.find((function(t){return t.publicKey===e}))})),a={},r=1;r<=n.length;r+=1)a[r]=n[r-1];var i=Object(z.a)(Object(z.a)({},e),{publicKeyImporters:a});return uo(i,{fingerprint:xo(i)})}function No(e,t){if(t.finalizedNetwork){var n=Object(z.a)({},t.publicKeyImporters);return n[e].conflict=t.finalizedNetwork!==t.network||t.finalizedAddressType!==t.addressType,uo(t,{publicKeyImporters:n})}return t}function Do(e,t,n){var a={};a[n]=t.value;var r=Object(z.a)({},e);return r.publicKeyImporters[t.number]=uo(e.publicKeyImporters[t.number],a),r=No(t.number,e),uo(r,{fingerprint:xo(r)})}function Ko(e,t){for(var n=t.value,a={},r=1;r<=n;r+=1)a[r]=e.publicKeyImporters[r]||Object(z.a)(Object(z.a)({},Co()),{name:"Public Key ".concat(r)});var i=Object(z.a)(Object(z.a)({},e),{publicKeyImporters:a,stub:t.type});return uo(i,{fingerprint:xo(i)})}function Mo(e,t){for(var n=Object(z.a)({},e),a=1;a<=Object.values(e.publicKeyImporters).length;a+=1){var r=n.publicKeyImporters[a];r.bip32PathModified||r.finalized||(r.bip32Path=t),n=No(a,n)}return n}function Fo(e,t){var n=t.value,a=e.addressType,r=Object(J.multisigBIP32Path)(a,n),i=Object(z.a)(Object(z.a)({},e),{network:n,defaultBIP32Path:r});return i=Mo(i,r)}function Uo(e,t){var n=e.network,a=t.value,r=Object(J.multisigBIP32Path)(a,n),i=Object(z.a)(Object(z.a)({},e),{addressType:a,defaultBIP32Path:r});return i=Mo(i,r)}function Ho(e,t){var n=Object(z.a)({},e);if(!0===t.value&&""===e.finalizedNetwork&&"text"!==n.publicKeyImporters[t.number].method)n.finalizedNetwork=e.network,n.finalizedAddressType=e.addressType;else if(!1===t.value&&""!==e.finalizedNetwork){1===Object.values(e.publicKeyImporters).reduce((function(e,t){return!0===t.finalized&&"text"!==t.method?e+1:e}),0)&&(n.finalizedNetwork="",n.finalizedAddressType="",Object.values(n.publicKeyImporters).forEach((function(e){return e.conflict=!1})))}return n}var _o={walletMode:Ye,walletName:"My Multisig Wallet",nodesLoaded:!1};function Lo(e){return uo(e,{walletMode:Ye})}var Qo={chosen:!1,publicKeyImporter:Object(z.a)({},{bip32Path:"",method:"",publicKey:""}),network:J.MAINNET,addressType:J.P2SH,publicKeys:[],address:"",defaultBIP32Path:Object(J.multisigBIP32Path)(J.P2SH,J.MAINNET)};function Go(e,t,n){var a={};return a[n]=t.value,Object(z.a)(Object(z.a)({},e),{publicKeyImporter:Object(z.a)(Object(z.a)({},e.publicKeyImporter),a)})}function Wo(e,t){var n=t.value,a=Object(J.multisigAddressType)(n),r=Object(J.multisigBIP32Path)(a,e.network);return Object(z.a)(Object(z.a)({},e),{network:e.network,addressType:a,publicKeys:Object(J.multisigPublicKeys)(n),address:n.address,defaultBIP32Path:r})}var Yo={name:"",method:"",publicKeys:[],signature:[],bip32Path:"",finalized:!1},Vo={};function zo(e,t){for(var n={},a=1;a<=t.value;a+=1)n[a]=Object(z.a)(Object(z.a)({},Yo),{name:"Signature ".concat(a)});return n}function qo(e,t,n){var a={};a[n]=t.value;var r=Object(z.a)({},e);return r[t.number]=uo(e[t.number],a),r}function Xo(e,t){var n=Object(z.a)({},e);return n[t.number]=uo(e[t.number],t.value),n}function Zo(e,t){var n=e.txid.toLowerCase(),a=t.txid.toLowerCase();return n<a?-1:n>a?1:e.n<t.n?-1:e.n>t.n?1:0}var Jo=function(){return{chosen:!1,network:J.MAINNET,inputs:[],inputsTotalSats:new re.a(0),outputs:[{address:"",amount:"",amountSats:"",addressError:"",amountError:""}],changeOutputIndex:0,feeRate:"",feeRateError:"",fee:"",feeError:"",finalizedOutputs:!1,txid:"",balanceError:"",addressType:J.P2SH,requiredSigners:2,totalSigners:3,unsignedTransaction:{},isWallet:!1,autoSpend:!0,changeAddress:"",updatesComplete:!0,signingKeys:[0,0],spendingStep:0}};function $o(e,t){var n=t.value.reduce((function(e,t){return e.plus(t.amountSats)}),new re.a(0));return uo(e,{inputs:t.value.sort(Zo),inputsTotalSats:n})}function es(e,t,n){return Object(J.satoshisToBitcoins)(Object(J.estimateMultisigTransactionFee)({addressType:e.addressType,numInputs:e.inputs.length,numOutputs:n,m:e.requiredSigners,n:e.totalSigners,feesPerByteInSatoshis:t})).toFixed(8).toString()}function ts(e,t){for(var n=Object(z.a)({},e),a=[],r=0;r<n.outputs.length;r+=1)r!==t.number-1?a.push(n.outputs[r]):t.number===n.changeOutputIndex&&(n.changeOutputIndex=0),t.number<n.changeOutputIndex&&(n.changeOutputIndex-=1);return Object(z.a)(Object(z.a)({},n),{outputs:a,fee:es(n,n.feeRate,a.length)})}function ns(e,t){var n=t.value,a=Object(J.validateFeeRate)(n),r=""===a?es(e,n,e.outputs.length):"";return uo(e,{feeRate:n,feeRateError:a,fee:r,feeError:""})}function as(e,t){var n=t.value,a=Object(J.bitcoinsToSatoshis)(n),r=Object(J.validateFee)(a,e.inputsTotalSats);return uo(e,{fee:n,feeError:r,feeRateError:""})}function rs(e){var t=e.outputs.concat({address:"",amount:"",amountSats:"",addressError:"",amountError:""});return Object(z.a)(Object(z.a)({},e),{outputs:t,fee:es(e,e.feeRate,t.length)})}function is(e,t){var n=Object(te.a)(e.outputs),a=t.value,r=Object(J.validateAddress)(a,e.network);if(""===r)for(var i=0;i<e.inputs.length;i+=1){var c=e.inputs[i];if(c.multisig&&a===c.multisig.address){r="Output address cannot equal input address.";break}}if(""===r)for(var o=0;o<e.outputs.length;o+=1)if(o!==t.number-1&&e.outputs[o].address===a){r="Duplicate output address.";break}return n[t.number-1].address=a,n[t.number-1].addressError=r,Object(z.a)(Object(z.a)({},e),{outputs:n})}function cs(e,t){var n=Object(te.a)(e.outputs);return n[t.number-1].multisig=t.value,Object(z.a)(Object(z.a)({},e),{outputs:n})}function os(e,t){var n=Object(te.a)(e.outputs),a=t.value,r=Object(J.bitcoinsToSatoshis)(re()(a)),i=Object(J.validateOutputAmount)(r,e.inputsTotalSats);e.isWallet&&"Total input amount must be positive."===i&&(i=""),e.isWallet&&"Output amount is too large."===i&&(i="");var c=re()(a).dp();return c>8&&(a=a.slice(0,8-c)),n[t.number-1].amount=a,n[t.number-1].amountError=i,n[t.number-1].amountSats=i?"":r,Object(z.a)(Object(z.a)({},e),{outputs:n})}function ss(e,t){var n;try{var a=Object(J.unsignedMultisigPSBT)(e.network,e.inputs,e.outputs);n=Object(J.unsignedTransactionObjectFromPSBT)(a)}catch(r){n=Object(J.unsignedMultisigTransaction)(e.network,e.inputs,e.outputs)}return Object(z.a)(Object(z.a)({},e),{finalizedOutputs:t.value,unsignedTransaction:n})}function us(e,t){return uo(e,{requiredSigners:t.value,signingKeys:Array(t.value).fill(0)})}function ls(e,t){var n=Object(te.a)(e.signingKeys);return n[t.number-1]=t.value,uo(e,{signingKeys:n})}function ds(e){return uo(e,{outputs:[{address:"",amount:"",amountSats:"",addressError:"",amountError:""}],fee:"",balanceError:"",changeOutputIndex:0})}function ps(e){var t=uo(e,Object(z.a)(Object(z.a)({},Jo()),{},{totalSigners:e.totalSigners,network:e.network,addressType:e.addressType,isWallet:e.isWallet,changeAddress:e.changeAddress}));return t=ds(t=us(t,{value:e.requiredSigners}))}function fs(e){var t=Object(z.a)({},e);if(t.outputs.find((function(e){return""!==e.addressError||""!==e.amountError}))||""!==t.feeError||""!==t.feeRateError||0===t.inputs.length)return Object(z.a)(Object(z.a)({},t),{},{balanceError:""});var n=Object(J.bitcoinsToSatoshis)(new re.a(t.fee)),a=function(e){return e.outputs.reduce((function(e,t){var n=t.amount;return e.plus(Object(J.bitcoinsToSatoshis)(new re.a(n||0)))}),new re.a(0))}(t);if(!t.inputsTotalSats.isEqualTo(a.plus(n))){var r,i=a.plus(n).minus(t.inputsTotalSats);if(i.isNaN())r="Cannot calculate total.";else{t=uo(t,{updatesComplete:!0});var c=i.isLessThan(0)?"Increase":"Decrease";r="".concat(c," by ").concat(Object(J.satoshisToBitcoins)(i.absoluteValue()).toFixed(8),".")}return Object(z.a)(Object(z.a)({},t),{},{balanceError:r})}var o=new re.a(es(t,"1",0));return new re.a(t.fee).isLessThan(o)?Object(z.a)(Object(z.a)({},t),{},{balanceError:"Fee is too small. Should be no less than ".concat(Object(J.bitcoinsToSatoshis)(o)," satoshis.")}):Object(z.a)(Object(z.a)({},t),{},{balanceError:""})}var As={type:"",version:"",note:"",status:ee.PENDING},bs=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"postprocess",value:function(e){return e.pubkey?e.pubkey:e}},{key:"name",value:function(){return"Export ".concat(this.params.network," public key at ").concat(this.params.bip32Path)}},{key:"description",value:function(){return s.a.createElement("p",null,"Export a public key at BIP32 path",s.a.createElement("code",null,this.params.bip32Path),".")}},{key:"interaction",value:function(){return Object(ee.ExportPublicKey)({keystore:this.params.keystore,network:this.params.network,bip32Path:this.params.bip32Path,includeXFP:!0})}},{key:"expected",value:function(){var e=J.TEST_FIXTURES.keys.open_source.nodes[this.params.bip32Path],t=e.pub,n=e.rootFingerprint;return this.params.keystore===ee.HERMIT?t:{publicKey:t,rootFingerprint:n}}}]),n}(hc),ms=function(e){switch(e){case ee.COLDCARD:return[new bs({keystore:e,network:J.TESTNET,bip32Path:"m/48'/1'/0'/1'/0/0"}),new bs({keystore:e,network:J.TESTNET,bip32Path:"m/48'/1'/0'/2'/0/0"}),new bs({keystore:e,network:J.MAINNET,bip32Path:"m/48'/0'/0'/1'/0/0"}),new bs({keystore:e,network:J.MAINNET,bip32Path:"m/48'/0'/0'/2'/0/0"})];default:return[new bs({keystore:e,network:J.TESTNET,bip32Path:"m/45'/1'/0'/0/0"}),new bs({keystore:e,network:J.TESTNET,bip32Path:"m/48'/1'/0'/1'/0/0"}),new bs({keystore:e,network:J.TESTNET,bip32Path:"m/48'/1'/0'/2'/0/0"}),new bs({keystore:e,network:J.MAINNET,bip32Path:"m/45'/0'/0'/0/0"}),new bs({keystore:e,network:J.MAINNET,bip32Path:"m/48'/0'/0'/1'/0/0"}),new bs({keystore:e,network:J.MAINNET,bip32Path:"m/48'/0'/0'/2'/0/0"})]}},hs=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"postprocess",value:function(e){return e.pubkey?e.pubkey:e}},{key:"name",value:function(){return"Export ".concat(this.params.network," xpub at ").concat(this.params.bip32Path)}},{key:"description",value:function(){return s.a.createElement("p",null,"Export an extended public key at BIP32 path"," ",s.a.createElement("code",null,this.params.bip32Path))}},{key:"interaction",value:function(){return Object(ee.ExportExtendedPublicKey)({keystore:this.params.keystore,network:this.params.network,bip32Path:this.params.bip32Path,includeXFP:!0})}},{key:"expected",value:function(){var e=J.TEST_FIXTURES.keys.open_source.nodes[this.params.bip32Path],t=e.xpub,n=e.tpub,a=e.rootFingerprint;return this.params.keystore===ee.HERMIT?{xpub:t,bip32Path:this.params.bip32Path}:this.params.network===J.MAINNET||this.params.keystore===ee.TREZOR?{xpub:t,rootFingerprint:a}:this.params.keystore===ee.LEDGER||this.params.keystore===ee.COLDCARD?{xpub:n,rootFingerprint:a}:{tpub:n,rootFingerprint:a}}}]),n}(hc),Es=function(e){switch(e){case ee.COLDCARD:return[new hs({keystore:e,network:J.TESTNET,bip32Path:"m/45'/1/0"}),new hs({keystore:e,network:J.MAINNET,bip32Path:"m/45'/0/0"})];case ee.LEDGER:case ee.TREZOR:default:return[new hs({keystore:e,network:J.TESTNET,bip32Path:"m/45'/0'/0'"}),new hs({keystore:e,network:J.TESTNET,bip32Path:"m/45'/0'/0'/0"}),new hs({keystore:e,network:J.TESTNET,bip32Path:"m/45'/0'/0'/0/0"}),new hs({keystore:e,network:J.TESTNET,bip32Path:"m/45'/0'/4'/99'/2147483647/3/1"}),new hs({keystore:e,network:J.MAINNET,bip32Path:"m/45'/0'/0'"}),new hs({keystore:e,network:J.MAINNET,bip32Path:"m/45'/0'/0'/0"}),new hs({keystore:e,network:J.MAINNET,bip32Path:"m/45'/0'/0'/0/0"}),new hs({keystore:e,network:J.MAINNET,bip32Path:"m/45'/0'/4'/99'/2147483647/3/1"})]}},gs=function(e){Object(E.a)(n,e);var t=Object(g.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"postprocess",value:function(e){return e.signatures?e.signatures:e}},{key:"matches",value:function(e,t){return JSON.stringify(e)===JSON.stringify(t)}},{key:"description",value:function(){return s.a.createElement(T.a,null,s.a.createElement("p",null,"Sign a transaction which",this.params.description,"."),s.a.createElement("p",null,s.a.createElement("small",null,"This transaction is not meant to be broadcast, but just in case, the output address is fixed and owned by Unchained Capital.")),s.a.createElement(Xt.a,null,s.a.createElement(en.a,null,s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Output Address:"),s.a.createElement($t.a,null,Object(W.b)(Object(J.blockExplorerAddressURL)(this.outputAddress(),this.params.network),s.a.createElement("code",null,this.outputAddress())))),s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Output Amount:"),s.a.createElement($t.a,null,Object(J.satoshisToBitcoins)(this.outputAmountSats()).toString()," BTC")),s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Change Output Address:"),s.a.createElement($t.a,null,s.a.createElement("code",null,this.changeOutputAddress()))),s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Change Output Amount:"),s.a.createElement($t.a,null,Object(J.satoshisToBitcoins)(this.changeOutputAmountSats()).toString()," ","BTC")),s.a.createElement(Jt.a,null,s.a.createElement($t.a,null,"Fees:"),s.a.createElement($t.a,null,Object(J.satoshisToBitcoins)(this.feeSats()).toString()," BTC")))))}},{key:"inputsTotalSats",value:function(){return this.params.inputs.reduce((function(e,t){return e+t.amountSats.toNumber()}),0)}},{key:"outputAddress",value:function(){return this.params.outputs[0].address}},{key:"outputAmountSats",value:function(){return this.params.outputs[0].amountSats.toNumber()}},{key:"changeOutputAddress",value:function(){return this.params.outputs[1].address}},{key:"changeOutputAmountSats",value:function(){return this.params.outputs[1].amountSats.toNumber()}},{key:"feeSats",value:function(){return this.inputsTotalSats()-this.outputAmountSats()-this.changeOutputAmountSats()}},{key:"unsignedTransaction",value:function(){var e;try{var t=Object(J.unsignedMultisigPSBT)(this.params.network,this.params.inputs,this.params.outputs);e=Object(J.unsignedTransactionObjectFromPSBT)(t)}catch(n){e=Object(J.unsignedMultisigTransaction)(this.params.network,this.params.inputs,this.params.outputs)}return e}},{key:"interaction",value:function(){return Object(ee.SignMultisigTransaction)({keystore:this.params.keystore,network:this.params.network,inputs:this.params.inputs,outputs:this.params.outputs,bip32Paths:this.params.bip32Paths})}},{key:"expected",value:function(){return this.params.keystore===ee.COLDCARD?this.params.byteCeilingSignature:this.params.signature}}]),n}(hc);function vs(e){var t=[];switch(e){case ee.HERMIT:return J.TEST_FIXTURES.transactions.forEach((function(n){n.segwit||t.push(new gs(Object(z.a)(Object(z.a)({},n),{keystore:e})))})),t;default:return J.TEST_FIXTURES.transactions.map((function(t){return new gs(Object(z.a)(Object(z.a)({},t),{keystore:e}))}))}}var ys=ms(ee.TREZOR).concat(Es(ee.TREZOR)).concat(vs(ee.TREZOR)),Ps=ms(ee.LEDGER).concat(Es(ee.LEDGER)).concat(vs(ee.LEDGER)),Ss=ms(ee.HERMIT).concat(Es(ee.HERMIT)).concat(vs(ee.HERMIT)),Is=ms(ee.COLDCARD).concat(Es(ee.COLDCARD)).concat(vs(ee.COLDCARD)),Os={};Os[ee.TREZOR]=ys,Os[ee.LEDGER]=Ps,Os[ee.HERMIT]=Ss,Os[ee.COLDCARD]=Is;J.TEST_FIXTURES.bip39Phrase;var Ts={startedAt:"",endedAt:"",status:ee.PENDING,message:"",note:""},ws={started:!1,startedAt:"",endedAt:"",testRuns:[],currentTestRunIndex:-1},xs=function(e){return""===e.keystoreType?[]:(Os[e.keystoreType]||[]).map((function(e){return Object(z.a)(Object(z.a)({},Ts),{test:e})}))},Cs=function(e,t,n){return Object(z.a)(Object(z.a)({},e),{testRuns:e.testRuns.map((function(e,a){return a===t?Object(z.a)(Object(z.a)({},e),n):e}))})},ks={message:"",open:!1},js=Object(d.c)({ownership:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo,t=arguments.length>1?arguments[1]:void 0,n=Go(e,{value:""},"publicKey");switch(t.type){case"CHOOSE_CONFIRM_OWNERSHIP":return uo(e,{chosen:!0});case"SET_NETWORK":return uo(e,{network:t.value});case"SET_OWNERSHIP_MULTISIG":return Wo(e,t);case"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Go(n,t,"bip32Path");case"SET_PUBLIC_KEY_IMPORTER_METHOD":return Go(e,t,"method");case"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY":return Go(e,t,"publicKey");case"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Go(e,{value:e.defaultBIP32Path},"bip32Path");case"RESET_PUBLIC_KEY_IMPORTER":return Object(z.a)(Object(z.a)({},e),{publicKeyImporter:Object(z.a)(Object(z.a)({},e.publicKeyImporter),{bip32Path:e.defaultBIP32Path,publicKey:""})});default:return e}},transaction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHOOSE_PERFORM_SPEND":return uo(e,{chosen:!0});case"SET_NETWORK":return uo(e,{network:t.value});case"SET_ADDRESS_TYPE":return uo(e,{addressType:t.value});case"SET_REQUIRED_SIGNERS":return us(e,t);case"SET_TOTAL_SIGNERS":return uo(e,{totalSigners:t.value});case"SET_INPUTS":return fs($o(e,t));case"ADD_OUTPUT":return fs(rs(e));case"SET_CHANGE_OUTPUT_INDEX":return uo(e,{changeOutputIndex:t.value});case"SET_CHANGE_OUTPUT_MULTISIG":return cs(e,t);case"SET_OUTPUT_ADDRESS":return fs(is(e,t));case"SET_OUTPUT_AMOUNT":return fs(os(e,t));case"DELETE_OUTPUT":return fs(ts(e,t));case"SET_FEE_RATE":return fs(ns(e,t));case"SET_FEE":return fs(as(e,t));case"FINALIZE_OUTPUTS":return ss(e,t);case"RESET_OUTPUTS":return ds(e);case"SET_TXID":return uo(e,{txid:t.value});case"SET_IS_WALLET":return uo(e,{isWallet:!0});case"RESET_TRANSACTION":return ps(e);case"UPDATE_AUTO_SPEND":return uo(e,{autoSpend:t.value});case"SET_SIGNING_KEY":return ls(e,t);case"SET_CHANGE_ADDRESS":return uo(e,{changeAddress:t.value});case"RESET_NODES_SPEND":return $o(e,{value:[]});case"SET_BALANCE_ERROR":return uo(e,{balanceError:t.value});case"SET_SPEND_STEP":return uo(e,{spendingStep:t.value});default:return e}},signatureImporters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_TRANSACTION":return Object(z.a)({},Vo);case"SET_REQUIRED_SIGNERS":return zo(0,t);case"SET_SIGNATURE_IMPORTER_NAME":return qo(e,t,"name");case"SET_SIGNATURE_IMPORTER_METHOD":return qo(e,t,"method");case"SET_SIGNATURE_IMPORTER_BIP32_PATH":return qo(e,t,"bip32Path");case"SET_SIGNATURE_IMPORTER_SIGNATURE":return qo(e,t,"signature");case"SET_SIGNATURE_IMPORTER_PUBLIC_KEYS":return qo(e,t,"publicKeys");case"SET_SIGNATURE_IMPORTER_FINALIZED":return qo(e,t,"finalized");case"SET_SIGNATURE_IMPORTER_COMPLETE":return Xo(e,t);default:return e}}}),Rs=Object(d.c)({deposits:ho("UPDATE_DEPOSIT_SLICE"),change:ho("UPDATE_CHANGE_SLICE"),common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_WALLET_MODE":return uo(e,{walletMode:t.value});case"UPDATE_WALLET_NAME":return uo(e,{walletName:t.value});case"RESET_WALLET_VIEW":return Lo(e);case"INITIAL_LOAD_COMPLETE":return uo(e,{nodesLoaded:!0});default:return e}}}),Bs=Object(d.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NETWORK":return uo(e,{network:t.value});case"SET_TOTAL_SIGNERS":return uo(e,{totalSigners:t.value});case"SET_REQUIRED_SIGNERS":return uo(e,{requiredSigners:t.value});case"SET_STARTING_ADDRESS_INDEX":return uo(e,{startingAddressIndex:t.value});case"SET_ADDRESS_TYPE":return uo(e,{addressType:t.value});case"SET_FROZEN":return uo(e,{frozen:t.value});default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:po,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLIENT_TYPE":return uo(e,{type:t.value});case"SET_CLIENT_URL":return uo(e,{url:t.value});case"SET_CLIENT_USERNAME":return uo(e,{username:t.value});case"SET_CLIENT_PASSWORD":return uo(e,{password:t.value});case"SET_CLIENT_URL_ERROR":return uo(e,{urlError:t.value});case"SET_CLIENT_USERNAME_ERROR":return uo(e,{usernameError:t.value});case"SET_CLIENT_PASSWORD_ERROR":return uo(e,{passwordError:t.value});default:return e}},address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NETWORK":return Fo(e,t);case"SET_ADDRESS_TYPE":return Uo(e,t);case"SET_TOTAL_SIGNERS":return Ko(e,t);case"SET_PUBLIC_KEY_IMPORTER_NAME":return Do(e,t,"name");case"RESET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Do(Do(e,{number:t.number,value:e.defaultBIP32Path},"bip32Path"),{number:t.number,value:!1},"bip32PathModified");case"SET_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Do(Do(e,t,"bip32Path"),{number:t.number,value:!0},"bip32PathModified");case"SET_PUBLIC_KEY_IMPORTER_METHOD":return Do(e,t,"method");case"SET_PUBLIC_KEY_IMPORTER_PUBLIC_KEY":return Do(e,t,"publicKey");case"SET_PUBLIC_KEY_IMPORTER_FINALIZED":return Do(Ho(e,t),t,"finalized");case"MOVE_PUBLIC_KEY_IMPORTER_UP":return jo(e,t);case"MOVE_PUBLIC_KEY_IMPORTER_DOWN":return Ro(e,t);case"SORT_PUBLIC_KEY_IMPORTERS":return Bo(e);case"UPDATE_MULTISIG_ADDRESS":return uo(e,{address:t.value});default:return e}},spend:js,quorum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vo(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NETWORK":return Oo(e,t);case"SET_ADDRESS_TYPE":return To(e,t);case"SET_TOTAL_SIGNERS":return So(e,t);case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_NAME":return Po(e,t,"name");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Po(Po(e,t,"bip32Path"),{number:t.number,value:!0},"bip32PathModified");case"RESET_EXTENDED_PUBLIC_KEY_IMPORTER_BIP32_PATH":return Po(Po(e,{number:t.number,value:e.defaultBIP32Path},"bip32Path"),{number:t.number,value:!1},"bip32PathModified");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_METHOD":return Po(e,t,"method");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY":return Po(e,t,"extendedPublicKey");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_EXTENDED_PUBLIC_KEY_ROOT_FINGERPRINT":return Po(e,t,"rootXfp");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_FINALIZED":return Po(wo(e,t),t,"finalized");case"SET_EXTENDED_PUBLIC_KEY_IMPORTER_VISIBLE":return Object(z.a)(Object(z.a)({},e),{configuring:t.value});default:return e}},wallet:Rs,testSuiteRun:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ws,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hi:return Object(z.a)(Object(z.a)({},e),{testRuns:xs(t)});case Ki:return Object(z.a)(Object(z.a)({},e),{started:!0,startedAt:ca()(),currentTestRunIndex:0});case Mi:return Object(z.a)(Object(z.a)({},e),{currentTestRunIndex:t.value});case Yi:return Cs(e,t.testRunIndex,{startedAt:ca()(),status:ee.ACTIVE});case Vi:return Cs(e,t.testRunIndex,{endedAt:ca()(),status:t.status,message:t.message});case zi:return Cs(e,t.testRunIndex,Ts);case qi:return Cs(e,t.testRunIndex,{note:t.note});default:return e}},keystore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hi:return Object(z.a)(Object(z.a)({},e),{type:t.keystoreType,version:t.version});case _i:return Object(z.a)(Object(z.a)({},e),{note:t.value});case Li:return Object(z.a)(Object(z.a)({},e),{status:t.value});default:return e}},errorNotification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ks,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(z.a)(Object(z.a)({},e),{open:!0,message:t.value});case Qe:return Object(z.a)(Object(z.a)({},e),{open:!1,message:""});default:return e}}}),Ns=function(e,t){var n=e;return"RESET_WALLET"!==t.type&&"RESET_APP_STATE"!==t.type||(n=void 0),Bs(n,t)},Ds=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,Ks=Object(d.e)(Ns,Ds(Object(d.a)(A.a,b.a)));l.a.render(s.a.createElement(p.a,{store:Ks},s.a.createElement(co,null)),document.getElementById("app")),function(){if("serviceWorker"in navigator){if(new URL("/caravan",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/caravan","/service-worker.js");oo?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):so(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):so(e)}))}}()},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkData=function(e){switch(e){case r.MAINNET:return a.networks.bitcoin;case r.TESTNET:default:return a.networks.testnet}},t.networkLabel=function(e){switch(e){case r.MAINNET:return"Mainnet";case r.TESTNET:default:return"Testnet"}},t.getNetworkFromPrefix=function(e){switch(e.toLowerCase()){case"xpub":case"ypub":case"zpub":return"mainnet";case"tpub":case"upub":case"vpub":return"testnet";default:throw new Error("Unrecognized extended public key prefix ".concat(e))}},t.NETWORKS=t.TESTNET=t.MAINNET=void 0;var a=n(231);t.MAINNET="mainnet";t.TESTNET="testnet";var r={MAINNET:"mainnet",TESTNET:"testnet"};t.NETWORKS=r},196:function(e,t,n){"use strict";var a=n(10),r=n.n(a),i=n(2),c=n(16),o=n(38),s=n(0),u=n.n(s),l=n(528),d=n(100),p=n(126),f=n(199),A=n(713),b=n(1757),m=n(538),h=n(293),E=n(1068),g=n.n(E),v=n(115),y=(n(224),Object(l.a)((function(){return{tooltip:{fontSize:".8rem"}}})));function P(e){var t=e.addresses,n=void 0===t?[]:t,a=e.client,l=e.importCallback,E=Object(s.useState)(!1),P=Object(o.a)(E,2),S=P[0],I=P[1],O=Object(s.useState)(""),T=Object(o.a)(O,2),w=T[0],x=T[1],C=Object(s.useState)(!1),k=Object(o.a)(C,2),j=k[0],R=k[1],B=Object(s.useState)(""),N=Object(o.a)(B,2),D=N[0],K=N[1],M=Object(s.useState)(!1),F=Object(o.a)(M,2),U=F[0],H=F[1],_=y();Object(s.useEffect)((function(){var e=function(){var e=Object(c.a)(r.a.mark((function e(){var t,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!1),t=n[n.length-1]){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Object(v.b)(Object(i.a)(Object(i.a)({},Object(v.e)(a)),{},{address:t}));case 7:(c=e.sent)&&"undefined"!==typeof c.used?H(!1):H(!0),K(""),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),o=e.t0.response&&e.t0.response.status||"unknown",s=401===o?e.t0.response.statusText:500===o?e.t0.response.data.error.message:e.t0.message||"An unknown address error occured",K(s);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();"private"!==a.type||U&&1!==n.length||e()}),[n,a]);var L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"".concat(e?"A":"a","ddress").concat(n&&n.length>1?"es":"")};function Q(){return(Q=Object(c.a)(r.a.mark((function e(){var t,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.prev=1,e.next=4,Object(v.c)(Object(i.a)(Object(i.a)({},Object(v.e)(a)),{addresses:n,label:"",rescan:j}));case 4:if(t=e.sent,c=t.result.reduce((function(e,t){return t.error&&t.error.message||e}),""),x(c),I(!c.length),!l){e.next=12;break}return o=t.result.filter((function(e){return e.success})),e.next=12,l(o,j);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),x("Unable to import, check your settings and try again"),I(!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}var G="To get accurate information from your node, your ".concat(L(),"\nwill need to be imported to your node. Importing will give you accurate balance information\nhowever to know if an address has been used prior to import, a rescan needs to take place.");return u.a.createElement(d.a,{className:_.container},u.a.createElement(p.a,{component:"span",ml:2},u.a.createElement(f.a,{variant:"contained",disabled:!U&&!j||!n.length,onClick:function(){return Q.apply(this,arguments)}},"Import ",L(!0))),u.a.createElement(p.a,{component:"span",ml:2},u.a.createElement(A.a,{control:u.a.createElement(b.a,{checked:j,onChange:function(e){return R(e.target.checked)},color:"secondary"}),label:"Rescan"}),u.a.createElement(m.a,{title:G,classes:{tooltip:_.tooltip}},u.a.createElement(g.a,{fontSize:"small",color:"disabled"}))),u.a.createElement(p.a,null,D.length>0&&u.a.createElement(h.a,{error:!0},D),w.length>0&&u.a.createElement(h.a,{error:!0},w),S&&j&&u.a.createElement(h.a,null,L(!0)," imported, rescan of your node may take some time."),S&&!j&&u.a.createElement(h.a,null,L(!0)," imported.")))}P.defaultProps={addresses:[],importCallback(){}},t.a=P},201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.estimateMultisigP2SH_P2WSHTransactionVSize=function(e){var t=76*e.numInputs+34*e.numOutputs+30,n=72*e.m*e.numInputs+33*e.n*e.numInputs+6*e.numInputs;return Math.ceil(.75*t+.25*(t+n))},t.P2SH_P2WSH=void 0;t.P2SH_P2WSH="P2SH-P2WSH"},202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRedeemScriptSize=r,t.getWitnessSize=i,t.calculateBase=c,t.calculateTotalWitnessSize=o,t.estimateMultisigP2WSHTransactionVSize=function(e){var t=c(e.numInputs,e.numOutputs),n=o(e);return function(e,t){var n=3*e+(e+t);return Math.ceil(n/4)}(t,n)},t.P2WSH=void 0;var a=n(578);function r(e){return 1+e+33*e+1+1}function i(e,t){var n=e,i=73*e,c=r(t);return a.encoding.sizeVarint(1+e+1)+1+n+i+1+c}function c(e,t){var n=0;return n+=4,n+=4,n+=a.encoding.sizeVarint(e),n+=41*e,n+=a.encoding.sizeVarint(t),n+=t*function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:34,t=8,n=a.encoding.sizeVarint(e);return t+n+e}()}function o(e){var t=e.numInputs,n=e.m,r=e.n,c=0;return c+=1,c+=1,c+=a.encoding.sizeVarint(t),c+=t*i(n,r)}t.P2WSH="P2WSH"},224:function(e,t,n){"use strict";var a=n(7),r=n.n(a),i=n(411);r.a.bool,r.a.string,r.a.array,r.a.shape({}),r.a.string.isRequired,r.a.shape(i.a),r.a.array,r.a.bool.isRequired,r.a.bool.isRequired,r.a.bool,r.a.string.isRequired,r.a.bool,r.a.bool.isRequired,r.a.string,r.a.string.isRequired,r.a.string,r.a.string,r.a.string,r.a.string,r.a.string,r.a.string,r.a.string,r.a.string,r.a.number,r.a.number,r.a.string,r.a.bool},226:function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return p}));var a=n(38),r=n(0),i=n.n(r),c=n(6),o=n(100),s=n(293),u=n(199),l=n(551),d=function(e){var t=Object(r.useState)(c.PENDING),n=Object(a.a)(t,2),d=n[0],p=n[1],f=Object(r.useState)(""),A=Object(a.a)(f,2),b=A[0],m=A[1],h=e.interaction,E=e.qrStartText,g=e.fileStartText,v=e.shouldShowFileReader,y=e.fileType,P=e.onClear,S=e.onSuccess,I=e.disable,O=function(){p(c.PENDING),m(""),P&&P()};if(d===c.PENDING){var T=h.messagesFor({state:d,code:"keystone.command"});return i.a.createElement("div",null,T.map((function(e,t){return i.a.createElement("p",{key:"message".concat(t)},e.instructions)})),i.a.createElement("p",null,"When you are ready, scan the QR code produced by Keystone or upload the file generated by Keystone:"),i.a.createElement(o.a,{container:!0,spacing:2},i.a.createElement(l.a,{shouldShowFileReader:v,fileStartText:g,qrStartText:E,interaction:h,handleError:function(e){p("error"),m(e.message),P&&P()},handleSuccess:function(e){S(e),p("success")},handleStop:O,fileType:y,disable:I})))}return"error"===d||"success"===d?i.a.createElement("div",null,i.a.createElement(s.a,{error:!0},b),i.a.createElement(u.a,{variant:"contained",color:"secondary",size:"small",onClick:O},"Reset")):null};d.defaultProps={qrStartText:"",fileStartText:"",fileType:"json",disable:!1};var p=d,f=n(124),A=n(1798),b=n(552),m=n(1812),h=n(346),E=n.n(h),g=n(353),v=n.n(g),y=function(e){var t=e.urEncoder,n=e.title,c=e.description,s=e.close,l=e.renderDescription,d=Object(r.useState)(t.nextPart()),p=Object(a.a)(d,2),f=p[0],A=p[1],h=Object(r.useState)(240),g=Object(a.a)(h,2),y=g[0],P=g[1];return Object(r.useEffect)((function(){var e=setInterval((function(){return A(t.nextPart())}),300);return function(){clearInterval(e)}}),[t]),i.a.createElement(b.a,{open:!0,onClose:s},i.a.createElement("div",{className:v.a.qrPlayerContainer},n&&i.a.createElement("p",{className:v.a.qrPlayerTitle},n.toUpperCase()),c&&i.a.createElement("p",null,c),l&&l(),i.a.createElement("div",{className:v.a.qrPlayerCodeContainer},i.a.createElement(E.a,{size:y,value:f,level:"L"})),i.a.createElement(m.a,{name:"QR Size",min:240,max:360,onChange:function(e,t){P(t)}}),i.a.createElement(o.a,{container:!0,spacing:1,direction:"row-reverse"},i.a.createElement(o.a,{item:!0},i.a.createElement(u.a,{variant:"outlined",onClick:s},"Close")))))},P=function(e){var t=e.startText,n=e.buttonStyle,c=Object(f.a)(e,["startText","buttonStyle"]),o=Object(r.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],p=n.variant,b=n.color,m=n.withIcon;return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{startIcon:m?i.a.createElement(A.a,null):void 0,variant:p,color:b,onClick:function(){return d(!0)}},t),l&&i.a.createElement(y,Object.assign({},c,{close:function(){return d(!1)}})))};P.defaultProps={buttonStyle:{variant:"contained",color:"primary",withIcon:!1},title:"",description:"",renderDescription:function(){return null}};var S=P,I=function(e){var t=e.data,n=Object(f.a)(e,["data"]),a=(new c.KeystonePSBTPlayer).encode(t);return i.a.createElement(S,Object.assign({},n,{urEncoder:a}))};I.defaultProps={buttonStyle:{variant:"contained",color:"primary",withIcon:!1},title:"",description:"",renderDescription:function(){return null}};var O=I,T=function(e){var t=e.data,n=Object(f.a)(e,["data"]),a=(new c.KeystoneWalletPlayer).encode(t);return i.a.createElement(S,Object.assign({},n,{urEncoder:a}))};T.defaultProps={buttonStyle:{variant:"contained",color:"primary",withIcon:!1},title:"",description:"",renderDescription:function(){return null}};var w=T},227:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var a=n(27),r=n.n(a),i=n(5),c=546,o=Object(i.satoshisToBitcoins)(r()(c)),s="/1",u="m"+s},253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHexString=function(e){return Array.prototype.map.call(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join("")},t.validateHex=function(e){if(e.length%2)return"Invalid hex: odd-length string.";if(!/^[0-9A-Fa-f]*$/.test(e))return"Invalid hex: only characters a-f, A-F and 0-9 allowed.";return""},t.satoshisToBitcoins=function(e){return(0,r.default)(e).integerValue(r.default.ROUND_DOWN).shiftedBy(-8)},t.bitcoinsToSatoshis=function(e){return(0,r.default)(e).shiftedBy(8).integerValue(r.default.ROUND_DOWN)},t.hash160=function(e){return i.crypto.ripemd160(i.crypto.sha256(e))},t.ZERO=void 0,n(229),n(204);var a,r=(a=n(252))&&a.__esModule?a:{default:a},i=n(231);var c=(0,r.default)(0);t.ZERO=c},262:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.generateMultisigFromPublicKeys=function(t,n,r){for(var i=arguments.length,c=new Array(i>3?i-3:0),o=3;o<i;o++)c[o-3]=arguments[o];var u=s.payments.p2ms({m:r,pubkeys:c.map((function(t){return e.from(t,"hex")})),network:(0,a.networkData)(t)});return l(n,u)},t.generateMultisigFromHex=function(t,n,r){var i=s.payments.p2ms({output:e.from(r,"hex"),network:(0,a.networkData)(t)});return l(n,i)},t.generateMultisigFromRaw=l,t.multisigAddressType=d,t.multisigRequiredSigners=function(e){return d(e)===i.P2SH_P2WSH?e.redeem.redeem.m:e.redeem.m},t.multisigTotalSigners=function(e){return d(e)===i.P2SH_P2WSH?e.redeem.redeem.n:e.redeem.n},t.multisigScript=function(e){switch(d(e)){case r.P2SH:return p(e);case i.P2SH_P2WSH:case c.P2WSH:return f(e);default:return null}},t.multisigRedeemScript=p,t.multisigWitnessScript=f,t.multisigPublicKeys=function(e){return(d(e)===r.P2SH?p(e):f(e)).pubkeys.map(o.toHexString)},t.multisigAddress=function(e){return e.address},t.multisigBraidDetails=function(e){return e.braidDetails?e.braidDetails:null},t.MULTISIG_ADDRESS_TYPES=void 0,n(606);var a=n(179),r=n(297),i=n(201),c=n(202),o=n(253),s=n(231),u={P2SH:r.P2SH,P2SH_P2WSH:i.P2SH_P2WSH,P2WSH:c.P2WSH};function l(e,t){switch(e){case r.P2SH:return s.payments.p2sh({redeem:t});case i.P2SH_P2WSH:return s.payments.p2sh({redeem:s.payments.p2wsh({redeem:t})});case c.P2WSH:return s.payments.p2wsh({redeem:t});default:return null}}function d(e){return e.redeem.redeem?i.P2SH_P2WSH:e.address.match(/^(tb|bc)/)?c.P2WSH:r.P2SH}function p(e){switch(d(e)){case r.P2SH:case i.P2SH_P2WSH:return e.redeem;case c.P2WSH:default:return null}}function f(e){switch(d(e)){case r.P2SH:return null;case i.P2SH_P2WSH:return e.redeem.redeem;case c.P2WSH:return e.redeem;default:return null}}t.MULTISIG_ADDRESS_TYPES=u}).call(this,n(8).Buffer)},270:function(e,t,n){"use strict";var a=n(10);Object.defineProperty(t,"__esModule",{value:!0}),t.IndirectKeystoreInteraction=t.DirectKeystoreInteraction=t.UnsupportedInteraction=t.KeystoreInteraction=t.LEVELS=t.STATES=t.ERROR=t.WARNING=t.INFO=t.ACTIVE=t.PENDING=t.UNSUPPORTED=void 0,n(161),n(127),n(620),n(93),n(271),n(272),n(210),n(236),n(625),n(307),n(378);var r,i=(r=n(1275))&&r.__esModule?r:{default:r};function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,a,r,i,c){try{var o=e[i](c),s=o.value}catch(u){return void n(u)}o.done?t(s):Promise.resolve(s).then(a,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function c(e){o(i,a,r,c,s,"next",e)}function s(e){o(i,a,r,c,s,"throw",e)}c(void 0)}))}}function u(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e,t,n){return(l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}t.UNSUPPORTED="unsupported";t.PENDING="pending";t.ACTIVE="active";t.INFO="info";t.WARNING="warning";t.ERROR="error";var h=["pending","active","unsupported"];t.STATES=h;var E=["info","warning","error"];t.LEVELS=E;var g=function(){function e(){A(this,e),this.environment=i.default.getParser(window.navigator.userAgent)}return m(e,[{key:"isSupported",value:function(){return!0}},{key:"messages",value:function(){return[]}},{key:"messagesFor",value:function(e){var t=e.state,n=e.level,a=e.code,r=e.text,i=e.version;return this.messages().filter((function(e){return(!t||e.state===t)&&((!n||e.level===n)&&(!(a&&!(e.code||"").match(a))&&(!(r&&!(e.text||"").match(r))&&!(i&&!(e.version||"").match(i)))))}))}},{key:"hasMessagesFor",value:function(e){var t=e.state,n=e.level,a=e.code,r=e.text,i=e.version;return this.messagesFor({state:t,level:n,code:a,text:r,version:i}).length>0}},{key:"messageFor",value:function(e){var t=e.state,n=e.level,a=e.code,r=e.text,i=e.version,c=this.messagesFor({state:t,level:n,code:a,text:r,version:i});return c.length>0?c[0]:null}},{key:"messageTextFor",value:function(e){var t=e.state,n=e.level,a=e.code,r=e.text,i=e.version,c=this.messageFor({state:t,level:n,code:a,text:r,version:i});return c?c.text:null}}]),e}();t.KeystoreInteraction=g;var v=function(e){function t(e){var n,a=e.text,r=e.code;return A(this,t),(n=u(this,d(t).call(this))).text=a,n.code=r,n}return p(t,e),m(t,[{key:"isSupported",value:function(){return!1}},{key:"messages",value:function(){var e=l(d(t.prototype),"messages",this).call(this);return e.push({state:"unsupported",level:"error",code:this.code,text:this.text}),e}},{key:"run",value:function(){var e=s(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error(this.text);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){throw new Error(this.text)}},{key:"parse",value:function(){throw new Error(this.text)}}]),t}(g);t.UnsupportedInteraction=v;var y=function(e){function t(){var e;return A(this,t),(e=u(this,d(t).call(this))).direct=!0,e}return p(t,e),m(t,[{key:"run",value:function(){var e=s(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Override the `run` method in this interaction.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"request",value:function(){throw new Error("This interaction is direct and does not support a `request` method.")}},{key:"parse",value:function(){throw new Error("This interaction is direct and does not support a `parse` method.")}}]),t}(g);t.DirectKeystoreInteraction=y;var P=function(e){function t(){var e;return A(this,t),(e=u(this,d(t).call(this))).indirect=!0,e}return p(t,e),m(t,[{key:"request",value:function(){throw new Error("Override the `request` method in this interaction.")}},{key:"parse",value:function(e){throw console.log(e),new Error("Override the `parse` method in this interaction.")}},{key:"run",value:function(){var e=s(a.mark((function e(){return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("This interaction is indirect and does not support a `run` method.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),t}(g);t.IndirectKeystoreInteraction=P},297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.estimateMultisigP2SHTransactionVSize=function(e){var t=41*e.numInputs+34*e.numOutputs+30,n=73*e.m*e.numInputs+34*e.n*e.numInputs+4*e.numInputs;return t+n},t.P2SH=void 0;t.P2SH="P2SH"},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));var a=n(2),r=n(27),i=n.n(r),c=n(418),o=n(227),s=n(0),u=n.n(s),l=function(e,t){return u.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},t)};function d(e,t){var n=new Blob([e],{type:"text/plain"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,t);else{var a=window.document.createElement("a");a.href=window.URL.createObjectURL(n),a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}function p(e){var t,n=e.slices,r=e.outputs,s=n.reduce((function(e,t){var n=e.count,a=e.balance;return{count:n+t.utxos.length,balance:t.balanceSats.plus(a)}}),{count:0,balance:new i.a(0)}),u=s.count,l=s.balance,d=r.reduce((function(e,t){return e.plus(t.amountSats)}),new i.a(0)),p=[],f=new i.a(0),A=function(e){var t=Object(a.a)(Object(a.a)({},e),{},{numOutputs:e.outputs.length}),n=Object(c.estimateMultisigTransactionFee)(t).toNumber(),r=t.outputs.reduce((function(e,t){return e.plus(t.amountSats)}),new i.a(0));if(r.plus(n).isGreaterThan(e.walletBalance))throw new Error("Wallet balance is insufficient to fund transaction");return new i.a(e.walletBalance).minus(n).minus(r).isLessThanOrEqualTo(o.d)}(Object(a.a)(Object(a.a)({},e),{},{walletBalance:l,numInputs:u}));A&&(t=!1);for(var b=0;b<n.length;b+=1){for(var m=n[b],h=m.utxos,E=0;E<h.length;E+=1)p.push(Object(a.a)(Object(a.a)({},h[E]),{},{multisig:m.multisig,bip32Path:m.bip32Path,change:m.change}));if(f=f.plus(m.balanceSats),!A){var g=Object(c.estimateMultisigTransactionFee)(Object(a.a)(Object(a.a)({},e),{},{numInputs:p.length,numOutputs:r.length})),v=Object(c.estimateMultisigTransactionFee)(Object(a.a)(Object(a.a)({},e),{},{numInputs:p.length,numOutputs:r.length+1})),y=f.minus(d);if(y.minus(g).isLessThanOrEqualTo(o.d)&&y.minus(g).isGreaterThanOrEqualTo(0)){t=!1;break}if(y.isGreaterThan(v)){t=!0;break}}}return[p,t]}},353:function(e,t,n){e.exports={qrPlayerContainer:"QR_qrPlayerContainer__1TpuJ",qrPlayerTitle:"QR_qrPlayerTitle__2UUA9",qrPlayerCodeContainer:"QR_qrPlayerCodeContainer__1PDkJ",qrScannerContainer:"QR_qrScannerContainer__2DQm4"}},411:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(7),r=n.n(a),i={c:r.a.arrayOf(r.a.number).isRequired,e:r.a.number.isRequired,s:r.a.number.isRequired}},412:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return T}));var a=n(10),r=n.n(a),i=n(16),c=n(11),o=n(14),s=n(13),u=n(0),l=n.n(u),d=n(7),p=n.n(d),f=n(1070),A=n.n(f),b=n(100),m=n(710),h=n(199),E=n(293),g=n(126),v=n(1761),y=n(5),P=n(424),S=n.n(P),I=function(t){Object(o.a)(a,t);var n=Object(s.a)(a);function a(t){var o;return Object(c.a)(this,a),(o=n.call(this,t)).render=function(){var e=o.props,t=e.maxFileSize,n=e.validFileFormats,a=e.extendedPublicKeyImporter,r=e.handleBIP32PathChange,i=e.resetBIP32Path,c=e.bip32PathIsDefault,s=e.hasError,u=e.errorMessage,d=e.isTest,p=o.state.fileType;return l.a.createElement(b.a,{container:!0,direction:"column"},"JSON"===p&&!d&&l.a.createElement(b.a,{container:!0},l.a.createElement(b.a,{item:!0,md:6},l.a.createElement(m.a,{label:"BIP32 Path",value:a.bip32Path,onChange:r,error:s,helperText:u})),l.a.createElement(b.a,{item:!0,md:6},!c()&&l.a.createElement(h.a,{type:"button",variant:"contained",size:"small",onClick:i},"Default")),l.a.createElement(E.a,null,"Use the default value if you don\u2019t understand BIP32 paths.")),l.a.createElement("p",null,"When you are ready, upload the ",p," file from your Coldcard:"),l.a.createElement(g.a,null,l.a.createElement(A.a,{className:s?S.a.dropzoneDull:S.a.dropzone,onDrop:o.onDrop,multiple:!1,minSize:1,maxSize:t,accept:n,disableClick:s},l.a.createElement(v.a,{classes:{root:S.a.uploadIcon}}),l.a.createElement("p",{className:S.a.instruction},"JSON"===p?"Upload The XPUB":"Upload Signed PSBT"))))},o.singleAcceptedFile=function(e,t){return 0===t.length&&1===e.length},o.onDrop=function(){var t=Object(i.a)(r.a.mark((function t(n,a){var i,c,s,u,l,d,p,f,A;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o.props,c=i.onReceive,s=i.onReceivePSBT,u=i.setError,l=i.hasError,d=o.state.fileType,!l){t.next=4;break}return t.abrupt("return");case 4:if(!o.singleAcceptedFile(n,a)){t.next=29;break}if(p=n[0],"JSON"!==d){t.next=14;break}return t.t0=c,t.next=10,p.text();case 10:t.t1=t.sent,(0,t.t0)(t.t1),t.next=27;break;case 14:return t.next=16,p.arrayBuffer();case 16:if(f=t.sent,!(A=e.from(f).toString("hex")).startsWith(y.PSBT_MAGIC_HEX)){t.next=22;break}s(A),t.next=27;break;case 22:return t.t2=s,t.next=25,p.text();case 25:t.t3=t.sent,(0,t.t2)(t.t3);case 27:t.next=30;break;case 29:1===a.length?u("The file you attempted to upload was unacceptable. File type must be .".concat(d.toLowerCase(),".")):a.length>1&&u("This dropzone only accepts a single file.");case 30:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),o.state={fileType:t.fileType||"JSON"},o}return a}(u.Component);I.defaultProps={onReceive:null,onReceivePSBT:null,handleBIP32PathChange:null,resetBIP32Path:null,bip32PathIsDefault:null,errorMessage:"",hasError:p.a.bool,maxFileSize:1048576,fileType:"JSON",validFileFormats:".json",extendedPublicKeyImporter:null,isTest:!1};var O=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return n}(I);O.defaultProps={fileType:"JSON",validFileFormats:".json"};var T=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return n}(I);T.defaultProps={fileType:"PSBT",validFileFormats:".psbt"}}).call(this,n(8).Buffer)},418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateFeeRate=function(e){var t;try{t=(0,r.default)(e)}catch(n){return"Invalid fee rate."}if(!t.isFinite())return"Invalid fee rate.";if(t.isLessThan(s.ZERO))return"Fee rate cannot be negative.";if(t.isGreaterThan(u))return"Fee rate is too high.";return""},t.validateFee=function(e,t){var n,a;try{n=(0,r.default)(e)}catch(i){return"Invalid fee."}if(!n.isFinite())return"Invalid fee.";try{a=(0,r.default)(t)}catch(i){return"Invalid total input amount."}if(!a.isFinite())return"Invalid total input amount.";if(n.isLessThan(s.ZERO))return"Fee cannot be negative.";if(a.isLessThanOrEqualTo(s.ZERO))return"Total input amount must be positive.";if(n.isGreaterThan(a))return"Fee is too high.";if(n.isGreaterThan(l))return"Fee is too high.";return""},t.estimateMultisigTransactionFeeRate=function(e){return(0,r.default)(e.feesInSatoshis).dividedBy(d(e))},t.estimateMultisigTransactionFee=function(e){return(0,r.default)(e.feesPerByteInSatoshis).multipliedBy(d(e))};var a,r=(a=n(252))&&a.__esModule?a:{default:a},i=n(297),c=n(201),o=n(202),s=n(253);var u=(0,r.default)(1e3),l=(0,r.default)(25e5);function d(e){switch(e.addressType){case i.P2SH:return(0,i.estimateMultisigP2SHTransactionVSize)(e);case c.P2SH_P2WSH:return(0,c.estimateMultisigP2SH_P2WSHTransactionVSize)(e);case o.P2WSH:return(0,o.estimateMultisigP2WSHTransactionVSize)(e);default:return null}}},424:function(e,t,n){e.exports={uploadIcon:"ColdcardFileReader_uploadIcon__1gKkv",instruction:"ColdcardFileReader_instruction__2JEz4",dropzone:"ColdcardFileReader_dropzone__32-R_",dropzoneDull:"ColdcardFileReader_dropzoneDull__2lJaF ColdcardFileReader_dropzone__32-R_",uploadContainer:"ColdcardFileReader_uploadContainer__3NUxc"}},456:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hardenedBIP32Index=function(e){return parseInt(e,10)+o},t.bip32PathToSequence=function(e){return e.split("/").splice(1).map((function(e){return"'"===e.substr(-1)?parseInt(e.slice(0,-1),10)+o:parseInt(e,10)}))},t.bip32SequenceToPath=function(e){return"m/"+e.map((function(e){return e>=o?"".concat(e-o,"'"):e.toString()})).join("/")},t.validateBIP32Path=A,t.validateBIP32Index=b,t.multisigBIP32Root=m,t.multisigBIP32Path=function(e,t,n){var a=m(e,t);if(a)return a+"/".concat(n||"0");return null},t.getParentBIP32Path=function(e){var t=A(e);return t.length?t:e.split("/").slice(0,-1).join("/")},t.getRelativeBIP32Path=function(e,t){if(e===t)return"";var n=A(e);if(n.length)return n;var a=A(t);return a.length?a:t.startsWith(e)?t.slice(e.length+1):"The provided bip32Path does not start with the chroot."},n(610),n(1244),n(1247),n(606),n(229),n(204),n(848);var a=n(179),r=n(297),i=n(201),c=n(202),o=Math.pow(2,31),s=/^(m\/)?(\d+'?\/)*\d+'?$/,u=/^(m\/)?(\d+'\/)*\d+'$/,l=/^(m\/)?(\d+\/)*\d+$/,d=/^\d+'?$/,p=Math.pow(2,31)-1,f=Math.pow(2,32)-1;function A(e,t){return null===e||void 0===e||""===e?"BIP32 path cannot be blank.":e.match(s)?t&&"hardened"===t.mode&&!e.match(u)?"BIP32 path must be fully-hardened.":t&&"unhardened"===t.mode&&!e.match(l)?"BIP32 path cannot include hardened segments.":function(e){for(var t=0;t<e.length;t++){var n=b(e[t]);if(""!==n)return n}return""}(e.toLowerCase().split("/").slice(1)):"BIP32 path is invalid."}function b(e,t){if(null===e||void 0===e||""===e)return"BIP32 index cannot be blank.";if(!e.match(d))return"BIP32 index is invalid.";var n,a;"'"===e.substr(e.length-1)?(n=e.substr(0,e.length-1),a=!0):(n=e,a=!1);var r=parseInt(n,10);return Number.isNaN(r)||r.toString().length!==n.length?"Invalid BIP32 index.":r>(a?p:f)?"BIP32 index is too high.":t&&"hardened"===t.mode&&!a&&r<=p?"BIP32 index must be hardened.":t&&"unhardened"===t.mode&&(a||r>p)?"BIP32 index cannot be hardened.":""}function m(e,t){var n=t===a.MAINNET?"0'":"1'";switch(e){case r.P2SH:return"m/45'/".concat(n,"/0'");case i.P2SH_P2WSH:return"m/48'/".concat(n,"/0'/1'");case c.P2WSH:return"m/48'/".concat(n,"/0'/2'");default:return null}}},5:function(e,t,n){"use strict";n(302),n(258),n(204),n(304),Object.defineProperty(t,"__esModule",{value:!0});var a=n(826);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var r=n(1233);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n(608);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var c=n(418);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var o=n(1256);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var s=n(614);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var u=n(849);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var l=n(262);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var d=n(179);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}));var p=n(854);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})}));var f=n(297);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}));var A=n(201);Object.keys(A).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return A[e]}})}));var b=n(202);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})}));var m=n(456);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})}));var h=n(855);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})}));var E=n(856);Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}})}));var g=n(857);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})}));var v=n(858);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})}));var y=n(253);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}})}))},547:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){var t=e.verifyCode;return r.a.createElement("div",null,r.a.createElement("p",null,'Touch the button "Import Multisig Wallet" on Keystone\n                          Wallet.'),r.a.createElement("p",null,"Wallet Verification Code:"," ",r.a.createElement("span",{style:{color:"#77c0c3"}},t,".")),r.a.createElement("p",null,"When importing, please check whether the verification code is consistent, import after ensuring consistency."))}},551:function(e,t,n){"use strict";var a=n(100),r=n(0),i=n.n(r),c=n(38),o=n(124),s=n(199),u=n(552),l=n(293),d=n(546),p=n.n(d),f=function(e){var t=e.progress;return i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("p",null," ",t," "))},A=n(353),b=n.n(A),m=function(e){var t=e.handleSuccess,n=e.handleStop,o=e.interaction,d=e.close,A=Object(r.useState)(0),m=Object(c.a)(A,2),h=m[0],E=m[1],g=Object(r.useState)(null),v=Object(c.a)(g,2),y=v[0],P=v[1];return i.a.createElement(u.a,{open:!0},i.a.createElement("div",{className:b.a.qrScannerContainer},i.a.createElement(a.a,{container:!0,direction:"column",alignItems:"center",justify:"center"},i.a.createElement(a.a,{item:!0},i.a.createElement(p.a,{delay:50,onError:function(e){P(e)},onScan:function(e){if(!y&&e)try{var n=o.parse(e),a=n.success,r=n.result,i=n.progress;a?(d(),t(r)):E(i)}catch(c){P(c)}},style:{width:400},facingMode:"user"}),i.a.createElement(f,{progress:h})),y&&i.a.createElement(a.a,{item:!0},i.a.createElement(l.a,{error:!0},y.message)),i.a.createElement(a.a,{item:!0,alignItems:"space-between"},y&&i.a.createElement(s.a,{variant:"contained",color:"primary",size:"small",onClick:function(){P(null),E(0)}},"Retry"),i.a.createElement(s.a,{variant:"contained",color:"secondary",size:"small",onClick:function(){d(),n()}},"Cancel")))))},h=function(e){var t=e.startText,n=e.disable,a=Object(o.a)(e,["startText","disable"]),u=Object(r.useState)(!1),l=Object(c.a)(u,2),d=l[0],p=l[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{variant:"contained",color:"primary",component:"span",disabled:n,onClick:function(){return p(!0)}},t),d&&i.a.createElement(m,Object.assign({},a,{close:function(){return p(!1)}})))};h.defaultProps={disable:!1};var E=h,g=n(1072),v=function(e){var t=e.shouldShowFileReader,n=e.fileType,r=e.fileStartText,c=e.qrStartText,o=e.interaction,s=e.handleError,u=e.handleSuccess,l=e.handleStop,d=e.disable;return i.a.createElement(i.a.Fragment,null,i.a.createElement(a.a,{item:!0},i.a.createElement(E,{startText:c,interaction:o,handleError:s,handleSuccess:u,handleStop:l,disable:d})),t&&i.a.createElement(a.a,{item:!0},i.a.createElement(g.a,{startText:r,interaction:o,handleSuccess:u,handleError:s,fileType:n,disable:d})))};v.defaultProps={shouldShowFileReader:!1,fileType:"json",fileStartText:"",qrStartText:"",handleError:function(){},handleStop:function(){},handleSuccess:function(){},disable:!1};t.a=v},57:function(e,t,n){"use strict";var a=n(11),r=n(14),i=n(13),c=n(0),o=n.n(c),s=n(6),u=n(726),l=n(1089),d=n(1745),p=n(708),f=n(126),A=n(135),b=n(244),m=n(1765),h=n(1755),E=n(1758),g=n(1759),v=n(1760),y=(n(1726),function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).render=function(){var t=e.props.messages;return o.a.createElement(u.a,{style:{maxHeight:"400px",overflow:"auto"},dense:!0},t.map(e.renderMessage))},e.renderMessage=function(t,n){return o.a.createElement(l.a,{key:n},t.level&&o.a.createElement(d.a,null,e.messageIcon(t)),o.a.createElement(p.a,null,e.renderMessageBodyAndSubmessages(t)))},e.renderMessageBodyAndSubmessages=function(t){return o.a.createElement(f.a,null,e.renderMessageBody(t),t.messages&&o.a.createElement(u.a,{dense:!0},t.messages.map(e.renderMessage)))},e.renderMessageBody=function(e){return o.a.createElement(f.a,null,e.image&&o.a.createElement(f.a,{align:"center"},o.a.createElement("img",{className:"InteractionMessages-image",src:"data:".concat(e.image.mimeType,";base64, ").concat(e.image.data),alt:e.image.label})),o.a.createElement("p",null,e.text))},e.messageIcon=function(e){switch(e.level){case s.INFO:return o.a.createElement(E.a,null);case s.WARNING:return o.a.createElement(g.a,null);case s.ERROR:return o.a.createElement(v.a,null);default:return null}},e}return n}(o.a.Component)),P=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).render=function(){var t=e.props,n=t.version,a=t.currentVersion;return o.a.createElement(f.a,{role:"tabpanel",hidden:n!==a,id:"interactionMessages-tabpanel-".concat(n),"aria-labelledby":"interactionMessages-tab-".concat(n)},n===a&&o.a.createElement(y,{messages:e.filteredMessages()}))},e.filteredMessages=function(){var t=e.props,n=t.messages,a=t.version;return n.filter((function(e){return!e.version||e.version===a}))},e}return n}(o.a.Component),S=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).render=function(){var e=r.filteredMessages(),t=e.messages,n=e.versions,a=r.currentVersion(n);return n.length<2?o.a.createElement(y,{messages:t}):o.a.createElement(f.a,null,o.a.createElement(A.a,{variant:"h6"},"Model"),o.a.createElement(b.a,{square:!0},o.a.createElement(m.a,{value:a,onChange:r.handleChange,"aria-label":"interactionMessages-version"},n.map((function(e){return o.a.createElement(h.a,{key:e,value:e,label:e,id:"interactionMessages-tab-".concat(e),"aria-controls":"interactionMessages-tabpanel-".concat(e)})})))),n.map((function(e){return o.a.createElement(P,{key:e,version:e,currentVersion:a,messages:t})})))},r.currentVersion=function(e){var t=r.state.currentVersion;return t||e[e.length-1]},r.handleChange=function(e,t){r.setState({currentVersion:t})},r.filteredMessages=function(){var e=r.props,t=e.messages,n=e.excludeCodes,a=[],i=[];return t.forEach((function(e){for(var t=0;t<n.length;t+=1){var r=n[t];if((e.code||"").includes(r))return}a.push(e),e.version&&!i.includes(e.version)&&i.push(e.version)})),{versions:i,messages:a}},r.state={currentVersion:""},r}return n}(o.a.Component);S.defaultProps={messages:[],excludeCodes:[]},t.a=S},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={VERSION:!0,MULTISIG_ROOT:!0,DIRECT_KEYSTORES:!0,INDIRECT_KEYSTORES:!0,KEYSTORES:!0,GetMetadata:!0,ExportPublicKey:!0,ExportExtendedPublicKey:!0,SignMultisigTransaction:!0,ConfirmMultisigAddress:!0,ConfigAdapter:!0};t.GetMetadata=function(e){switch(e.keystore){case u.LEDGER:return new u.LedgerGetMetadata;case l.TREZOR:return new l.TrezorGetMetadata;default:return new i.UnsupportedInteraction({code:"unsupported",text:"This keystore does not return a version."})}},t.ExportPublicKey=function(e){var t=e.keystore,n=e.network,a=e.bip32Path,r=e.includeXFP;switch(t){case c.COLDCARD:return new c.ColdcardExportPublicKey({network:n,bip32Path:a,includeXFP:r});case s.HERMIT:return new s.HermitExportPublicKey({bip32Path:a});case u.LEDGER:return new u.LedgerExportPublicKey({bip32Path:a,includeXFP:r});case l.TREZOR:return new l.TrezorExportPublicKey({network:n,bip32Path:a,includeXFP:r});default:return new i.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when exporting public keys."})}},t.ExportExtendedPublicKey=function(e){var t=e.keystore,n=e.network,a=e.bip32Path,r=e.includeXFP;switch(t){case c.COLDCARD:return new c.ColdcardExportExtendedPublicKey({bip32Path:a,network:n,includeXFP:r});case o.CUSTOM:return new o.CustomExportExtendedPublicKey({bip32Path:a,network:n,includeXFP:r});case s.HERMIT:return new s.HermitExportExtendedPublicKey({bip32Path:a});case u.LEDGER:return new u.LedgerExportExtendedPublicKey({bip32Path:a,network:n,includeXFP:r});case l.TREZOR:return new l.TrezorExportExtendedPublicKey({bip32Path:a,network:n,includeXFP:r});case d.KEYSTONE:return new d.KeystoneExportExtendedPublicKey({bip32Path:a,network:n,includeXFP:r});default:return new i.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when exporting extended public keys."})}},t.SignMultisigTransaction=function(e){var t=e.keystore,n=e.network,a=e.inputs,r=e.outputs,p=e.bip32Paths,f=e.psbt;switch(t){case c.COLDCARD:return new c.ColdcardSignMultisigTransaction({network:n,inputs:a,outputs:r,bip32Paths:p,psbt:f});case o.CUSTOM:return new o.CustomSignMultisigTransaction({network:n,inputs:a,outputs:r,bip32Paths:p,psbt:f});case s.HERMIT:return new s.HermitSignTransaction({inputs:a,outputs:r,bip32Paths:p});case u.LEDGER:return new u.LedgerSignMultisigTransaction({network:n,inputs:a,outputs:r,bip32Paths:p});case l.TREZOR:return new l.TrezorSignMultisigTransaction({network:n,inputs:a,outputs:r,bip32Paths:p});case d.KEYSTONE:return new d.KeystoneSignMultisigTransaction({network:n,inputs:a,outputs:r,bip32Paths:p,psbt:f});default:return new i.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when signing multisig transactions."})}},t.ConfirmMultisigAddress=function(e){var t=e.keystore,n=e.network,a=e.bip32Path,r=e.multisig,c=e.publicKey;switch(t){case l.TREZOR:return new l.TrezorConfirmMultisigAddress({network:n,bip32Path:a,multisig:r,publicKey:c});default:return new i.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when confirming multisig addresses."})}},t.ConfigAdapter=function(e){var t=e.KEYSTORE,n=e.jsonConfig;switch(t){case c.COLDCARD:return new c.ColdcardMultisigWalletConfig({jsonConfig:n});default:return new i.UnsupportedInteraction({code:"unsupported",text:"This keystore is not supported when translating external spend configuration files."})}},t.KEYSTORES=t.INDIRECT_KEYSTORES=t.DIRECT_KEYSTORES=t.MULTISIG_ROOT=t.VERSION=void 0,n(457),n(269),n(377),n(378),n(127),n(141),n(128),n(93),n(160),n(236);var r=n(1268),i=n(270);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var c=n(1276);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var o=n(1374);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=n(1375);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var u=n(1387);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var l=n(1444);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var d=n(1506);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var A=r.version;t.VERSION=A;t.MULTISIG_ROOT="m/45'";var b={TREZOR:l.TREZOR,LEDGER:u.LEDGER};t.DIRECT_KEYSTORES=b;var m={HERMIT:s.HERMIT,COLDCARD:c.COLDCARD,CUSTOM:o.CUSTOM,KEYSTONE:d.KEYSTONE};t.INDIRECT_KEYSTORES=m;var h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b,{},m);t.KEYSTORES=h},608:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.braidConfig=E,t.braidNetwork=g,t.braidAddressType=v,t.braidExtendedPublicKeys=y,t.braidRequiredSigners=P,t.braidIndex=S,t.validateBip32PathForBraid=I,t.generatePublicKeysAtPath=T,t.generatePublicKeysAtIndex=function(e,t){var n=S(e);return n+="/"+t.toString(),T(e,n)},t.generateBip32DerivationByPath=w,t.generateBip32DerivationByIndex=function(e,t){var n=S(e);return n+="/"+t.toString(),w(e,n)},t.deriveMultisigByPath=x,t.deriveMultisigByIndex=function(e,t){var n=S(e);return n+="/"+t.toString(),x(e,n)},t.generateBraid=function(e,t,n,a,r){return new h({network:e,addressType:t,extendedPublicKeys:n,requiredSigners:a,index:r})},t.Braid=void 0,n(451),n(609),n(452),n(369),n(839),n(840),n(842),n(229),n(610),n(1239),n(611),n(846),n(302),n(258),n(204),n(304);var a,r=n(578),i=(a=n(207))&&a.__esModule?a:{default:a},c=n(456),o=n(179),s=n(262),u=n(849);function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(l,e);var t,n,a,r=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=m(e);if(t()){var r=m(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return A(this,n)}}(l);function l(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=r.call(this),!e||!Object.keys(e).length)return A(t,b(t));(0,i.default)(Object.values(s.MULTISIG_ADDRESS_TYPES).includes(e.addressType),"Expected addressType to be one of:  ".concat(Object.values(s.MULTISIG_ADDRESS_TYPES),". You sent ").concat(e.addressType)),t.addressType=e.addressType,(0,i.default)(Object.values(o.NETWORKS).includes(e.network),"Expected network to be one of:  ".concat(o.NETWORKS,".")),t.network=e.network,e.extendedPublicKeys.forEach((function(e){var n=(0,u.validateExtendedPublicKey)("string"===typeof e?e:e.base58String,t.network);(0,i.default)(!n.length,n)})),t.extendedPublicKeys=e.extendedPublicKeys,(0,i.default)("number"===typeof e.requiredSigners),(0,i.default)(e.requiredSigners<=t.extendedPublicKeys.length,"Can't have more requiredSigners than there are keys."),t.requiredSigners=e.requiredSigners;var n=(0,c.validateBIP32Index)(e.index,{mode:"unhardened"});return(0,i.default)(!n.length,n),t.index=e.index,t.sequence=(0,c.bip32PathToSequence)(t.index),t}return t=l,a=[{key:"fromData",value:function(e){return new this(e)}}],(n=null)&&p(t.prototype,n),a&&p(t,a),l}(r.Struct);function E(e){return JSON.stringify({network:e.network,addressType:e.addressType,extendedPublicKeys:e.extendedPublicKeys,requiredSigners:e.requiredSigners,index:e.index})}function g(e){return e.network}function v(e){return e.addressType}function y(e){return e.extendedPublicKeys}function P(e){return e.requiredSigners}function S(e){return e.index}function I(e,t){var n=(0,c.validateBIP32Path)(t);(0,i.default)(!n.length,n);var a=t.startsWith("m/")||t.startsWith("/")?t:"/"+t,r=(0,c.bip32PathToSequence)(a);(0,i.default)(r[0].toString()===e.index,"Cannot derive paths outside of the braid's index: ".concat(e.index))}function O(t,n){I(t,n);var a={},r=n.startsWith("m/")?n.slice(2):n;return y(t).forEach((function(i){var c=i.path+"/"+r,o=(0,u.deriveChildPublicKey)("string"===typeof i?i:i.base58String,n,g(t)),s=(0,u.extendedPublicKeyRootFingerprint)(i),l=s||"00000000";a[o]={masterFingerprint:e.from(l,"hex"),path:"m/".concat(c),pubkey:e.from(o,"hex")}})),a}function T(e,t){return Object.keys(O(e,t)).sort()}function w(e,t){return Object.values(O(e,t))}function x(e,t){return function(e,t,n){var a=s.generateMultisigFromPublicKeys.apply(void 0,[g(e),v(e),P(e)].concat(d(t)));return a.braidDetails=E(e),a.bip32Derivation=n,a}(e,T(e,t),w(e,t))}t.Braid=h}).call(this,n(8).Buffer)},61:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"getTotalBalance",(function(){return A})),n.d(t,"getPendingBalance",(function(){return b})),n.d(t,"getConfirmedBalance",(function(){return m})),n.d(t,"getSlicesWithLastUsed",(function(){return h})),n.d(t,"getSpendableSlices",(function(){return E})),n.d(t,"getSpentSlices",(function(){return g})),n.d(t,"getSlicesWithBalance",(function(){return v})),n.d(t,"getZeroBalanceSlices",(function(){return y})),n.d(t,"getUnknownAddressSlices",(function(){return P})),n.d(t,"getUnknownAddresses",(function(){return S})),n.d(t,"getDepositableSlices",(function(){return I})),n.d(t,"getWalletDetailsText",(function(){return O})),n.d(t,"getKeystoneWalletVerifyCode",(function(){return T})),n.d(t,"getKeystoneExistence",(function(){return w}));var a=n(2),r=n(42),i=n(116),c=n(5),o=n(1060),s=function(e){return Object.values(e.wallet.deposits.nodes)},u=function(e){return[].concat(Object(r.a)(Object.values(e.wallet.deposits.nodes)),Object(r.a)(Object.values(e.wallet.change.nodes)))},l=function(e){return e.settings.addressType},d=function(e){return e.settings.totalSigners},p=function(e){return e.settings.requiredSigners},f=function(e,t){var n=e.quorum.extendedPublicKeyImporters[t],a="text"===n.method?"Unknown (make sure you have written this down previously!)":n.bip32Path,r="Unknown"===n.rootXfp?"00000000":n.rootXfp;return"unknown"===n.method?'    {\n        "name": "'.concat(n.name,'",\n        "bip32Path": "').concat(a,'",\n        "xpub": "').concat(n.extendedPublicKey,'",\n        "xfp" : "').concat(r,'"\n        }'):'    {\n        "name": "'.concat(n.name,'",\n        "bip32Path": "').concat(a,'",\n        "xpub": "').concat(n.extendedPublicKey,'",\n        "xfp" : "').concat(r,'",\n        "method": "').concat(n.method,'"\n      }')},A=Object(i.a)(u,(function(e){return e.reduce((function(e,t){return e+t.utxos.reduce((function(e,t){return e+parseInt(t.amountSats,10)}),0)}),0)})),b=Object(i.a)(s,(function(e){return e.reduce((function(e,t){return t.utxos.length?t.utxos.reduce((function(e,t){return t.confirmed?e:e+parseInt(t.amountSats,10)}),0)+e:e}),0)})),m=Object(i.a)([A,b],(function(e,t){return e-t})),h=Object(i.a)(u,(function(e){return e.map((function(e){if(!e.utxos.length&&e.addressUsed)return Object(a.a)(Object(a.a)({},e),{},{lastUsed:"Spent"});if(!e.utxos.length&&e.balanceSats.isEqualTo(0))return e;var t=Math.max.apply(Math,Object(r.a)(e.utxos.map((function(e){return e.time}))));return Number.isNaN(t)||e.balanceSats.isGreaterThan(0)&&!e.utxos.length?Object(a.a)(Object(a.a)({},e),{},{lastUsed:"Pending"}):Object(a.a)(Object(a.a)({},e),{},{lastUsed:new Date(1e3*t).toLocaleDateString(),lastUsedTime:t})}))})),E=Object(i.a)(h,(function(e){return e.filter((function(e){return("Pending"!==e.lastUsed||e.change)&&"Spent"!==e.lastUsed&&e.utxos.length}))})),g=Object(i.a)(h,(function(e){return e.filter((function(e){return e.addressUsed&&e.balanceSats.isEqualTo(0)}))})),v=Object(i.a)(h,(function(e){return e.filter((function(e){return e.balanceSats.isGreaterThan(0)}))})),y=Object(i.a)(h,(function(e){return e.filter((function(e){return e.balanceSats.isEqualTo(0)&&!e.addressUsed}))})),P=Object(i.a)(u,(function(e){return e.filter((function(e){return!e.addressKnown}))})),S=Object(i.a)([u,P],(function(e){return e.map((function(e){return e.multisig.address}))})),I=Object(i.a)(s,(function(e){return e.filter((function(e){return e.balanceSats.isEqualTo(0)&&!e.addressUsed}))})),O=Object(i.a)([function(e){return e.wallet.common.walletName},l,function(e){return e.settings.network},function(e){return"private"===e.client.type?'{\n    "type": "private",\n    "url": "'.concat(e.client.url,'",\n    "username": "').concat(e.client.username,'"\n  }'):'{\n    "type": "public"\n  }'},p,d,function(e){for(var t=d(e),n=[],a=1;a<=t;a+=1)n.push("".concat(f(e,a)).concat(a<t?",":""));return n.join("\n")},function(e){return e.settings.startingAddressIndex}],(function(e,t,n,a,r,i,c,o){return'{\n  "name": "'.concat(e,'",\n  "addressType": "').concat(t,'",\n  "network": "').concat(n,'",\n  "client":  ').concat(a,',\n  "quorum": {\n    "requiredSigners": ').concat(r,',\n    "totalSigners": ').concat(i,'\n  },\n  "extendedPublicKeys": [\n    ').concat(c,'\n  ],\n  "startingAddressIndex": ').concat(o,"\n}")})),T=Object(i.a)([function(e){var t=e.quorum.extendedPublicKeyImporters;return Object.values(t).map((function(e){return e.extendedPublicKey}))},function(e){return e.quorum.defaultBIP32Path},p,l],(function(t,n,a,r){var i=n;"P2SH"===r&&(i="m/45'");try{var s=t.length,u="".concat(t.map((function(e){return Object(c.convertExtendedPublicKey)(e,"xpub")})).sort().reduce((function(e,t){return"".concat(e," ").concat(t)}),"")+a,"of").concat(s).concat(i).slice(1);return o.crypto.sha256(e.from(u,"utf-8")).toString("hex").toUpperCase().substring(0,8)}catch(l){return""}})),w=Object(i.a)([function(e){var t=e.quorum.extendedPublicKeyImporters;return Object.values(t).map((function(e){return e.method}))}],(function(e){return e.reduce((function(e,t){return e||"keystone"===t||"text"===t}),!1)}))}.call(this,n(8).Buffer)},614:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortInputs=function(e){return e.sort((function(e,t){return e.txid>t.txid?1:e.txid<t.txid||e.index<t.index?-1:1}))},t.validateMultisigInputs=function(e,t){if(!e||0===e.length)return"At least one input is required.";for(var n=[],a=0;a<e.length;a++){var c=e[a];if(t&&c.multisig&&!(0,r.multisigBraidDetails)(c.multisig))return"At least one input cannot be traced back to its set of extended public keys.";var o=i(c);if(o)return o;var s="".concat(c.txid,":").concat(c.index);if(n.includes(s))return"Duplicate input: ".concat(s);n.push(s)}return""},t.validateMultisigInput=i,t.validateTransactionID=c,t.validateTransactionIndex=o,n(611),n(842);var a=n(253),r=n(262);function i(e){if(!e.txid)return"Does not have a transaction ID ('txid') property.";var t=c(e.txid);return t||(0===e.index||e.index?(t=o(e.index))||(e.multisig?"":"Does not have a multisig object ('multisig') property."):"Does not have a transaction index ('index') property.")}function c(e){if(null===e||void 0===e||""===e)return"TXID cannot be blank.";var t=(0,a.validateHex)(e);return t?"TXID is invalid (".concat(t,")"):64!==e.length?"TXID is invalid (must be ".concat(64,"-characters)"):""}function o(e){if(null===e||void 0===e||""===e)return"Index cannot be blank.";var t=parseInt(e,10);return isFinite(t)?t<0?"Index cannot be negative.":"":"Index is invalid"}},693:function(e,t,n){},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c}));var a="caravan_config",r=20,i=5,c=1},826:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAddress=function(e,t){if(!e||""===e.trim())return"Address cannot be blank.";var n=t===i.TESTNET?"^(tb1|bcrt1|[mn2])":"^(bc1|[13])",a=e.match(c),o=n+(a?"[ac-hj-np-z02-9]+$":"[A-HJ-NP-Za-km-z1-9]+$");if(!e.match(o))return t===i.TESTNET?"Address must start with one of 'tb1', 'm', 'n', or '2' followed by letters or digits.":"Address must start with either of 'bc1', '1' or '3' followed by letters or digits.";return(0,r.default)(e)?"":"Address is invalid."},n(606);var a,r=(a=n(1232))&&a.__esModule?a:{default:a},i=n(179);var c=/^(tb|bc)/},849:function(e,t,n){"use strict";(function(e){n(451),n(1249),Object.defineProperty(t,"__esModule",{value:!0}),t.validatePrefix=I,t.validateRootFingerprint=O,t.convertExtendedPublicKey=function(t,n){try{var a=t.slice(0,4);I(n),I(a);var r=i.default.decode(t.trim()).slice(4),c=e.concat([e.from(S[n],"hex"),r]);return i.default.encode(c)}catch(o){throw new Error("Unable to convert extended public key: "+o.message)}},t.validateExtendedPublicKeyForNetwork=function(e,t){var n="'xpub'";t===l.TESTNET&&(n+=" or 'tpub'");var a=e.slice(0,4);if(!(t===l.MAINNET&&"xpub"===a||t===l.TESTNET&&"tpub"===a))return"Extended public key must begin with ".concat(n,".");return""},t.validateExtendedPublicKey=function(e,t){if(null===e||void 0===e||""===e)return"Extended public key cannot be blank.";var n=t===l.TESTNET?"tpub":"xpub",a="Extended public key must begin with '".concat(n,"'.");if(e.length<4)return a;if(e.slice(0,4)!==n)return a;if(e.length<111)return"Extended public key is too short.";try{T.fromBase58(e)}catch(r){return"Invalid extended public key."}return""},t.validatePublicKey=w,t.compressPublicKey=x,t.deriveChildPublicKey=function e(t,n,a){if("m/"===n.slice(0,2))return e(t,n.slice(2),a);var i=r.fromBase58(t,(0,l.networkData)(a)).derivePath(n);return(0,s.toHexString)(i.publicKey)},t.deriveChildExtendedPublicKey=function e(t,n,a){if("m/"===n.slice(0,2))return e(t,n.slice(2),a);return r.fromBase58(t,(0,l.networkData)(a)).derivePath(n).toBase58()},t.isKeyCompressed=C,t.getFingerprintFromPublicKey=function(t){var n=t;C(t)||(n=x(t));var a=e.from(n,"hex"),r=(0,s.hash160)(a);return(r[0]<<24|r[1]<<16|r[2]<<8|r[3])>>>0},t.fingerprintToFixedLengthHex=function(e){return(e+4294967296).toString(16).substr(-8)},t.extendedPublicKeyRootFingerprint=function(e){return e.rootFingerprint?e.rootFingerprint:null},t.deriveExtendedPublicKey=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.MAINNET,i=new T({path:e,pubkey:t,chaincode:n,parentFingerprint:a,network:r});return i.toBase58()},t.ExtendedPublicKey=t.EXTENDED_PUBLIC_KEY_VERSIONS=void 0,n(452),n(369),n(1255),n(839),n(840),n(229),n(611),n(846),n(848),n(302),n(258),n(204),n(304);var a=n(231),r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==b(e)&&"function"!==typeof e)return{default:e};var t=A();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}n.default=e,t&&t.set(e,n);return n}(n(797)),i=f(n(301)),c=n(578),o=f(n(207)),s=n(253),u=n(456),l=n(179),d=n(201),p=n(202);function f(e){return e&&e.__esModule?e:{default:e}}function A(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return A=function(){return e},e}function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,n){return(h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(a){var r=Object.getOwnPropertyDescriptor(a,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==b(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S={xpub:"0488b21e",ypub:"049d7cb2",zpub:"04b24746",Ypub:"0295b43f",Zpub:"02aa7ed3",tpub:"043587cf",upub:"044a5262",vpub:"045f1cf6",Upub:"024289ef",Vpub:"02575483"};function I(e){if(!S[e])throw new Error('Invalid prefix "'.concat(e,'" for extended public key.'));return null}function O(e){(0,o.default)("string"===typeof e,"Root fingerprint must be a string."),(0,o.default)(8===e.length,"Expected hex value of length 8");var t=(0,s.validateHex)(e);(0,o.default)(!t.length,"Root fingerprint must be valid hex")}t.EXTENDED_PUBLIC_KEY_VERSIONS=S;var T=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(c,e);var t,n,a,r=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=y(e);if(t()){var r=y(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g(this,n)}}(c);function c(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),P(v(t=r.call(this)),"path",void 0),P(v(t),"sequence",void 0),P(v(t),"index",void 0),P(v(t),"depth",void 0),P(v(t),"chaincode",void 0),P(v(t),"pubkey",void 0),P(v(t),"parentFingerprint",void 0),P(v(t),"network",void 0),P(v(t),"version",void 0),P(v(t),"rootFingerprint",void 0),P(v(t),"base58String",void 0),!e||!Object.keys(e).length)return g(t,v(t));if(e.path){var n=(0,u.validateBIP32Path)(e.path);(0,o.default)(!n.length,n),t.path=e.path,t.sequence=(0,u.bip32PathToSequence)(t.path),t.index=t.sequence[t.sequence.length-1],t.depth=t.path.split("/").length-1}else(0,o.default)(void 0!==e.depth&&void 0!==e.index&&e.depth>=0&&e.index>=0,"Either an absolute bip32 path or index and depth are required to create ExtendedPublicKey"),t.depth=e.depth,t.index=e.index;(0,o.default)(e.pubkey,"pubkey required to create ExtendedPublicKey");var a=w(e.pubkey);(0,o.default)(!a.length,a),t.pubkey=C(e.pubkey)?e.pubkey:x(e.pubkey),(0,o.default)(e.chaincode&&64===e.chaincode.length,"xpub derivation requires 32-byte chaincode");var i=(0,s.validateHex)(e.chaincode);return(0,o.default)(!i.length,i),t.chaincode=e.chaincode,(0,o.default)("number"===typeof e.parentFingerprint),t.parentFingerprint=e.parentFingerprint,e.network?((0,o.default)([l.MAINNET,l.TESTNET].includes(e.network),"Expected network to be one of ".concat(l.MAINNET," or ").concat(l.TESTNET,".")),t.network=e.network):t.network=l.MAINNET,t.version=t.network===l.MAINNET?S.xpub:S.tpub,e.rootFingerprint&&(O(e.rootFingerprint),t.rootFingerprint=e.rootFingerprint),t.base58String=t.toBase58(),t}return t=c,a=[{key:"fromBase58",value:function(e){return c.decode(i.default.decode(e))}},{key:"decode",value:function(e,t){return h(y(c),"decode",this).call(this,e,t)}}],(n=[{key:"write",value:function(e){e.writeString(this.version,"hex"),e.writeU8(this.depth),e.writeU32BE(this.parentFingerprint),e.writeU32BE(this.index),e.writeString(this.chaincode,"hex"),e.writeString(this.pubkey,"hex")}},{key:"setNetwork",value:function(e){(0,o.default)([l.MAINNET,l.TESTNET].includes(e),"Expected network to be one of ".concat(l.MAINNET," or ").concat(l.TESTNET,".")),this.network=e,this.version=this.network===l.MAINNET?S.xpub:S.tpub}},{key:"setBip32Path",value:function(e){var t=(0,u.validateBIP32Path)(e);(0,o.default)(!t.length,t),this.path=e}},{key:"setRootFingerprint",value:function(e){O(e),this.rootFingerprint=e}},{key:"encode",value:function(e){return h(y(c.prototype),"encode",this).call(this,e)}},{key:"toBase58",value:function(){return i.default.encode(this.encode())}},{key:"addBase58String",value:function(){this.base58String=this.toBase58()}},{key:"read",value:function(e){return this.version=e.readString(4,"hex"),this.depth=e.readU8(),this.parentFingerprint=e.readU32BE(),this.index=e.readU32BE(),this.chaincode=e.readString(32,"hex"),this.pubkey=e.readString(33,"hex"),this.base58String=this.toBase58(),this}}])&&m(t.prototype,n),a&&m(t,a),c}(c.Struct);function w(t,n){if(null===t||void 0===t||""===t)return"Public key cannot be blank.";var r=(0,s.validateHex)(t);if(""!==r)return r;try{a.ECPair.fromPublicKey(e.from(t,"hex"))}catch(i){return"Invalid public key."}return!C(t)&&n&&[d.P2SH_P2WSH,p.P2WSH].includes(n)?"".concat(n," does not support uncompressed public keys."):""}function x(t){var n=e.from(t,"hex"),a=0!==(1&n[64])?3:2,r=e.alloc(1);return r[0]=a,e.concat([r,n.slice(1,33)]).toString("hex")}function C(t){var n=t;return e.isBuffer(t)||(n=e.from(t,"hex")),33===n.length&&(2===n[0]||3===n[0])}t.ExtendedPublicKey=T}).call(this,n(8).Buffer)},854:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateOutputs=function(e,t,n){if(!t||0===t.length)return"At least one output is required.";for(var a=0;a<t.length;a++){var r=t[a],i=o(e,r,n);if(i)return i}return""},t.validateOutput=o,t.validateOutputAmount=u;var a,r=(a=n(252))&&a.__esModule?a:{default:a},i=n(253),c=n(826);function o(e,t,n){if(0!==t.amountSats&&!t.amountSats)return"Does not have an 'amountSats' property.";var a=u(t.amountSats,n);return a||(t.address?(a=(0,c.validateAddress)(t.address,e))?"Has an invalid 'address' property: ".concat(a,"."):"":"Does not have an 'address' property.")}var s=(0,r.default)(546);function u(e,t){var n,a;try{n=(0,r.default)(e)}catch(c){return"Invalid output amount."}if(!n.isFinite())return"Invalid output amount.";if(n.isLessThanOrEqualTo(i.ZERO))return"Output amount must be positive.";if(n.isLessThanOrEqualTo(s))return"Output amount is too small.";if(void 0!==t){try{a=(0,r.default)(t)}catch(c){return"Invalid total input amount."}if(!a.isFinite())return"Invalid total input amount.";if(a.isLessThanOrEqualTo(i.ZERO))return"Total input amount must be positive.";if(n.isGreaterThan(a))return"Output amount is too large."}return""}},855:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.autoLoadPSBT=E,t.psbtInputFormatter=function(t){var n=function(e){return r.Transaction.fromHex(e.transactionHex).outs[e.index]}(t),a=e.from(t.transactionHex,"hex"),i=null!==(0,o.multisigWitnessScript)(t.multisig)?{witnessUtxo:n}:{nonWitnessUtxo:a},c=v(t.multisig),u=function(e){var t=e.bip32Path?(0,s.bip32PathToSequence)(e.bip32Path).slice(-1)[0]:0;return g(e.multisig,t)}(t);return m(m(m({hash:t.txid,index:t.index},i),c),{},{bip32Derivation:u})},t.psbtOutputFormatter=function(e){var t={},n=[];if(e.multisig)return t=v(e.multisig),n=function(e){return g(e.multisig)}(e),m(m({address:e.address,value:(0,u.default)(e.amountSats).toNumber()},t),{},{bip32Derivation:n});return m({address:e.address,value:(0,u.default)(e.amountSats).toNumber()},e)},t.translatePSBT=function(e,t,n,a){if(t!==l.P2SH)throw new Error("Unsupported addressType -- only P2SH is supported right now");var c=E(n,{network:(0,A.networkData)(e)});if(null===c)return null;var s=function(e,t){return e.data.inputs.map((function(e){var n=e.bip32Derivation.filter((function(e){return e.path.startsWith(t.path)&&e.masterFingerprint.toString("hex")===t.xfp}));if(!n.length)throw new Error("Signing key details not included in PSBT");return n[0]}))}(c,a),u=function(e,t,n){return n.txInputs.map((function(a,c){var s=n.data.inputs[c],u=s.nonWitnessUtxo.toString("hex"),l=r.Transaction.fromHex(u),d=(0,o.generateMultisigFromHex)(e,t,s.redeemScript.toString("hex"));return{amountSats:l.outs[a.index].value,index:a.index,transactionHex:u,txid:(0,i.reverseBuffer)(a.hash).toString("hex"),multisig:d}}))}(e,t,c),d=function(e){return e.txOutputs.map((function(e){return{address:e.address,amountSats:e.value}}))}(c);return{unchainedInputs:u,unchainedOutputs:d,bip32Derivations:s}},t.addSignaturesToPSBT=function(e,t,n,a){var r=E(t,{network:(0,A.networkData)(e)});return null===r?null:(a.forEach((function(e,t){var a=n[t];r=function(e,t,n,a){var r=[{pubkey:n,signature:a}];if(e.data.updateInput(t,{partialSig:r}),!e.validateSignaturesOfInput(t,n))throw new Error("One or more invalid signatures.");return e}(r,t,a,e)})),r.toBase64())},t.parseSignaturesFromPSBT=function(e){var t=E(e);if(null===t)return null;var n=t&&t.data&&t.data.inputs&&t.data.inputs[0]?t.data.inputs[0].partialSig:void 0,a=void 0===n?0:n.length,r={},i="",o=t.data.inputs;if(!(a>=1))return null;for(var s=0;s<o.length;s++)for(var u=0;u<a;u++)(i=(0,c.toHexString)(Array.prototype.slice.call(o[s].partialSig[u].pubkey)))in r?r[i].push(o[s].partialSig[u].signature.toString("hex")):r[i]=[o[s].partialSig[u].signature.toString("hex")];return r},t.PSBT_MAGIC_B64=t.PSBT_MAGIC_HEX=void 0,n(613),n(369),n(302),n(258),n(304),n(610),n(229),n(204);var a,r=n(231),i=n(365),c=n(253),o=n(262),s=n(456),u=(a=n(252))&&a.__esModule?a:{default:a},l=n(297),d=n(202),p=n(201),f=n(608),A=n(179);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.PSBT_MAGIC_HEX="70736274ff";function E(e,t){return"string"!==typeof e?null:"70736274ff"===e.substring(0,10)?r.Psbt.fromHex(e,t):"cHNidP8"===e.substring(0,7)?r.Psbt.fromBase64(e,t):null}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.bip32Derivation)return e.bip32Derivation;var n=JSON.parse((0,o.multisigBraidDetails)(e)),a=(0,f.generateBraid)(n.network,n.addressType,n.extendedPublicKeys,n.requiredSigners,n.index);return(0,f.generateBip32DerivationByIndex)(a,t)}function v(e){var t={};switch((0,o.multisigAddressType)(e)){case l.P2SH:t.redeemScript=(0,o.multisigRedeemScript)(e).output;break;case d.P2WSH:t.witnessScript=(0,o.multisigWitnessScript)(e).output;break;case p.P2SH_P2WSH:t.witnessScript=(0,o.multisigWitnessScript)(e).output,t.redeemScript=(0,o.multisigRedeemScript)(e).output}return t}t.PSBT_MAGIC_B64="cHNidP8"}).call(this,n(8).Buffer)},856:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scriptToOps=function(e){return a.script.toASM(e.output)},t.scriptToHex=function(e){return e.output.toString("hex")},n(229),n(204);var a=n(231)},857:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.validateMultisigSignature=function(t,n,l,p,f){for(var A=function(e,t,n,r){var l=(0,u.unsignedMultisigTransaction)(e,t,n),d=t[r];return(0,s.multisigAddressType)(d.multisig)===o.P2WSH||(0,s.multisigAddressType)(d.multisig)===c.P2SH_P2WSH?l.hashForWitnessV0(r,(0,s.multisigWitnessScript)(d.multisig).output,(0,a.default)(d.amountSats).toNumber(),i.Transaction.SIGHASH_ALL):l.hashForSignature(r,(0,s.multisigRedeemScript)(d.multisig).output,i.Transaction.SIGHASH_ALL)}(t,n,l,p),b=function(t){var n=e.from(t,"hex"),a=r.default.decode(n),i=a.r,c=a.s,o=i.byteLength>32?i.slice(1):i,s=e.alloc(64);return s.set(e.from(o),32-o.byteLength),s.set(e.from(c),64-c.byteLength),s}(d(f)),m=n[p],h=(0,s.multisigPublicKeys)(m.multisig),E=0;E<(0,s.multisigTotalSigners)(m.multisig);E++){var g=h[E],v=e.from(g,"hex");if(i.ECPair.fromPublicKey(v).verify(A,b))return g}return!1},t.signatureNoSighashType=d;var a=l(n(252)),r=l(n(593)),i=n(231),c=n(201),o=n(202),s=n(262),u=n(858);function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return parseInt(e.slice(2,4),16)===(e.length-4)/2?e:e.slice(0,-2)}}).call(this,n(8).Buffer)},858:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.unsignedMultisigTransaction=g,t.unsignedMultisigPSBT=function(e,t,n){var a=(0,d.validateMultisigInputs)(t,!0);(0,r.default)(!a.length,a);var o=(0,p.validateOutputs)(e,n);(0,r.default)(!o.length,o);var s=new i.Psbt({network:(0,c.networkData)(e)});s.setVersion(1);var u=t.map((function(e){return(0,A.psbtInputFormatter)(h({},e))}));s.addInputs(u);var l=n.map((function(e){return(0,A.psbtOutputFormatter)(h({},e))}));return s.addOutputs(l),s.txn=s.data.globalMap.unsignedTx.tx.toHex(),s},t.unsignedTransactionObjectFromPSBT=function(e){return i.Transaction.fromHex(e.txn)},t.signedMultisigTransaction=function(t,n,a,r){var c=g(t,n,a);if(!r||0===r.length)throw new Error("At least one transaction signature is required.");r.forEach((function(e,t){if(e.length<n.length)throw new Error("Insufficient input signatures for transaction signature ".concat(t+1,": require ").concat(n.length,", received ").concat(e.length,"."))}));for(var d=i.Transaction.fromHex(c.toHex()),p=function(c){var p=n[c],f=r.map((function(e){return e[c]})).filter((function(e){return Boolean(e)})),A=(0,u.multisigRequiredSigners)(p.multisig);if(f.length<A)throw new Error("Insufficient signatures for input  ".concat(c+1,": require ").concat(A,",  received ").concat(f.length,"."));var b={};f.forEach((function(e){var r;try{r=(0,l.validateMultisigSignature)(t,n,a,c,e)}catch(i){throw new Error("Invalid signature for input ".concat(c+1,": ").concat(e," (").concat(i,")"))}if(b[r])throw new Error("Duplicate signature for input ".concat(c+1,": ").concat(e));b[r]=e}));var m,h=(0,u.multisigPublicKeys)(p.multisig).map((function(e){return b[e]})).filter((function(e){return e?(0,l.signatureNoSighashType)(e):e}));if((0,u.multisigAddressType)(p.multisig)===s.P2WSH){var E=v(p.multisig,h);d.setWitness(c,E)}else if((0,u.multisigAddressType)(p.multisig)===o.P2SH_P2WSH){var g=v(p.multisig,h);d.setWitness(c,g);var y=(0,u.multisigRedeemScript)(p.multisig);d.ins[c].script=e.from([y.output.length].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(m=y.output)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()))}else{var P=function(t,n){var a=n.map((function(e){return"".concat((0,l.signatureNoSighashType)(e),"01")})).join(" "),r="OP_0 ".concat(a),c=i.script.fromASM(r),o=i.payments.p2ms({network:t.network,output:e.from((0,u.multisigRedeemScript)(t).output,"hex"),input:c});return(0,u.generateMultisigFromRaw)((0,u.multisigAddressType)(t),o)}(p.multisig,h);d.ins[c].script=P.input}},f=0;f<n.length;f++)p(f);return d},n(451),n(609),n(229),n(452),n(613),n(369),n(302),n(258),n(204),n(304);var a=b(n(252)),r=b(n(207)),i=n(231),c=n(179),o=n(201),s=n(202),u=n(262),l=n(857),d=n(614),p=n(854),f=n(856),A=n(855);function b(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t,n){var o=(0,d.validateMultisigInputs)(t);(0,r.default)(!o.length,o);var s=(0,p.validateOutputs)(e,n);(0,r.default)(!s.length,s);var u=new i.TransactionBuilder;u.setVersion(1),u.network=(0,c.networkData)(e);for(var l=0;l<t.length;l+=1){var f=t[l];u.addInput(f.txid,f.index)}for(var A=0;A<n.length;A+=1){var b=n[A];u.addOutput(b.address,(0,a.default)(b.amountSats).toNumber())}return u.buildIncomplete()}function v(t,n){var a=[""].concat(n.map((function(e){return(0,l.signatureNoSighashType)(e)+"01"}))),r=(0,u.multisigWitnessScript)(t);return a.push((0,f.scriptToHex)(r)),a.map((function(t){return e.from(t,"hex")}))}}).call(this,n(8).Buffer)}},[[1095,1,2]]]);
//# sourceMappingURL=main.245f591a.chunk.js.map